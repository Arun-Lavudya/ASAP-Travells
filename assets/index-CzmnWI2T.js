(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(a){if(a.ep)return;a.ep=!0;const c=o(a);fetch(a.href,c)}})();function rp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ml={exports:{}},jo={},Dl={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dd;function Zm(){if(dd)return me;dd=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),E=Symbol.iterator;function S(A){return A===null||typeof A!="object"?null:(A=E&&A[E]||A["@@iterator"],typeof A=="function"?A:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function R(A,C,ee){this.props=A,this.context=C,this.refs=D,this.updater=ee||w}R.prototype.isReactComponent={},R.prototype.setState=function(A,C){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,C,"setState")},R.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function F(){}F.prototype=R.prototype;function q(A,C,ee){this.props=A,this.context=C,this.refs=D,this.updater=ee||w}var b=q.prototype=new F;b.constructor=q,M(b,R.prototype),b.isPureReactComponent=!0;var z=Array.isArray,te=Object.prototype.hasOwnProperty,Y={current:null},Z={key:!0,ref:!0,__self:!0,__source:!0};function he(A,C,ee){var U,re={},ge=null,Te=null;if(C!=null)for(U in C.ref!==void 0&&(Te=C.ref),C.key!==void 0&&(ge=""+C.key),C)te.call(C,U)&&!Z.hasOwnProperty(U)&&(re[U]=C[U]);var Ce=arguments.length-2;if(Ce===1)re.children=ee;else if(1<Ce){for(var ke=Array(Ce),ct=0;ct<Ce;ct++)ke[ct]=arguments[ct+2];re.children=ke}if(A&&A.defaultProps)for(U in Ce=A.defaultProps,Ce)re[U]===void 0&&(re[U]=Ce[U]);return{$$typeof:t,type:A,key:ge,ref:Te,props:re,_owner:Y.current}}function W(A,C){return{$$typeof:t,type:A.type,key:C,ref:A.ref,props:A.props,_owner:A._owner}}function ce(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function ae(A){var C={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ee){return C[ee]})}var Ie=/\/+/g;function pe(A,C){return typeof A=="object"&&A!==null&&A.key!=null?ae(""+A.key):C.toString(36)}function ve(A,C,ee,U,re){var ge=typeof A;(ge==="undefined"||ge==="boolean")&&(A=null);var Te=!1;if(A===null)Te=!0;else switch(ge){case"string":case"number":Te=!0;break;case"object":switch(A.$$typeof){case t:case e:Te=!0}}if(Te)return Te=A,re=re(Te),A=U===""?"."+pe(Te,0):U,z(re)?(ee="",A!=null&&(ee=A.replace(Ie,"$&/")+"/"),ve(re,C,ee,"",function(ct){return ct})):re!=null&&(ce(re)&&(re=W(re,ee+(!re.key||Te&&Te.key===re.key?"":(""+re.key).replace(Ie,"$&/")+"/")+A)),C.push(re)),1;if(Te=0,U=U===""?".":U+":",z(A))for(var Ce=0;Ce<A.length;Ce++){ge=A[Ce];var ke=U+pe(ge,Ce);Te+=ve(ge,C,ee,ke,re)}else if(ke=S(A),typeof ke=="function")for(A=ke.call(A),Ce=0;!(ge=A.next()).done;)ge=ge.value,ke=U+pe(ge,Ce++),Te+=ve(ge,C,ee,ke,re);else if(ge==="object")throw C=String(A),Error("Objects are not valid as a React child (found: "+(C==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":C)+"). If you meant to render a collection of children, use an array instead.");return Te}function Je(A,C,ee){if(A==null)return A;var U=[],re=0;return ve(A,U,"","",function(ge){return C.call(ee,ge,re++)}),U}function _e(A){if(A._status===-1){var C=A._result;C=C(),C.then(function(ee){(A._status===0||A._status===-1)&&(A._status=1,A._result=ee)},function(ee){(A._status===0||A._status===-1)&&(A._status=2,A._result=ee)}),A._status===-1&&(A._status=0,A._result=C)}if(A._status===1)return A._result.default;throw A._result}var Ee={current:null},O={transition:null},ie={ReactCurrentDispatcher:Ee,ReactCurrentBatchConfig:O,ReactCurrentOwner:Y};function J(){throw Error("act(...) is not supported in production builds of React.")}return me.Children={map:Je,forEach:function(A,C,ee){Je(A,function(){C.apply(this,arguments)},ee)},count:function(A){var C=0;return Je(A,function(){C++}),C},toArray:function(A){return Je(A,function(C){return C})||[]},only:function(A){if(!ce(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},me.Component=R,me.Fragment=o,me.Profiler=a,me.PureComponent=q,me.StrictMode=i,me.Suspense=g,me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,me.act=J,me.cloneElement=function(A,C,ee){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var U=M({},A.props),re=A.key,ge=A.ref,Te=A._owner;if(C!=null){if(C.ref!==void 0&&(ge=C.ref,Te=Y.current),C.key!==void 0&&(re=""+C.key),A.type&&A.type.defaultProps)var Ce=A.type.defaultProps;for(ke in C)te.call(C,ke)&&!Z.hasOwnProperty(ke)&&(U[ke]=C[ke]===void 0&&Ce!==void 0?Ce[ke]:C[ke])}var ke=arguments.length-2;if(ke===1)U.children=ee;else if(1<ke){Ce=Array(ke);for(var ct=0;ct<ke;ct++)Ce[ct]=arguments[ct+2];U.children=Ce}return{$$typeof:t,type:A.type,key:re,ref:ge,props:U,_owner:Te}},me.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:c,_context:A},A.Consumer=A},me.createElement=he,me.createFactory=function(A){var C=he.bind(null,A);return C.type=A,C},me.createRef=function(){return{current:null}},me.forwardRef=function(A){return{$$typeof:p,render:A}},me.isValidElement=ce,me.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:_e}},me.memo=function(A,C){return{$$typeof:m,type:A,compare:C===void 0?null:C}},me.startTransition=function(A){var C=O.transition;O.transition={};try{A()}finally{O.transition=C}},me.unstable_act=J,me.useCallback=function(A,C){return Ee.current.useCallback(A,C)},me.useContext=function(A){return Ee.current.useContext(A)},me.useDebugValue=function(){},me.useDeferredValue=function(A){return Ee.current.useDeferredValue(A)},me.useEffect=function(A,C){return Ee.current.useEffect(A,C)},me.useId=function(){return Ee.current.useId()},me.useImperativeHandle=function(A,C,ee){return Ee.current.useImperativeHandle(A,C,ee)},me.useInsertionEffect=function(A,C){return Ee.current.useInsertionEffect(A,C)},me.useLayoutEffect=function(A,C){return Ee.current.useLayoutEffect(A,C)},me.useMemo=function(A,C){return Ee.current.useMemo(A,C)},me.useReducer=function(A,C,ee){return Ee.current.useReducer(A,C,ee)},me.useRef=function(A){return Ee.current.useRef(A)},me.useState=function(A){return Ee.current.useState(A)},me.useSyncExternalStore=function(A,C,ee){return Ee.current.useSyncExternalStore(A,C,ee)},me.useTransition=function(){return Ee.current.useTransition()},me.version="18.3.1",me}var fd;function ra(){return fd||(fd=1,Dl.exports=Zm()),Dl.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd;function jm(){if(pd)return jo;pd=1;var t=ra(),e=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,m){var y,E={},S=null,w=null;m!==void 0&&(S=""+m),g.key!==void 0&&(S=""+g.key),g.ref!==void 0&&(w=g.ref);for(y in g)i.call(g,y)&&!c.hasOwnProperty(y)&&(E[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)E[y]===void 0&&(E[y]=g[y]);return{$$typeof:e,type:p,key:S,ref:w,props:E,_owner:a.current}}return jo.Fragment=o,jo.jsx=f,jo.jsxs=f,jo}var hd;function eg(){return hd||(hd=1,Ml.exports=jm()),Ml.exports}var x=eg(),ue=ra();const tg=rp(ue);var mi={},Ll={exports:{}},ut={},Ul={exports:{}},Fl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md;function ng(){return md||(md=1,(function(t){function e(O,ie){var J=O.length;O.push(ie);e:for(;0<J;){var A=J-1>>>1,C=O[A];if(0<a(C,ie))O[A]=ie,O[J]=C,J=A;else break e}}function o(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var ie=O[0],J=O.pop();if(J!==ie){O[0]=J;e:for(var A=0,C=O.length,ee=C>>>1;A<ee;){var U=2*(A+1)-1,re=O[U],ge=U+1,Te=O[ge];if(0>a(re,J))ge<C&&0>a(Te,re)?(O[A]=Te,O[ge]=J,A=ge):(O[A]=re,O[U]=J,A=U);else if(ge<C&&0>a(Te,J))O[A]=Te,O[ge]=J,A=ge;else break e}}return ie}function a(O,ie){var J=O.sortIndex-ie.sortIndex;return J!==0?J:O.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();t.unstable_now=function(){return f.now()-p}}var g=[],m=[],y=1,E=null,S=3,w=!1,M=!1,D=!1,R=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(O){for(var ie=o(m);ie!==null;){if(ie.callback===null)i(m);else if(ie.startTime<=O)i(m),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=o(m)}}function z(O){if(D=!1,b(O),!M)if(o(g)!==null)M=!0,_e(te);else{var ie=o(m);ie!==null&&Ee(z,ie.startTime-O)}}function te(O,ie){M=!1,D&&(D=!1,F(he),he=-1),w=!0;var J=S;try{for(b(ie),E=o(g);E!==null&&(!(E.expirationTime>ie)||O&&!ae());){var A=E.callback;if(typeof A=="function"){E.callback=null,S=E.priorityLevel;var C=A(E.expirationTime<=ie);ie=t.unstable_now(),typeof C=="function"?E.callback=C:E===o(g)&&i(g),b(ie)}else i(g);E=o(g)}if(E!==null)var ee=!0;else{var U=o(m);U!==null&&Ee(z,U.startTime-ie),ee=!1}return ee}finally{E=null,S=J,w=!1}}var Y=!1,Z=null,he=-1,W=5,ce=-1;function ae(){return!(t.unstable_now()-ce<W)}function Ie(){if(Z!==null){var O=t.unstable_now();ce=O;var ie=!0;try{ie=Z(!0,O)}finally{ie?pe():(Y=!1,Z=null)}}else Y=!1}var pe;if(typeof q=="function")pe=function(){q(Ie)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Je=ve.port2;ve.port1.onmessage=Ie,pe=function(){Je.postMessage(null)}}else pe=function(){R(Ie,0)};function _e(O){Z=O,Y||(Y=!0,pe())}function Ee(O,ie){he=R(function(){O(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){M||w||(M=!0,_e(te))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return S},t.unstable_getFirstCallbackNode=function(){return o(g)},t.unstable_next=function(O){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var J=S;S=ie;try{return O()}finally{S=J}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,ie){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var J=S;S=O;try{return ie()}finally{S=J}},t.unstable_scheduleCallback=function(O,ie,J){var A=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?A+J:A):J=A,O){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=J+C,O={id:y++,callback:ie,priorityLevel:O,startTime:J,expirationTime:C,sortIndex:-1},J>A?(O.sortIndex=J,e(m,O),o(g)===null&&O===o(m)&&(D?(F(he),he=-1):D=!0,Ee(z,J-A))):(O.sortIndex=C,e(g,O),M||w||(M=!0,_e(te))),O},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(O){var ie=S;return function(){var J=S;S=ie;try{return O.apply(this,arguments)}finally{S=J}}}})(Fl)),Fl}var gd;function og(){return gd||(gd=1,Ul.exports=ng()),Ul.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vd;function rg(){if(vd)return ut;vd=1;var t=ra(),e=og();function o(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,s=1;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function c(n,r){f(n,r),f(n+"Capture",r)}function f(n,r){for(a[n]=r,n=0;n<r.length;n++)i.add(r[n])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},E={};function S(n){return g.call(E,n)?!0:g.call(y,n)?!1:m.test(n)?E[n]=!0:(y[n]=!0,!1)}function w(n,r,s,d){if(s!==null&&s.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:s!==null?!s.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function M(n,r,s,d){if(r===null||typeof r>"u"||w(n,r,s,d))return!0;if(d)return!1;if(s!==null)switch(s.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function D(n,r,s,d,h,v,T){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=h,this.mustUseProperty=s,this.propertyName=n,this.type=r,this.sanitizeURL=v,this.removeEmptyString=T}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){R[n]=new D(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];R[r]=new D(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){R[n]=new D(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){R[n]=new D(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){R[n]=new D(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){R[n]=new D(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){R[n]=new D(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){R[n]=new D(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){R[n]=new D(n,5,!1,n.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(F,q);R[r]=new D(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(F,q);R[r]=new D(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(F,q);R[r]=new D(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){R[n]=new D(n,1,!1,n.toLowerCase(),null,!1,!1)}),R.xlinkHref=new D("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){R[n]=new D(n,1,!1,n.toLowerCase(),null,!0,!0)});function b(n,r,s,d){var h=R.hasOwnProperty(r)?R[r]:null;(h!==null?h.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(M(r,s,h,d)&&(s=null),d||h===null?S(r)&&(s===null?n.removeAttribute(r):n.setAttribute(r,""+s)):h.mustUseProperty?n[h.propertyName]=s===null?h.type===3?!1:"":s:(r=h.attributeName,d=h.attributeNamespace,s===null?n.removeAttribute(r):(h=h.type,s=h===3||h===4&&s===!0?"":""+s,d?n.setAttributeNS(d,r,s):n.setAttribute(r,s))))}var z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),Y=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),he=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Je=Symbol.for("react.memo"),_e=Symbol.for("react.lazy"),Ee=Symbol.for("react.offscreen"),O=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var J=Object.assign,A;function C(n){if(A===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);A=r&&r[1]||""}return`
`+A+n}var ee=!1;function U(n,r){if(!n||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(L){var d=L}Reflect.construct(n,[],r)}else{try{r.call()}catch(L){d=L}n.call(r.prototype)}else{try{throw Error()}catch(L){d=L}n()}}catch(L){if(L&&d&&typeof L.stack=="string"){for(var h=L.stack.split(`
`),v=d.stack.split(`
`),T=h.length-1,_=v.length-1;1<=T&&0<=_&&h[T]!==v[_];)_--;for(;1<=T&&0<=_;T--,_--)if(h[T]!==v[_]){if(T!==1||_!==1)do if(T--,_--,0>_||h[T]!==v[_]){var I=`
`+h[T].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=T&&0<=_);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(n=n?n.displayName||n.name:"")?C(n):""}function re(n){switch(n.tag){case 5:return C(n.type);case 16:return C("Lazy");case 13:return C("Suspense");case 19:return C("SuspenseList");case 0:case 2:case 15:return n=U(n.type,!1),n;case 11:return n=U(n.type.render,!1),n;case 1:return n=U(n.type,!0),n;default:return""}}function ge(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Z:return"Fragment";case Y:return"Portal";case W:return"Profiler";case he:return"StrictMode";case pe:return"Suspense";case ve:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ae:return(n.displayName||"Context")+".Consumer";case ce:return(n._context.displayName||"Context")+".Provider";case Ie:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Je:return r=n.displayName||null,r!==null?r:ge(n.type)||"Memo";case _e:r=n._payload,n=n._init;try{return ge(n(r))}catch{}}return null}function Te(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ge(r);case 8:return r===he?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ce(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ke(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ct(n){var r=ke(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),d=""+n[r];if(!n.hasOwnProperty(r)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var h=s.get,v=s.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return h.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(n,r,{enumerable:s.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ir(n){n._valueTracker||(n._valueTracker=ct(n))}function va(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),d="";return n&&(d=ke(n)?n.checked?"true":"false":n.value),n=d,n!==s?(r.setValue(n),!0):!1}function sr(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Hi(n,r){var s=r.checked;return J({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??n._wrapperState.initialChecked})}function ya(n,r){var s=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;s=Ce(r.value!=null?r.value:s),n._wrapperState={initialChecked:d,initialValue:s,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function xa(n,r){r=r.checked,r!=null&&b(n,"checked",r,!1)}function bi(n,r){xa(n,r);var s=Ce(r.value),d=r.type;if(s!=null)d==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+s):n.value!==""+s&&(n.value=""+s);else if(d==="submit"||d==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Bi(n,r.type,s):r.hasOwnProperty("defaultValue")&&Bi(n,r.type,Ce(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Sa(n,r,s){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,s||r===n.value||(n.value=r),n.defaultValue=r}s=n.name,s!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,s!==""&&(n.name=s)}function Bi(n,r,s){(r!=="number"||sr(n.ownerDocument)!==n)&&(s==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+s&&(n.defaultValue=""+s))}var ho=Array.isArray;function Dn(n,r,s,d){if(n=n.options,r){r={};for(var h=0;h<s.length;h++)r["$"+s[h]]=!0;for(s=0;s<n.length;s++)h=r.hasOwnProperty("$"+n[s].value),n[s].selected!==h&&(n[s].selected=h),h&&d&&(n[s].defaultSelected=!0)}else{for(s=""+Ce(s),r=null,h=0;h<n.length;h++){if(n[h].value===s){n[h].selected=!0,d&&(n[h].defaultSelected=!0);return}r!==null||n[h].disabled||(r=n[h])}r!==null&&(r.selected=!0)}}function qi(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(o(91));return J({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ea(n,r){var s=r.value;if(s==null){if(s=r.children,r=r.defaultValue,s!=null){if(r!=null)throw Error(o(92));if(ho(s)){if(1<s.length)throw Error(o(93));s=s[0]}r=s}r==null&&(r=""),s=r}n._wrapperState={initialValue:Ce(s)}}function Ta(n,r){var s=Ce(r.value),d=Ce(r.defaultValue);s!=null&&(s=""+s,s!==n.value&&(n.value=s),r.defaultValue==null&&n.defaultValue!==s&&(n.defaultValue=s)),d!=null&&(n.defaultValue=""+d)}function _a(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Ca(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zi(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Ca(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var lr,wa=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,s,d,h){MSApp.execUnsafeLocalFunction(function(){return n(r,s,d,h)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(lr=lr||document.createElement("div"),lr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=lr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function mo(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nh=["Webkit","ms","Moz","O"];Object.keys(go).forEach(function(n){nh.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),go[r]=go[n]})});function Ia(n,r,s){return r==null||typeof r=="boolean"||r===""?"":s||typeof r!="number"||r===0||go.hasOwnProperty(n)&&go[n]?(""+r).trim():r+"px"}function Na(n,r){n=n.style;for(var s in r)if(r.hasOwnProperty(s)){var d=s.indexOf("--")===0,h=Ia(s,r[s],d);s==="float"&&(s="cssFloat"),d?n.setProperty(s,h):n[s]=h}}var oh=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oi(n,r){if(r){if(oh[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(o(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(o(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(o(61))}if(r.style!=null&&typeof r.style!="object")throw Error(o(62))}}function $i(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ji=null;function Wi(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ki=null,Ln=null,Un=null;function Aa(n){if(n=Go(n)){if(typeof Ki!="function")throw Error(o(280));var r=n.stateNode;r&&(r=kr(r),Ki(n.stateNode,n.type,r))}}function Ra(n){Ln?Un?Un.push(n):Un=[n]:Ln=n}function ka(){if(Ln){var n=Ln,r=Un;if(Un=Ln=null,Aa(n),r)for(n=0;n<r.length;n++)Aa(r[n])}}function Pa(n,r){return n(r)}function Ma(){}var Yi=!1;function Da(n,r,s){if(Yi)return n(r,s);Yi=!0;try{return Pa(n,r,s)}finally{Yi=!1,(Ln!==null||Un!==null)&&(Ma(),ka())}}function vo(n,r){var s=n.stateNode;if(s===null)return null;var d=kr(s);if(d===null)return null;s=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(n=n.type,d=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!d;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(o(231,r,typeof s));return s}var Qi=!1;if(p)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){Qi=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{Qi=!1}function rh(n,r,s,d,h,v,T,_,I){var L=Array.prototype.slice.call(arguments,3);try{r.apply(s,L)}catch(G){this.onError(G)}}var xo=!1,ar=null,ur=!1,Xi=null,ih={onError:function(n){xo=!0,ar=n}};function sh(n,r,s,d,h,v,T,_,I){xo=!1,ar=null,rh.apply(ih,arguments)}function lh(n,r,s,d,h,v,T,_,I){if(sh.apply(this,arguments),xo){if(xo){var L=ar;xo=!1,ar=null}else throw Error(o(198));ur||(ur=!0,Xi=L)}}function yn(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function La(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function Ua(n){if(yn(n)!==n)throw Error(o(188))}function ah(n){var r=n.alternate;if(!r){if(r=yn(n),r===null)throw Error(o(188));return r!==n?null:n}for(var s=n,d=r;;){var h=s.return;if(h===null)break;var v=h.alternate;if(v===null){if(d=h.return,d!==null){s=d;continue}break}if(h.child===v.child){for(v=h.child;v;){if(v===s)return Ua(h),n;if(v===d)return Ua(h),r;v=v.sibling}throw Error(o(188))}if(s.return!==d.return)s=h,d=v;else{for(var T=!1,_=h.child;_;){if(_===s){T=!0,s=h,d=v;break}if(_===d){T=!0,d=h,s=v;break}_=_.sibling}if(!T){for(_=v.child;_;){if(_===s){T=!0,s=v,d=h;break}if(_===d){T=!0,d=v,s=h;break}_=_.sibling}if(!T)throw Error(o(189))}}if(s.alternate!==d)throw Error(o(190))}if(s.tag!==3)throw Error(o(188));return s.stateNode.current===s?n:r}function Fa(n){return n=ah(n),n!==null?Va(n):null}function Va(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Va(n);if(r!==null)return r;n=n.sibling}return null}var Ga=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,uh=e.unstable_shouldYield,ch=e.unstable_requestPaint,Ve=e.unstable_now,dh=e.unstable_getCurrentPriorityLevel,Zi=e.unstable_ImmediatePriority,ba=e.unstable_UserBlockingPriority,cr=e.unstable_NormalPriority,fh=e.unstable_LowPriority,Ba=e.unstable_IdlePriority,dr=null,Lt=null;function ph(n){if(Lt&&typeof Lt.onCommitFiberRoot=="function")try{Lt.onCommitFiberRoot(dr,n,void 0,(n.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:gh,hh=Math.log,mh=Math.LN2;function gh(n){return n>>>=0,n===0?32:31-(hh(n)/mh|0)|0}var fr=64,pr=4194304;function So(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function hr(n,r){var s=n.pendingLanes;if(s===0)return 0;var d=0,h=n.suspendedLanes,v=n.pingedLanes,T=s&268435455;if(T!==0){var _=T&~h;_!==0?d=So(_):(v&=T,v!==0&&(d=So(v)))}else T=s&~h,T!==0?d=So(T):v!==0&&(d=So(v));if(d===0)return 0;if(r!==0&&r!==d&&(r&h)===0&&(h=d&-d,v=r&-r,h>=v||h===16&&(v&4194240)!==0))return r;if((d&4)!==0&&(d|=s&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=d;0<r;)s=31-_t(r),h=1<<s,d|=n[s],r&=~h;return d}function vh(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yh(n,r){for(var s=n.suspendedLanes,d=n.pingedLanes,h=n.expirationTimes,v=n.pendingLanes;0<v;){var T=31-_t(v),_=1<<T,I=h[T];I===-1?((_&s)===0||(_&d)!==0)&&(h[T]=vh(_,r)):I<=r&&(n.expiredLanes|=_),v&=~_}}function ji(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qa(){var n=fr;return fr<<=1,(fr&4194240)===0&&(fr=64),n}function es(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Eo(n,r,s){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-_t(r),n[r]=s}function xh(n,r){var s=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var d=n.eventTimes;for(n=n.expirationTimes;0<s;){var h=31-_t(s),v=1<<h;r[h]=0,d[h]=-1,n[h]=-1,s&=~v}}function ts(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var d=31-_t(s),h=1<<d;h&r|n[d]&r&&(n[d]|=r),s&=~h}}var we=0;function za(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Oa,ns,$a,Ja,Wa,os=!1,mr=[],Qt=null,Xt=null,Zt=null,To=new Map,_o=new Map,jt=[],Sh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ka(n,r){switch(n){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":Xt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":To.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(r.pointerId)}}function Co(n,r,s,d,h,v){return n===null||n.nativeEvent!==v?(n={blockedOn:r,domEventName:s,eventSystemFlags:d,nativeEvent:v,targetContainers:[h]},r!==null&&(r=Go(r),r!==null&&ns(r)),n):(n.eventSystemFlags|=d,r=n.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),n)}function Eh(n,r,s,d,h){switch(r){case"focusin":return Qt=Co(Qt,n,r,s,d,h),!0;case"dragenter":return Xt=Co(Xt,n,r,s,d,h),!0;case"mouseover":return Zt=Co(Zt,n,r,s,d,h),!0;case"pointerover":var v=h.pointerId;return To.set(v,Co(To.get(v)||null,n,r,s,d,h)),!0;case"gotpointercapture":return v=h.pointerId,_o.set(v,Co(_o.get(v)||null,n,r,s,d,h)),!0}return!1}function Ya(n){var r=xn(n.target);if(r!==null){var s=yn(r);if(s!==null){if(r=s.tag,r===13){if(r=La(s),r!==null){n.blockedOn=r,Wa(n.priority,function(){$a(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gr(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=is(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(s===null){s=n.nativeEvent;var d=new s.constructor(s.type,s);Ji=d,s.target.dispatchEvent(d),Ji=null}else return r=Go(s),r!==null&&ns(r),n.blockedOn=s,!1;r.shift()}return!0}function Qa(n,r,s){gr(n)&&s.delete(r)}function Th(){os=!1,Qt!==null&&gr(Qt)&&(Qt=null),Xt!==null&&gr(Xt)&&(Xt=null),Zt!==null&&gr(Zt)&&(Zt=null),To.forEach(Qa),_o.forEach(Qa)}function wo(n,r){n.blockedOn===r&&(n.blockedOn=null,os||(os=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Th)))}function Io(n){function r(h){return wo(h,n)}if(0<mr.length){wo(mr[0],n);for(var s=1;s<mr.length;s++){var d=mr[s];d.blockedOn===n&&(d.blockedOn=null)}}for(Qt!==null&&wo(Qt,n),Xt!==null&&wo(Xt,n),Zt!==null&&wo(Zt,n),To.forEach(r),_o.forEach(r),s=0;s<jt.length;s++)d=jt[s],d.blockedOn===n&&(d.blockedOn=null);for(;0<jt.length&&(s=jt[0],s.blockedOn===null);)Ya(s),s.blockedOn===null&&jt.shift()}var Fn=z.ReactCurrentBatchConfig,vr=!0;function _h(n,r,s,d){var h=we,v=Fn.transition;Fn.transition=null;try{we=1,rs(n,r,s,d)}finally{we=h,Fn.transition=v}}function Ch(n,r,s,d){var h=we,v=Fn.transition;Fn.transition=null;try{we=4,rs(n,r,s,d)}finally{we=h,Fn.transition=v}}function rs(n,r,s,d){if(vr){var h=is(n,r,s,d);if(h===null)Ts(n,r,d,yr,s),Ka(n,d);else if(Eh(h,n,r,s,d))d.stopPropagation();else if(Ka(n,d),r&4&&-1<Sh.indexOf(n)){for(;h!==null;){var v=Go(h);if(v!==null&&Oa(v),v=is(n,r,s,d),v===null&&Ts(n,r,d,yr,s),v===h)break;h=v}h!==null&&d.stopPropagation()}else Ts(n,r,d,null,s)}}var yr=null;function is(n,r,s,d){if(yr=null,n=Wi(d),n=xn(n),n!==null)if(r=yn(n),r===null)n=null;else if(s=r.tag,s===13){if(n=La(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return yr=n,null}function Xa(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dh()){case Zi:return 1;case ba:return 4;case cr:case fh:return 16;case Ba:return 536870912;default:return 16}default:return 16}}var en=null,ss=null,xr=null;function Za(){if(xr)return xr;var n,r=ss,s=r.length,d,h="value"in en?en.value:en.textContent,v=h.length;for(n=0;n<s&&r[n]===h[n];n++);var T=s-n;for(d=1;d<=T&&r[s-d]===h[v-d];d++);return xr=h.slice(n,1<d?1-d:void 0)}function Sr(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Er(){return!0}function ja(){return!1}function dt(n){function r(s,d,h,v,T){this._reactName=s,this._targetInst=h,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var _ in n)n.hasOwnProperty(_)&&(s=n[_],this[_]=s?s(v):v[_]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Er:ja,this.isPropagationStopped=ja,this}return J(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),r}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=dt(Vn),No=J({},Vn,{view:0,detail:0}),wh=dt(No),as,us,Ao,Tr=J({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ds,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ao&&(Ao&&n.type==="mousemove"?(as=n.screenX-Ao.screenX,us=n.screenY-Ao.screenY):us=as=0,Ao=n),as)},movementY:function(n){return"movementY"in n?n.movementY:us}}),eu=dt(Tr),Ih=J({},Tr,{dataTransfer:0}),Nh=dt(Ih),Ah=J({},No,{relatedTarget:0}),cs=dt(Ah),Rh=J({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),kh=dt(Rh),Ph=J({},Vn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Mh=dt(Ph),Dh=J({},Vn,{data:0}),tu=dt(Dh),Lh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Uh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vh(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Fh[n])?!!r[n]:!1}function ds(){return Vh}var Gh=J({},No,{key:function(n){if(n.key){var r=Lh[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Sr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Uh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ds,charCode:function(n){return n.type==="keypress"?Sr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Sr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Hh=dt(Gh),bh=J({},Tr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nu=dt(bh),Bh=J({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ds}),qh=dt(Bh),zh=J({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oh=dt(zh),$h=J({},Tr,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Jh=dt($h),Wh=[9,13,27,32],fs=p&&"CompositionEvent"in window,Ro=null;p&&"documentMode"in document&&(Ro=document.documentMode);var Kh=p&&"TextEvent"in window&&!Ro,ou=p&&(!fs||Ro&&8<Ro&&11>=Ro),ru=" ",iu=!1;function su(n,r){switch(n){case"keyup":return Wh.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lu(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Gn=!1;function Yh(n,r){switch(n){case"compositionend":return lu(r);case"keypress":return r.which!==32?null:(iu=!0,ru);case"textInput":return n=r.data,n===ru&&iu?null:n;default:return null}}function Qh(n,r){if(Gn)return n==="compositionend"||!fs&&su(n,r)?(n=Za(),xr=ss=en=null,Gn=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ou&&r.locale!=="ko"?null:r.data;default:return null}}var Xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function au(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!Xh[n.type]:r==="textarea"}function uu(n,r,s,d){Ra(d),r=Nr(r,"onChange"),0<r.length&&(s=new ls("onChange","change",null,s,d),n.push({event:s,listeners:r}))}var ko=null,Po=null;function Zh(n){Nu(n,0)}function _r(n){var r=zn(n);if(va(r))return n}function jh(n,r){if(n==="change")return r}var cu=!1;if(p){var ps;if(p){var hs="oninput"in document;if(!hs){var du=document.createElement("div");du.setAttribute("oninput","return;"),hs=typeof du.oninput=="function"}ps=hs}else ps=!1;cu=ps&&(!document.documentMode||9<document.documentMode)}function fu(){ko&&(ko.detachEvent("onpropertychange",pu),Po=ko=null)}function pu(n){if(n.propertyName==="value"&&_r(Po)){var r=[];uu(r,Po,n,Wi(n)),Da(Zh,r)}}function em(n,r,s){n==="focusin"?(fu(),ko=r,Po=s,ko.attachEvent("onpropertychange",pu)):n==="focusout"&&fu()}function tm(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _r(Po)}function nm(n,r){if(n==="click")return _r(r)}function om(n,r){if(n==="input"||n==="change")return _r(r)}function rm(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Ct=typeof Object.is=="function"?Object.is:rm;function Mo(n,r){if(Ct(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),d=Object.keys(r);if(s.length!==d.length)return!1;for(d=0;d<s.length;d++){var h=s[d];if(!g.call(r,h)||!Ct(n[h],r[h]))return!1}return!0}function hu(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mu(n,r){var s=hu(n);n=0;for(var d;s;){if(s.nodeType===3){if(d=n+s.textContent.length,n<=r&&d>=r)return{node:s,offset:r-n};n=d}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=hu(s)}}function gu(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?gu(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function vu(){for(var n=window,r=sr();r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=sr(n.document)}return r}function ms(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function im(n){var r=vu(),s=n.focusedElem,d=n.selectionRange;if(r!==s&&s&&s.ownerDocument&&gu(s.ownerDocument.documentElement,s)){if(d!==null&&ms(s)){if(r=d.start,n=d.end,n===void 0&&(n=r),"selectionStart"in s)s.selectionStart=r,s.selectionEnd=Math.min(n,s.value.length);else if(n=(r=s.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var h=s.textContent.length,v=Math.min(d.start,h);d=d.end===void 0?v:Math.min(d.end,h),!n.extend&&v>d&&(h=d,d=v,v=h),h=mu(s,v);var T=mu(s,d);h&&T&&(n.rangeCount!==1||n.anchorNode!==h.node||n.anchorOffset!==h.offset||n.focusNode!==T.node||n.focusOffset!==T.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),n.removeAllRanges(),v>d?(n.addRange(r),n.extend(T.node,T.offset)):(r.setEnd(T.node,T.offset),n.addRange(r)))}}for(r=[],n=s;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<r.length;s++)n=r[s],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var sm=p&&"documentMode"in document&&11>=document.documentMode,Hn=null,gs=null,Do=null,vs=!1;function yu(n,r,s){var d=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;vs||Hn==null||Hn!==sr(d)||(d=Hn,"selectionStart"in d&&ms(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Do&&Mo(Do,d)||(Do=d,d=Nr(gs,"onSelect"),0<d.length&&(r=new ls("onSelect","select",null,r,s),n.push({event:r,listeners:d}),r.target=Hn)))}function Cr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var bn={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},ys={},xu={};p&&(xu=document.createElement("div").style,"AnimationEvent"in window||(delete bn.animationend.animation,delete bn.animationiteration.animation,delete bn.animationstart.animation),"TransitionEvent"in window||delete bn.transitionend.transition);function wr(n){if(ys[n])return ys[n];if(!bn[n])return n;var r=bn[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in xu)return ys[n]=r[s];return n}var Su=wr("animationend"),Eu=wr("animationiteration"),Tu=wr("animationstart"),_u=wr("transitionend"),Cu=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tn(n,r){Cu.set(n,r),c(r,[n])}for(var xs=0;xs<wu.length;xs++){var Ss=wu[xs],lm=Ss.toLowerCase(),am=Ss[0].toUpperCase()+Ss.slice(1);tn(lm,"on"+am)}tn(Su,"onAnimationEnd"),tn(Eu,"onAnimationIteration"),tn(Tu,"onAnimationStart"),tn("dblclick","onDoubleClick"),tn("focusin","onFocus"),tn("focusout","onBlur"),tn(_u,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),um=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lo));function Iu(n,r,s){var d=n.type||"unknown-event";n.currentTarget=s,lh(d,r,void 0,n),n.currentTarget=null}function Nu(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var d=n[s],h=d.event;d=d.listeners;e:{var v=void 0;if(r)for(var T=d.length-1;0<=T;T--){var _=d[T],I=_.instance,L=_.currentTarget;if(_=_.listener,I!==v&&h.isPropagationStopped())break e;Iu(h,_,L),v=I}else for(T=0;T<d.length;T++){if(_=d[T],I=_.instance,L=_.currentTarget,_=_.listener,I!==v&&h.isPropagationStopped())break e;Iu(h,_,L),v=I}}}if(ur)throw n=Xi,ur=!1,Xi=null,n}function Ae(n,r){var s=r[As];s===void 0&&(s=r[As]=new Set);var d=n+"__bubble";s.has(d)||(Au(r,n,2,!1),s.add(d))}function Es(n,r,s){var d=0;r&&(d|=4),Au(s,n,d,r)}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Uo(n){if(!n[Ir]){n[Ir]=!0,i.forEach(function(s){s!=="selectionchange"&&(um.has(s)||Es(s,!1,n),Es(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Ir]||(r[Ir]=!0,Es("selectionchange",!1,r))}}function Au(n,r,s,d){switch(Xa(r)){case 1:var h=_h;break;case 4:h=Ch;break;default:h=rs}s=h.bind(null,r,s,n),h=void 0,!Qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),d?h!==void 0?n.addEventListener(r,s,{capture:!0,passive:h}):n.addEventListener(r,s,!0):h!==void 0?n.addEventListener(r,s,{passive:h}):n.addEventListener(r,s,!1)}function Ts(n,r,s,d,h){var v=d;if((r&1)===0&&(r&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var _=d.stateNode.containerInfo;if(_===h||_.nodeType===8&&_.parentNode===h)break;if(T===4)for(T=d.return;T!==null;){var I=T.tag;if((I===3||I===4)&&(I=T.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;T=T.return}for(;_!==null;){if(T=xn(_),T===null)return;if(I=T.tag,I===5||I===6){d=v=T;continue e}_=_.parentNode}}d=d.return}Da(function(){var L=v,G=Wi(s),H=[];e:{var V=Cu.get(n);if(V!==void 0){var K=ls,j=n;switch(n){case"keypress":if(Sr(s)===0)break e;case"keydown":case"keyup":K=Hh;break;case"focusin":j="focus",K=cs;break;case"focusout":j="blur",K=cs;break;case"beforeblur":case"afterblur":K=cs;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=qh;break;case Su:case Eu:case Tu:K=kh;break;case _u:K=Oh;break;case"scroll":K=wh;break;case"wheel":K=Jh;break;case"copy":case"cut":case"paste":K=Mh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=nu}var ne=(r&4)!==0,Ge=!ne&&n==="scroll",k=ne?V!==null?V+"Capture":null:V;ne=[];for(var N=L,P;N!==null;){P=N;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,k!==null&&(B=vo(N,k),B!=null&&ne.push(Fo(N,B,P)))),Ge)break;N=N.return}0<ne.length&&(V=new K(V,j,null,s,G),H.push({event:V,listeners:ne}))}}if((r&7)===0){e:{if(V=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",V&&s!==Ji&&(j=s.relatedTarget||s.fromElement)&&(xn(j)||j[Ht]))break e;if((K||V)&&(V=G.window===G?G:(V=G.ownerDocument)?V.defaultView||V.parentWindow:window,K?(j=s.relatedTarget||s.toElement,K=L,j=j?xn(j):null,j!==null&&(Ge=yn(j),j!==Ge||j.tag!==5&&j.tag!==6)&&(j=null)):(K=null,j=L),K!==j)){if(ne=eu,B="onMouseLeave",k="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ne=nu,B="onPointerLeave",k="onPointerEnter",N="pointer"),Ge=K==null?V:zn(K),P=j==null?V:zn(j),V=new ne(B,N+"leave",K,s,G),V.target=Ge,V.relatedTarget=P,B=null,xn(G)===L&&(ne=new ne(k,N+"enter",j,s,G),ne.target=P,ne.relatedTarget=Ge,B=ne),Ge=B,K&&j)t:{for(ne=K,k=j,N=0,P=ne;P;P=Bn(P))N++;for(P=0,B=k;B;B=Bn(B))P++;for(;0<N-P;)ne=Bn(ne),N--;for(;0<P-N;)k=Bn(k),P--;for(;N--;){if(ne===k||k!==null&&ne===k.alternate)break t;ne=Bn(ne),k=Bn(k)}ne=null}else ne=null;K!==null&&Ru(H,V,K,ne,!1),j!==null&&Ge!==null&&Ru(H,Ge,j,ne,!0)}}e:{if(V=L?zn(L):window,K=V.nodeName&&V.nodeName.toLowerCase(),K==="select"||K==="input"&&V.type==="file")var oe=jh;else if(au(V))if(cu)oe=om;else{oe=tm;var se=em}else(K=V.nodeName)&&K.toLowerCase()==="input"&&(V.type==="checkbox"||V.type==="radio")&&(oe=nm);if(oe&&(oe=oe(n,L))){uu(H,oe,s,G);break e}se&&se(n,V,L),n==="focusout"&&(se=V._wrapperState)&&se.controlled&&V.type==="number"&&Bi(V,"number",V.value)}switch(se=L?zn(L):window,n){case"focusin":(au(se)||se.contentEditable==="true")&&(Hn=se,gs=L,Do=null);break;case"focusout":Do=gs=Hn=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,yu(H,s,G);break;case"selectionchange":if(sm)break;case"keydown":case"keyup":yu(H,s,G)}var le;if(fs)e:{switch(n){case"compositionstart":var de="onCompositionStart";break e;case"compositionend":de="onCompositionEnd";break e;case"compositionupdate":de="onCompositionUpdate";break e}de=void 0}else Gn?su(n,s)&&(de="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(de="onCompositionStart");de&&(ou&&s.locale!=="ko"&&(Gn||de!=="onCompositionStart"?de==="onCompositionEnd"&&Gn&&(le=Za()):(en=G,ss="value"in en?en.value:en.textContent,Gn=!0)),se=Nr(L,de),0<se.length&&(de=new tu(de,n,null,s,G),H.push({event:de,listeners:se}),le?de.data=le:(le=lu(s),le!==null&&(de.data=le)))),(le=Kh?Yh(n,s):Qh(n,s))&&(L=Nr(L,"onBeforeInput"),0<L.length&&(G=new tu("onBeforeInput","beforeinput",null,s,G),H.push({event:G,listeners:L}),G.data=le))}Nu(H,r)})}function Fo(n,r,s){return{instance:n,listener:r,currentTarget:s}}function Nr(n,r){for(var s=r+"Capture",d=[];n!==null;){var h=n,v=h.stateNode;h.tag===5&&v!==null&&(h=v,v=vo(n,s),v!=null&&d.unshift(Fo(n,v,h)),v=vo(n,r),v!=null&&d.push(Fo(n,v,h))),n=n.return}return d}function Bn(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function Ru(n,r,s,d,h){for(var v=r._reactName,T=[];s!==null&&s!==d;){var _=s,I=_.alternate,L=_.stateNode;if(I!==null&&I===d)break;_.tag===5&&L!==null&&(_=L,h?(I=vo(s,v),I!=null&&T.unshift(Fo(s,I,_))):h||(I=vo(s,v),I!=null&&T.push(Fo(s,I,_)))),s=s.return}T.length!==0&&n.push({event:r,listeners:T})}var cm=/\r\n?/g,dm=/\u0000|\uFFFD/g;function ku(n){return(typeof n=="string"?n:""+n).replace(cm,`
`).replace(dm,"")}function Ar(n,r,s){if(r=ku(r),ku(n)!==r&&s)throw Error(o(425))}function Rr(){}var _s=null,Cs=null;function ws(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Is=typeof setTimeout=="function"?setTimeout:void 0,fm=typeof clearTimeout=="function"?clearTimeout:void 0,Pu=typeof Promise=="function"?Promise:void 0,pm=typeof queueMicrotask=="function"?queueMicrotask:typeof Pu<"u"?function(n){return Pu.resolve(null).then(n).catch(hm)}:Is;function hm(n){setTimeout(function(){throw n})}function Ns(n,r){var s=r,d=0;do{var h=s.nextSibling;if(n.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"){if(d===0){n.removeChild(h),Io(r);return}d--}else s!=="$"&&s!=="$?"&&s!=="$!"||d++;s=h}while(s);Io(r)}function nn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function Mu(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(r===0)return n;r--}else s==="/$"&&r++}n=n.previousSibling}return null}var qn=Math.random().toString(36).slice(2),Ut="__reactFiber$"+qn,Vo="__reactProps$"+qn,Ht="__reactContainer$"+qn,As="__reactEvents$"+qn,mm="__reactListeners$"+qn,gm="__reactHandles$"+qn;function xn(n){var r=n[Ut];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Ht]||s[Ut]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=Mu(n);n!==null;){if(s=n[Ut])return s;n=Mu(n)}return r}n=s,s=n.parentNode}return null}function Go(n){return n=n[Ut]||n[Ht],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function zn(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(o(33))}function kr(n){return n[Vo]||null}var Rs=[],On=-1;function on(n){return{current:n}}function Re(n){0>On||(n.current=Rs[On],Rs[On]=null,On--)}function Ne(n,r){On++,Rs[On]=n.current,n.current=r}var rn={},Ye=on(rn),rt=on(!1),Sn=rn;function $n(n,r){var s=n.type.contextTypes;if(!s)return rn;var d=n.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var h={},v;for(v in s)h[v]=r[v];return d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=h),h}function it(n){return n=n.childContextTypes,n!=null}function Pr(){Re(rt),Re(Ye)}function Du(n,r,s){if(Ye.current!==rn)throw Error(o(168));Ne(Ye,r),Ne(rt,s)}function Lu(n,r,s){var d=n.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return s;d=d.getChildContext();for(var h in d)if(!(h in r))throw Error(o(108,Te(n)||"Unknown",h));return J({},s,d)}function Mr(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||rn,Sn=Ye.current,Ne(Ye,n),Ne(rt,rt.current),!0}function Uu(n,r,s){var d=n.stateNode;if(!d)throw Error(o(169));s?(n=Lu(n,r,Sn),d.__reactInternalMemoizedMergedChildContext=n,Re(rt),Re(Ye),Ne(Ye,n)):Re(rt),Ne(rt,s)}var bt=null,Dr=!1,ks=!1;function Fu(n){bt===null?bt=[n]:bt.push(n)}function vm(n){Dr=!0,Fu(n)}function sn(){if(!ks&&bt!==null){ks=!0;var n=0,r=we;try{var s=bt;for(we=1;n<s.length;n++){var d=s[n];do d=d(!0);while(d!==null)}bt=null,Dr=!1}catch(h){throw bt!==null&&(bt=bt.slice(n+1)),Ga(Zi,sn),h}finally{we=r,ks=!1}}return null}var Jn=[],Wn=0,Lr=null,Ur=0,mt=[],gt=0,En=null,Bt=1,qt="";function Tn(n,r){Jn[Wn++]=Ur,Jn[Wn++]=Lr,Lr=n,Ur=r}function Vu(n,r,s){mt[gt++]=Bt,mt[gt++]=qt,mt[gt++]=En,En=n;var d=Bt;n=qt;var h=32-_t(d)-1;d&=~(1<<h),s+=1;var v=32-_t(r)+h;if(30<v){var T=h-h%5;v=(d&(1<<T)-1).toString(32),d>>=T,h-=T,Bt=1<<32-_t(r)+h|s<<h|d,qt=v+n}else Bt=1<<v|s<<h|d,qt=n}function Ps(n){n.return!==null&&(Tn(n,1),Vu(n,1,0))}function Ms(n){for(;n===Lr;)Lr=Jn[--Wn],Jn[Wn]=null,Ur=Jn[--Wn],Jn[Wn]=null;for(;n===En;)En=mt[--gt],mt[gt]=null,qt=mt[--gt],mt[gt]=null,Bt=mt[--gt],mt[gt]=null}var ft=null,pt=null,Pe=!1,wt=null;function Gu(n,r){var s=St(5,null,null,0);s.elementType="DELETED",s.stateNode=r,s.return=n,r=n.deletions,r===null?(n.deletions=[s],n.flags|=16):r.push(s)}function Hu(n,r){switch(n.tag){case 5:var s=n.type;return r=r.nodeType!==1||s.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,ft=n,pt=nn(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,ft=n,pt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(s=En!==null?{id:Bt,overflow:qt}:null,n.memoizedState={dehydrated:r,treeContext:s,retryLane:1073741824},s=St(18,null,null,0),s.stateNode=r,s.return=n,n.child=s,ft=n,pt=null,!0):!1;default:return!1}}function Ds(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Ls(n){if(Pe){var r=pt;if(r){var s=r;if(!Hu(n,r)){if(Ds(n))throw Error(o(418));r=nn(s.nextSibling);var d=ft;r&&Hu(n,r)?Gu(d,s):(n.flags=n.flags&-4097|2,Pe=!1,ft=n)}}else{if(Ds(n))throw Error(o(418));n.flags=n.flags&-4097|2,Pe=!1,ft=n}}}function bu(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ft=n}function Fr(n){if(n!==ft)return!1;if(!Pe)return bu(n),Pe=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!ws(n.type,n.memoizedProps)),r&&(r=pt)){if(Ds(n))throw Bu(),Error(o(418));for(;r;)Gu(n,r),r=nn(r.nextSibling)}if(bu(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"){if(r===0){pt=nn(n.nextSibling);break e}r--}else s!=="$"&&s!=="$!"&&s!=="$?"||r++}n=n.nextSibling}pt=null}}else pt=ft?nn(n.stateNode.nextSibling):null;return!0}function Bu(){for(var n=pt;n;)n=nn(n.nextSibling)}function Kn(){pt=ft=null,Pe=!1}function Us(n){wt===null?wt=[n]:wt.push(n)}var ym=z.ReactCurrentBatchConfig;function Ho(n,r,s){if(n=s.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(o(309));var d=s.stateNode}if(!d)throw Error(o(147,n));var h=d,v=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===v?r.ref:(r=function(T){var _=h.refs;T===null?delete _[v]:_[v]=T},r._stringRef=v,r)}if(typeof n!="string")throw Error(o(284));if(!s._owner)throw Error(o(290,n))}return n}function Vr(n,r){throw n=Object.prototype.toString.call(r),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function qu(n){var r=n._init;return r(n._payload)}function zu(n){function r(k,N){if(n){var P=k.deletions;P===null?(k.deletions=[N],k.flags|=16):P.push(N)}}function s(k,N){if(!n)return null;for(;N!==null;)r(k,N),N=N.sibling;return null}function d(k,N){for(k=new Map;N!==null;)N.key!==null?k.set(N.key,N):k.set(N.index,N),N=N.sibling;return k}function h(k,N){return k=hn(k,N),k.index=0,k.sibling=null,k}function v(k,N,P){return k.index=P,n?(P=k.alternate,P!==null?(P=P.index,P<N?(k.flags|=2,N):P):(k.flags|=2,N)):(k.flags|=1048576,N)}function T(k){return n&&k.alternate===null&&(k.flags|=2),k}function _(k,N,P,B){return N===null||N.tag!==6?(N=Il(P,k.mode,B),N.return=k,N):(N=h(N,P),N.return=k,N)}function I(k,N,P,B){var oe=P.type;return oe===Z?G(k,N,P.props.children,B,P.key):N!==null&&(N.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===_e&&qu(oe)===N.type)?(B=h(N,P.props),B.ref=Ho(k,N,P),B.return=k,B):(B=li(P.type,P.key,P.props,null,k.mode,B),B.ref=Ho(k,N,P),B.return=k,B)}function L(k,N,P,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Nl(P,k.mode,B),N.return=k,N):(N=h(N,P.children||[]),N.return=k,N)}function G(k,N,P,B,oe){return N===null||N.tag!==7?(N=kn(P,k.mode,B,oe),N.return=k,N):(N=h(N,P),N.return=k,N)}function H(k,N,P){if(typeof N=="string"&&N!==""||typeof N=="number")return N=Il(""+N,k.mode,P),N.return=k,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case te:return P=li(N.type,N.key,N.props,null,k.mode,P),P.ref=Ho(k,null,N),P.return=k,P;case Y:return N=Nl(N,k.mode,P),N.return=k,N;case _e:var B=N._init;return H(k,B(N._payload),P)}if(ho(N)||ie(N))return N=kn(N,k.mode,P,null),N.return=k,N;Vr(k,N)}return null}function V(k,N,P,B){var oe=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return oe!==null?null:_(k,N,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case te:return P.key===oe?I(k,N,P,B):null;case Y:return P.key===oe?L(k,N,P,B):null;case _e:return oe=P._init,V(k,N,oe(P._payload),B)}if(ho(P)||ie(P))return oe!==null?null:G(k,N,P,B,null);Vr(k,P)}return null}function K(k,N,P,B,oe){if(typeof B=="string"&&B!==""||typeof B=="number")return k=k.get(P)||null,_(N,k,""+B,oe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case te:return k=k.get(B.key===null?P:B.key)||null,I(N,k,B,oe);case Y:return k=k.get(B.key===null?P:B.key)||null,L(N,k,B,oe);case _e:var se=B._init;return K(k,N,P,se(B._payload),oe)}if(ho(B)||ie(B))return k=k.get(P)||null,G(N,k,B,oe,null);Vr(N,B)}return null}function j(k,N,P,B){for(var oe=null,se=null,le=N,de=N=0,Oe=null;le!==null&&de<P.length;de++){le.index>de?(Oe=le,le=null):Oe=le.sibling;var xe=V(k,le,P[de],B);if(xe===null){le===null&&(le=Oe);break}n&&le&&xe.alternate===null&&r(k,le),N=v(xe,N,de),se===null?oe=xe:se.sibling=xe,se=xe,le=Oe}if(de===P.length)return s(k,le),Pe&&Tn(k,de),oe;if(le===null){for(;de<P.length;de++)le=H(k,P[de],B),le!==null&&(N=v(le,N,de),se===null?oe=le:se.sibling=le,se=le);return Pe&&Tn(k,de),oe}for(le=d(k,le);de<P.length;de++)Oe=K(le,k,de,P[de],B),Oe!==null&&(n&&Oe.alternate!==null&&le.delete(Oe.key===null?de:Oe.key),N=v(Oe,N,de),se===null?oe=Oe:se.sibling=Oe,se=Oe);return n&&le.forEach(function(mn){return r(k,mn)}),Pe&&Tn(k,de),oe}function ne(k,N,P,B){var oe=ie(P);if(typeof oe!="function")throw Error(o(150));if(P=oe.call(P),P==null)throw Error(o(151));for(var se=oe=null,le=N,de=N=0,Oe=null,xe=P.next();le!==null&&!xe.done;de++,xe=P.next()){le.index>de?(Oe=le,le=null):Oe=le.sibling;var mn=V(k,le,xe.value,B);if(mn===null){le===null&&(le=Oe);break}n&&le&&mn.alternate===null&&r(k,le),N=v(mn,N,de),se===null?oe=mn:se.sibling=mn,se=mn,le=Oe}if(xe.done)return s(k,le),Pe&&Tn(k,de),oe;if(le===null){for(;!xe.done;de++,xe=P.next())xe=H(k,xe.value,B),xe!==null&&(N=v(xe,N,de),se===null?oe=xe:se.sibling=xe,se=xe);return Pe&&Tn(k,de),oe}for(le=d(k,le);!xe.done;de++,xe=P.next())xe=K(le,k,de,xe.value,B),xe!==null&&(n&&xe.alternate!==null&&le.delete(xe.key===null?de:xe.key),N=v(xe,N,de),se===null?oe=xe:se.sibling=xe,se=xe);return n&&le.forEach(function(Xm){return r(k,Xm)}),Pe&&Tn(k,de),oe}function Ge(k,N,P,B){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case te:e:{for(var oe=P.key,se=N;se!==null;){if(se.key===oe){if(oe=P.type,oe===Z){if(se.tag===7){s(k,se.sibling),N=h(se,P.props.children),N.return=k,k=N;break e}}else if(se.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===_e&&qu(oe)===se.type){s(k,se.sibling),N=h(se,P.props),N.ref=Ho(k,se,P),N.return=k,k=N;break e}s(k,se);break}else r(k,se);se=se.sibling}P.type===Z?(N=kn(P.props.children,k.mode,B,P.key),N.return=k,k=N):(B=li(P.type,P.key,P.props,null,k.mode,B),B.ref=Ho(k,N,P),B.return=k,k=B)}return T(k);case Y:e:{for(se=P.key;N!==null;){if(N.key===se)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){s(k,N.sibling),N=h(N,P.children||[]),N.return=k,k=N;break e}else{s(k,N);break}else r(k,N);N=N.sibling}N=Nl(P,k.mode,B),N.return=k,k=N}return T(k);case _e:return se=P._init,Ge(k,N,se(P._payload),B)}if(ho(P))return j(k,N,P,B);if(ie(P))return ne(k,N,P,B);Vr(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,N!==null&&N.tag===6?(s(k,N.sibling),N=h(N,P),N.return=k,k=N):(s(k,N),N=Il(P,k.mode,B),N.return=k,k=N),T(k)):s(k,N)}return Ge}var Yn=zu(!0),Ou=zu(!1),Gr=on(null),Hr=null,Qn=null,Fs=null;function Vs(){Fs=Qn=Hr=null}function Gs(n){var r=Gr.current;Re(Gr),n._currentValue=r}function Hs(n,r,s){for(;n!==null;){var d=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),n===s)break;n=n.return}}function Xn(n,r){Hr=n,Fs=Qn=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(st=!0),n.firstContext=null)}function vt(n){var r=n._currentValue;if(Fs!==n)if(n={context:n,memoizedValue:r,next:null},Qn===null){if(Hr===null)throw Error(o(308));Qn=n,Hr.dependencies={lanes:0,firstContext:n}}else Qn=Qn.next=n;return r}var _n=null;function bs(n){_n===null?_n=[n]:_n.push(n)}function $u(n,r,s,d){var h=r.interleaved;return h===null?(s.next=s,bs(r)):(s.next=h.next,h.next=s),r.interleaved=s,zt(n,d)}function zt(n,r){n.lanes|=r;var s=n.alternate;for(s!==null&&(s.lanes|=r),s=n,n=n.return;n!==null;)n.childLanes|=r,s=n.alternate,s!==null&&(s.childLanes|=r),s=n,n=n.return;return s.tag===3?s.stateNode:null}var ln=!1;function Bs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ju(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ot(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function an(n,r,s){var d=n.updateQueue;if(d===null)return null;if(d=d.shared,(ye&2)!==0){var h=d.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),d.pending=r,zt(n,s)}return h=d.interleaved,h===null?(r.next=r,bs(d)):(r.next=h.next,h.next=r),d.interleaved=r,zt(n,s)}function br(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194240)!==0)){var d=r.lanes;d&=n.pendingLanes,s|=d,r.lanes=s,ts(n,s)}}function Wu(n,r){var s=n.updateQueue,d=n.alternate;if(d!==null&&(d=d.updateQueue,s===d)){var h=null,v=null;if(s=s.firstBaseUpdate,s!==null){do{var T={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};v===null?h=v=T:v=v.next=T,s=s.next}while(s!==null);v===null?h=v=r:v=v.next=r}else h=v=r;s={baseState:d.baseState,firstBaseUpdate:h,lastBaseUpdate:v,shared:d.shared,effects:d.effects},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}function Br(n,r,s,d){var h=n.updateQueue;ln=!1;var v=h.firstBaseUpdate,T=h.lastBaseUpdate,_=h.shared.pending;if(_!==null){h.shared.pending=null;var I=_,L=I.next;I.next=null,T===null?v=L:T.next=L,T=I;var G=n.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==T&&(_===null?G.firstBaseUpdate=L:_.next=L,G.lastBaseUpdate=I))}if(v!==null){var H=h.baseState;T=0,G=L=I=null,_=v;do{var V=_.lane,K=_.eventTime;if((d&V)===V){G!==null&&(G=G.next={eventTime:K,lane:0,tag:_.tag,payload:_.payload,callback:_.callback,next:null});e:{var j=n,ne=_;switch(V=r,K=s,ne.tag){case 1:if(j=ne.payload,typeof j=="function"){H=j.call(K,H,V);break e}H=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=ne.payload,V=typeof j=="function"?j.call(K,H,V):j,V==null)break e;H=J({},H,V);break e;case 2:ln=!0}}_.callback!==null&&_.lane!==0&&(n.flags|=64,V=h.effects,V===null?h.effects=[_]:V.push(_))}else K={eventTime:K,lane:V,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(L=G=K,I=H):G=G.next=K,T|=V;if(_=_.next,_===null){if(_=h.shared.pending,_===null)break;V=_,_=V.next,V.next=null,h.lastBaseUpdate=V,h.shared.pending=null}}while(!0);if(G===null&&(I=H),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=G,r=h.shared.interleaved,r!==null){h=r;do T|=h.lane,h=h.next;while(h!==r)}else v===null&&(h.shared.lanes=0);In|=T,n.lanes=T,n.memoizedState=H}}function Ku(n,r,s){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var d=n[r],h=d.callback;if(h!==null){if(d.callback=null,d=s,typeof h!="function")throw Error(o(191,h));h.call(d)}}}var bo={},Ft=on(bo),Bo=on(bo),qo=on(bo);function Cn(n){if(n===bo)throw Error(o(174));return n}function qs(n,r){switch(Ne(qo,r),Ne(Bo,n),Ne(Ft,bo),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:zi(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=zi(r,n)}Re(Ft),Ne(Ft,r)}function Zn(){Re(Ft),Re(Bo),Re(qo)}function Yu(n){Cn(qo.current);var r=Cn(Ft.current),s=zi(r,n.type);r!==s&&(Ne(Bo,n),Ne(Ft,s))}function zs(n){Bo.current===n&&(Re(Ft),Re(Bo))}var De=on(0);function qr(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Os=[];function $s(){for(var n=0;n<Os.length;n++)Os[n]._workInProgressVersionPrimary=null;Os.length=0}var zr=z.ReactCurrentDispatcher,Js=z.ReactCurrentBatchConfig,wn=0,Le=null,be=null,qe=null,Or=!1,zo=!1,Oo=0,xm=0;function Qe(){throw Error(o(321))}function Ws(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!Ct(n[s],r[s]))return!1;return!0}function Ks(n,r,s,d,h,v){if(wn=v,Le=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,zr.current=n===null||n.memoizedState===null?_m:Cm,n=s(d,h),zo){v=0;do{if(zo=!1,Oo=0,25<=v)throw Error(o(301));v+=1,qe=be=null,r.updateQueue=null,zr.current=wm,n=s(d,h)}while(zo)}if(zr.current=Wr,r=be!==null&&be.next!==null,wn=0,qe=be=Le=null,Or=!1,r)throw Error(o(300));return n}function Ys(){var n=Oo!==0;return Oo=0,n}function Vt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Le.memoizedState=qe=n:qe=qe.next=n,qe}function yt(){if(be===null){var n=Le.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var r=qe===null?Le.memoizedState:qe.next;if(r!==null)qe=r,be=n;else{if(n===null)throw Error(o(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},qe===null?Le.memoizedState=qe=n:qe=qe.next=n}return qe}function $o(n,r){return typeof r=="function"?r(n):r}function Qs(n){var r=yt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var d=be,h=d.baseQueue,v=s.pending;if(v!==null){if(h!==null){var T=h.next;h.next=v.next,v.next=T}d.baseQueue=h=v,s.pending=null}if(h!==null){v=h.next,d=d.baseState;var _=T=null,I=null,L=v;do{var G=L.lane;if((wn&G)===G)I!==null&&(I=I.next={lane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),d=L.hasEagerState?L.eagerState:n(d,L.action);else{var H={lane:G,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null};I===null?(_=I=H,T=d):I=I.next=H,Le.lanes|=G,In|=G}L=L.next}while(L!==null&&L!==v);I===null?T=d:I.next=_,Ct(d,r.memoizedState)||(st=!0),r.memoizedState=d,r.baseState=T,r.baseQueue=I,s.lastRenderedState=d}if(n=s.interleaved,n!==null){h=n;do v=h.lane,Le.lanes|=v,In|=v,h=h.next;while(h!==n)}else h===null&&(s.lanes=0);return[r.memoizedState,s.dispatch]}function Xs(n){var r=yt(),s=r.queue;if(s===null)throw Error(o(311));s.lastRenderedReducer=n;var d=s.dispatch,h=s.pending,v=r.memoizedState;if(h!==null){s.pending=null;var T=h=h.next;do v=n(v,T.action),T=T.next;while(T!==h);Ct(v,r.memoizedState)||(st=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),s.lastRenderedState=v}return[v,d]}function Qu(){}function Xu(n,r){var s=Le,d=yt(),h=r(),v=!Ct(d.memoizedState,h);if(v&&(d.memoizedState=h,st=!0),d=d.queue,Zs(ec.bind(null,s,d,n),[n]),d.getSnapshot!==r||v||qe!==null&&qe.memoizedState.tag&1){if(s.flags|=2048,Jo(9,ju.bind(null,s,d,h,r),void 0,null),ze===null)throw Error(o(349));(wn&30)!==0||Zu(s,r,h)}return h}function Zu(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=Le.updateQueue,r===null?(r={lastEffect:null,stores:null},Le.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function ju(n,r,s,d){r.value=s,r.getSnapshot=d,tc(r)&&nc(n)}function ec(n,r,s){return s(function(){tc(r)&&nc(n)})}function tc(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!Ct(n,s)}catch{return!0}}function nc(n){var r=zt(n,1);r!==null&&Rt(r,n,1,-1)}function oc(n){var r=Vt();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:n},r.queue=n,n=n.dispatch=Tm.bind(null,Le,n),[r.memoizedState,n]}function Jo(n,r,s,d){return n={tag:n,create:r,destroy:s,deps:d,next:null},r=Le.updateQueue,r===null?(r={lastEffect:null,stores:null},Le.updateQueue=r,r.lastEffect=n.next=n):(s=r.lastEffect,s===null?r.lastEffect=n.next=n:(d=s.next,s.next=n,n.next=d,r.lastEffect=n)),n}function rc(){return yt().memoizedState}function $r(n,r,s,d){var h=Vt();Le.flags|=n,h.memoizedState=Jo(1|r,s,void 0,d===void 0?null:d)}function Jr(n,r,s,d){var h=yt();d=d===void 0?null:d;var v=void 0;if(be!==null){var T=be.memoizedState;if(v=T.destroy,d!==null&&Ws(d,T.deps)){h.memoizedState=Jo(r,s,v,d);return}}Le.flags|=n,h.memoizedState=Jo(1|r,s,v,d)}function ic(n,r){return $r(8390656,8,n,r)}function Zs(n,r){return Jr(2048,8,n,r)}function sc(n,r){return Jr(4,2,n,r)}function lc(n,r){return Jr(4,4,n,r)}function ac(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function uc(n,r,s){return s=s!=null?s.concat([n]):null,Jr(4,4,ac.bind(null,r,n),s)}function js(){}function cc(n,r){var s=yt();r=r===void 0?null:r;var d=s.memoizedState;return d!==null&&r!==null&&Ws(r,d[1])?d[0]:(s.memoizedState=[n,r],n)}function dc(n,r){var s=yt();r=r===void 0?null:r;var d=s.memoizedState;return d!==null&&r!==null&&Ws(r,d[1])?d[0]:(n=n(),s.memoizedState=[n,r],n)}function fc(n,r,s){return(wn&21)===0?(n.baseState&&(n.baseState=!1,st=!0),n.memoizedState=s):(Ct(s,r)||(s=qa(),Le.lanes|=s,In|=s,n.baseState=!0),r)}function Sm(n,r){var s=we;we=s!==0&&4>s?s:4,n(!0);var d=Js.transition;Js.transition={};try{n(!1),r()}finally{we=s,Js.transition=d}}function pc(){return yt().memoizedState}function Em(n,r,s){var d=fn(n);if(s={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null},hc(n))mc(r,s);else if(s=$u(n,r,s,d),s!==null){var h=tt();Rt(s,n,d,h),gc(s,r,d)}}function Tm(n,r,s){var d=fn(n),h={lane:d,action:s,hasEagerState:!1,eagerState:null,next:null};if(hc(n))mc(r,h);else{var v=n.alternate;if(n.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var T=r.lastRenderedState,_=v(T,s);if(h.hasEagerState=!0,h.eagerState=_,Ct(_,T)){var I=r.interleaved;I===null?(h.next=h,bs(r)):(h.next=I.next,I.next=h),r.interleaved=h;return}}catch{}finally{}s=$u(n,r,h,d),s!==null&&(h=tt(),Rt(s,n,d,h),gc(s,r,d))}}function hc(n){var r=n.alternate;return n===Le||r!==null&&r===Le}function mc(n,r){zo=Or=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function gc(n,r,s){if((s&4194240)!==0){var d=r.lanes;d&=n.pendingLanes,s|=d,r.lanes=s,ts(n,s)}}var Wr={readContext:vt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},_m={readContext:vt,useCallback:function(n,r){return Vt().memoizedState=[n,r===void 0?null:r],n},useContext:vt,useEffect:ic,useImperativeHandle:function(n,r,s){return s=s!=null?s.concat([n]):null,$r(4194308,4,ac.bind(null,r,n),s)},useLayoutEffect:function(n,r){return $r(4194308,4,n,r)},useInsertionEffect:function(n,r){return $r(4,2,n,r)},useMemo:function(n,r){var s=Vt();return r=r===void 0?null:r,n=n(),s.memoizedState=[n,r],n},useReducer:function(n,r,s){var d=Vt();return r=s!==void 0?s(r):r,d.memoizedState=d.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},d.queue=n,n=n.dispatch=Em.bind(null,Le,n),[d.memoizedState,n]},useRef:function(n){var r=Vt();return n={current:n},r.memoizedState=n},useState:oc,useDebugValue:js,useDeferredValue:function(n){return Vt().memoizedState=n},useTransition:function(){var n=oc(!1),r=n[0];return n=Sm.bind(null,n[1]),Vt().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,s){var d=Le,h=Vt();if(Pe){if(s===void 0)throw Error(o(407));s=s()}else{if(s=r(),ze===null)throw Error(o(349));(wn&30)!==0||Zu(d,r,s)}h.memoizedState=s;var v={value:s,getSnapshot:r};return h.queue=v,ic(ec.bind(null,d,v,n),[n]),d.flags|=2048,Jo(9,ju.bind(null,d,v,s,r),void 0,null),s},useId:function(){var n=Vt(),r=ze.identifierPrefix;if(Pe){var s=qt,d=Bt;s=(d&~(1<<32-_t(d)-1)).toString(32)+s,r=":"+r+"R"+s,s=Oo++,0<s&&(r+="H"+s.toString(32)),r+=":"}else s=xm++,r=":"+r+"r"+s.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Cm={readContext:vt,useCallback:cc,useContext:vt,useEffect:Zs,useImperativeHandle:uc,useInsertionEffect:sc,useLayoutEffect:lc,useMemo:dc,useReducer:Qs,useRef:rc,useState:function(){return Qs($o)},useDebugValue:js,useDeferredValue:function(n){var r=yt();return fc(r,be.memoizedState,n)},useTransition:function(){var n=Qs($o)[0],r=yt().memoizedState;return[n,r]},useMutableSource:Qu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1},wm={readContext:vt,useCallback:cc,useContext:vt,useEffect:Zs,useImperativeHandle:uc,useInsertionEffect:sc,useLayoutEffect:lc,useMemo:dc,useReducer:Xs,useRef:rc,useState:function(){return Xs($o)},useDebugValue:js,useDeferredValue:function(n){var r=yt();return be===null?r.memoizedState=n:fc(r,be.memoizedState,n)},useTransition:function(){var n=Xs($o)[0],r=yt().memoizedState;return[n,r]},useMutableSource:Qu,useSyncExternalStore:Xu,useId:pc,unstable_isNewReconciler:!1};function It(n,r){if(n&&n.defaultProps){r=J({},r),n=n.defaultProps;for(var s in n)r[s]===void 0&&(r[s]=n[s]);return r}return r}function el(n,r,s,d){r=n.memoizedState,s=s(d,r),s=s==null?r:J({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Kr={isMounted:function(n){return(n=n._reactInternals)?yn(n)===n:!1},enqueueSetState:function(n,r,s){n=n._reactInternals;var d=tt(),h=fn(n),v=Ot(d,h);v.payload=r,s!=null&&(v.callback=s),r=an(n,v,h),r!==null&&(Rt(r,n,h,d),br(r,n,h))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var d=tt(),h=fn(n),v=Ot(d,h);v.tag=1,v.payload=r,s!=null&&(v.callback=s),r=an(n,v,h),r!==null&&(Rt(r,n,h,d),br(r,n,h))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=tt(),d=fn(n),h=Ot(s,d);h.tag=2,r!=null&&(h.callback=r),r=an(n,h,d),r!==null&&(Rt(r,n,d,s),br(r,n,d))}};function vc(n,r,s,d,h,v,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(d,v,T):r.prototype&&r.prototype.isPureReactComponent?!Mo(s,d)||!Mo(h,v):!0}function yc(n,r,s){var d=!1,h=rn,v=r.contextType;return typeof v=="object"&&v!==null?v=vt(v):(h=it(r)?Sn:Ye.current,d=r.contextTypes,v=(d=d!=null)?$n(n,h):rn),r=new r(s,v),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Kr,n.stateNode=r,r._reactInternals=n,d&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=h,n.__reactInternalMemoizedMaskedChildContext=v),r}function xc(n,r,s,d){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,d),r.state!==n&&Kr.enqueueReplaceState(r,r.state,null)}function tl(n,r,s,d){var h=n.stateNode;h.props=s,h.state=n.memoizedState,h.refs={},Bs(n);var v=r.contextType;typeof v=="object"&&v!==null?h.context=vt(v):(v=it(r)?Sn:Ye.current,h.context=$n(n,v)),h.state=n.memoizedState,v=r.getDerivedStateFromProps,typeof v=="function"&&(el(n,r,v,s),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Kr.enqueueReplaceState(h,h.state,null),Br(n,s,h,d),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308)}function jn(n,r){try{var s="",d=r;do s+=re(d),d=d.return;while(d);var h=s}catch(v){h=`
Error generating stack: `+v.message+`
`+v.stack}return{value:n,source:r,stack:h,digest:null}}function nl(n,r,s){return{value:n,source:null,stack:s??null,digest:r??null}}function ol(n,r){try{console.error(r.value)}catch(s){setTimeout(function(){throw s})}}var Im=typeof WeakMap=="function"?WeakMap:Map;function Sc(n,r,s){s=Ot(-1,s),s.tag=3,s.payload={element:null};var d=r.value;return s.callback=function(){ti||(ti=!0,yl=d),ol(n,r)},s}function Ec(n,r,s){s=Ot(-1,s),s.tag=3;var d=n.type.getDerivedStateFromError;if(typeof d=="function"){var h=r.value;s.payload=function(){return d(h)},s.callback=function(){ol(n,r)}}var v=n.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){ol(n,r),typeof d!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var T=r.stack;this.componentDidCatch(r.value,{componentStack:T!==null?T:""})}),s}function Tc(n,r,s){var d=n.pingCache;if(d===null){d=n.pingCache=new Im;var h=new Set;d.set(r,h)}else h=d.get(r),h===void 0&&(h=new Set,d.set(r,h));h.has(s)||(h.add(s),n=bm.bind(null,n,r,s),r.then(n,n))}function _c(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function Cc(n,r,s,d,h){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(r=Ot(-1,1),r.tag=2,an(s,r,1))),s.lanes|=1),n):(n.flags|=65536,n.lanes=h,n)}var Nm=z.ReactCurrentOwner,st=!1;function et(n,r,s,d){r.child=n===null?Ou(r,null,s,d):Yn(r,n.child,s,d)}function wc(n,r,s,d,h){s=s.render;var v=r.ref;return Xn(r,h),d=Ks(n,r,s,d,v,h),s=Ys(),n!==null&&!st?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,$t(n,r,h)):(Pe&&s&&Ps(r),r.flags|=1,et(n,r,d,h),r.child)}function Ic(n,r,s,d,h){if(n===null){var v=s.type;return typeof v=="function"&&!wl(v)&&v.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(r.tag=15,r.type=v,Nc(n,r,v,d,h)):(n=li(s.type,null,d,r,r.mode,h),n.ref=r.ref,n.return=r,r.child=n)}if(v=n.child,(n.lanes&h)===0){var T=v.memoizedProps;if(s=s.compare,s=s!==null?s:Mo,s(T,d)&&n.ref===r.ref)return $t(n,r,h)}return r.flags|=1,n=hn(v,d),n.ref=r.ref,n.return=r,r.child=n}function Nc(n,r,s,d,h){if(n!==null){var v=n.memoizedProps;if(Mo(v,d)&&n.ref===r.ref)if(st=!1,r.pendingProps=d=v,(n.lanes&h)!==0)(n.flags&131072)!==0&&(st=!0);else return r.lanes=n.lanes,$t(n,r,h)}return rl(n,r,s,d,h)}function Ac(n,r,s){var d=r.pendingProps,h=d.children,v=n!==null?n.memoizedState:null;if(d.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(to,ht),ht|=s;else{if((s&1073741824)===0)return n=v!==null?v.baseLanes|s:s,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Ne(to,ht),ht|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:s,Ne(to,ht),ht|=d}else v!==null?(d=v.baseLanes|s,r.memoizedState=null):d=s,Ne(to,ht),ht|=d;return et(n,r,h,s),r.child}function Rc(n,r){var s=r.ref;(n===null&&s!==null||n!==null&&n.ref!==s)&&(r.flags|=512,r.flags|=2097152)}function rl(n,r,s,d,h){var v=it(s)?Sn:Ye.current;return v=$n(r,v),Xn(r,h),s=Ks(n,r,s,d,v,h),d=Ys(),n!==null&&!st?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~h,$t(n,r,h)):(Pe&&d&&Ps(r),r.flags|=1,et(n,r,s,h),r.child)}function kc(n,r,s,d,h){if(it(s)){var v=!0;Mr(r)}else v=!1;if(Xn(r,h),r.stateNode===null)Qr(n,r),yc(r,s,d),tl(r,s,d,h),d=!0;else if(n===null){var T=r.stateNode,_=r.memoizedProps;T.props=_;var I=T.context,L=s.contextType;typeof L=="object"&&L!==null?L=vt(L):(L=it(s)?Sn:Ye.current,L=$n(r,L));var G=s.getDerivedStateFromProps,H=typeof G=="function"||typeof T.getSnapshotBeforeUpdate=="function";H||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==d||I!==L)&&xc(r,T,d,L),ln=!1;var V=r.memoizedState;T.state=V,Br(r,d,T,h),I=r.memoizedState,_!==d||V!==I||rt.current||ln?(typeof G=="function"&&(el(r,s,G,d),I=r.memoizedState),(_=ln||vc(r,s,_,d,V,I,L))?(H||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(r.flags|=4194308)):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=I),T.props=d,T.state=I,T.context=L,d=_):(typeof T.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{T=r.stateNode,Ju(n,r),_=r.memoizedProps,L=r.type===r.elementType?_:It(r.type,_),T.props=L,H=r.pendingProps,V=T.context,I=s.contextType,typeof I=="object"&&I!==null?I=vt(I):(I=it(s)?Sn:Ye.current,I=$n(r,I));var K=s.getDerivedStateFromProps;(G=typeof K=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(_!==H||V!==I)&&xc(r,T,d,I),ln=!1,V=r.memoizedState,T.state=V,Br(r,d,T,h);var j=r.memoizedState;_!==H||V!==j||rt.current||ln?(typeof K=="function"&&(el(r,s,K,d),j=r.memoizedState),(L=ln||vc(r,s,L,d,V,j,I)||!1)?(G||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,j,I),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,j,I)),typeof T.componentDidUpdate=="function"&&(r.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof T.componentDidUpdate!="function"||_===n.memoizedProps&&V===n.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&V===n.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=j),T.props=d,T.state=j,T.context=I,d=L):(typeof T.componentDidUpdate!="function"||_===n.memoizedProps&&V===n.memoizedState||(r.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&V===n.memoizedState||(r.flags|=1024),d=!1)}return il(n,r,s,d,v,h)}function il(n,r,s,d,h,v){Rc(n,r);var T=(r.flags&128)!==0;if(!d&&!T)return h&&Uu(r,s,!1),$t(n,r,v);d=r.stateNode,Nm.current=r;var _=T&&typeof s.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,n!==null&&T?(r.child=Yn(r,n.child,null,v),r.child=Yn(r,null,_,v)):et(n,r,_,v),r.memoizedState=d.state,h&&Uu(r,s,!0),r.child}function Pc(n){var r=n.stateNode;r.pendingContext?Du(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Du(n,r.context,!1),qs(n,r.containerInfo)}function Mc(n,r,s,d,h){return Kn(),Us(h),r.flags|=256,et(n,r,s,d),r.child}var sl={dehydrated:null,treeContext:null,retryLane:0};function ll(n){return{baseLanes:n,cachePool:null,transitions:null}}function Dc(n,r,s){var d=r.pendingProps,h=De.current,v=!1,T=(r.flags&128)!==0,_;if((_=T)||(_=n!==null&&n.memoizedState===null?!1:(h&2)!==0),_?(v=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(h|=1),Ne(De,h&1),n===null)return Ls(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(T=d.children,n=d.fallback,v?(d=r.mode,v=r.child,T={mode:"hidden",children:T},(d&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=T):v=ai(T,d,0,null),n=kn(n,d,s,null),v.return=r,n.return=r,v.sibling=n,r.child=v,r.child.memoizedState=ll(s),r.memoizedState=sl,n):al(r,T));if(h=n.memoizedState,h!==null&&(_=h.dehydrated,_!==null))return Am(n,r,T,d,_,h,s);if(v){v=d.fallback,T=r.mode,h=n.child,_=h.sibling;var I={mode:"hidden",children:d.children};return(T&1)===0&&r.child!==h?(d=r.child,d.childLanes=0,d.pendingProps=I,r.deletions=null):(d=hn(h,I),d.subtreeFlags=h.subtreeFlags&14680064),_!==null?v=hn(_,v):(v=kn(v,T,s,null),v.flags|=2),v.return=r,d.return=r,d.sibling=v,r.child=d,d=v,v=r.child,T=n.child.memoizedState,T=T===null?ll(s):{baseLanes:T.baseLanes|s,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=n.childLanes&~s,r.memoizedState=sl,d}return v=n.child,n=v.sibling,d=hn(v,{mode:"visible",children:d.children}),(r.mode&1)===0&&(d.lanes=s),d.return=r,d.sibling=null,n!==null&&(s=r.deletions,s===null?(r.deletions=[n],r.flags|=16):s.push(n)),r.child=d,r.memoizedState=null,d}function al(n,r){return r=ai({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Yr(n,r,s,d){return d!==null&&Us(d),Yn(r,n.child,null,s),n=al(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Am(n,r,s,d,h,v,T){if(s)return r.flags&256?(r.flags&=-257,d=nl(Error(o(422))),Yr(n,r,T,d)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(v=d.fallback,h=r.mode,d=ai({mode:"visible",children:d.children},h,0,null),v=kn(v,h,T,null),v.flags|=2,d.return=r,v.return=r,d.sibling=v,r.child=d,(r.mode&1)!==0&&Yn(r,n.child,null,T),r.child.memoizedState=ll(T),r.memoizedState=sl,v);if((r.mode&1)===0)return Yr(n,r,T,null);if(h.data==="$!"){if(d=h.nextSibling&&h.nextSibling.dataset,d)var _=d.dgst;return d=_,v=Error(o(419)),d=nl(v,d,void 0),Yr(n,r,T,d)}if(_=(T&n.childLanes)!==0,st||_){if(d=ze,d!==null){switch(T&-T){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=(h&(d.suspendedLanes|T))!==0?0:h,h!==0&&h!==v.retryLane&&(v.retryLane=h,zt(n,h),Rt(d,n,h,-1))}return Cl(),d=nl(Error(o(421))),Yr(n,r,T,d)}return h.data==="$?"?(r.flags|=128,r.child=n.child,r=Bm.bind(null,n),h._reactRetry=r,null):(n=v.treeContext,pt=nn(h.nextSibling),ft=r,Pe=!0,wt=null,n!==null&&(mt[gt++]=Bt,mt[gt++]=qt,mt[gt++]=En,Bt=n.id,qt=n.overflow,En=r),r=al(r,d.children),r.flags|=4096,r)}function Lc(n,r,s){n.lanes|=r;var d=n.alternate;d!==null&&(d.lanes|=r),Hs(n.return,r,s)}function ul(n,r,s,d,h){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:s,tailMode:h}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=s,v.tailMode=h)}function Uc(n,r,s){var d=r.pendingProps,h=d.revealOrder,v=d.tail;if(et(n,r,d.children,s),d=De.current,(d&2)!==0)d=d&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Lc(n,s,r);else if(n.tag===19)Lc(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}d&=1}if(Ne(De,d),(r.mode&1)===0)r.memoizedState=null;else switch(h){case"forwards":for(s=r.child,h=null;s!==null;)n=s.alternate,n!==null&&qr(n)===null&&(h=s),s=s.sibling;s=h,s===null?(h=r.child,r.child=null):(h=s.sibling,s.sibling=null),ul(r,!1,h,s,v);break;case"backwards":for(s=null,h=r.child,r.child=null;h!==null;){if(n=h.alternate,n!==null&&qr(n)===null){r.child=h;break}n=h.sibling,h.sibling=s,s=h,h=n}ul(r,!0,s,null,v);break;case"together":ul(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Qr(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function $t(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),In|=r.lanes,(s&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(o(153));if(r.child!==null){for(n=r.child,s=hn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=hn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Rm(n,r,s){switch(r.tag){case 3:Pc(r),Kn();break;case 5:Yu(r);break;case 1:it(r.type)&&Mr(r);break;case 4:qs(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,h=r.memoizedProps.value;Ne(Gr,d._currentValue),d._currentValue=h;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(Ne(De,De.current&1),r.flags|=128,null):(s&r.child.childLanes)!==0?Dc(n,r,s):(Ne(De,De.current&1),n=$t(n,r,s),n!==null?n.sibling:null);Ne(De,De.current&1);break;case 19:if(d=(s&r.childLanes)!==0,(n.flags&128)!==0){if(d)return Uc(n,r,s);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ne(De,De.current),d)break;return null;case 22:case 23:return r.lanes=0,Ac(n,r,s)}return $t(n,r,s)}var Fc,cl,Vc,Gc;Fc=function(n,r){for(var s=r.child;s!==null;){if(s.tag===5||s.tag===6)n.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},cl=function(){},Vc=function(n,r,s,d){var h=n.memoizedProps;if(h!==d){n=r.stateNode,Cn(Ft.current);var v=null;switch(s){case"input":h=Hi(n,h),d=Hi(n,d),v=[];break;case"select":h=J({},h,{value:void 0}),d=J({},d,{value:void 0}),v=[];break;case"textarea":h=qi(n,h),d=qi(n,d),v=[];break;default:typeof h.onClick!="function"&&typeof d.onClick=="function"&&(n.onclick=Rr)}Oi(s,d);var T;s=null;for(L in h)if(!d.hasOwnProperty(L)&&h.hasOwnProperty(L)&&h[L]!=null)if(L==="style"){var _=h[L];for(T in _)_.hasOwnProperty(T)&&(s||(s={}),s[T]="")}else L!=="dangerouslySetInnerHTML"&&L!=="children"&&L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?v||(v=[]):(v=v||[]).push(L,null));for(L in d){var I=d[L];if(_=h!=null?h[L]:void 0,d.hasOwnProperty(L)&&I!==_&&(I!=null||_!=null))if(L==="style")if(_){for(T in _)!_.hasOwnProperty(T)||I&&I.hasOwnProperty(T)||(s||(s={}),s[T]="");for(T in I)I.hasOwnProperty(T)&&_[T]!==I[T]&&(s||(s={}),s[T]=I[T])}else s||(v||(v=[]),v.push(L,s)),s=I;else L==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,_=_?_.__html:void 0,I!=null&&_!==I&&(v=v||[]).push(L,I)):L==="children"?typeof I!="string"&&typeof I!="number"||(v=v||[]).push(L,""+I):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&(a.hasOwnProperty(L)?(I!=null&&L==="onScroll"&&Ae("scroll",n),v||_===I||(v=[])):(v=v||[]).push(L,I))}s&&(v=v||[]).push("style",s);var L=v;(r.updateQueue=L)&&(r.flags|=4)}},Gc=function(n,r,s,d){s!==d&&(r.flags|=4)};function Wo(n,r){if(!Pe)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var d=null;s!==null;)s.alternate!==null&&(d=s),s=s.sibling;d===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:d.sibling=null}}function Xe(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,d=0;if(r)for(var h=n.child;h!==null;)s|=h.lanes|h.childLanes,d|=h.subtreeFlags&14680064,d|=h.flags&14680064,h.return=n,h=h.sibling;else for(h=n.child;h!==null;)s|=h.lanes|h.childLanes,d|=h.subtreeFlags,d|=h.flags,h.return=n,h=h.sibling;return n.subtreeFlags|=d,n.childLanes=s,r}function km(n,r,s){var d=r.pendingProps;switch(Ms(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(r),null;case 1:return it(r.type)&&Pr(),Xe(r),null;case 3:return d=r.stateNode,Zn(),Re(rt),Re(Ye),$s(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(n===null||n.child===null)&&(Fr(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,wt!==null&&(El(wt),wt=null))),cl(n,r),Xe(r),null;case 5:zs(r);var h=Cn(qo.current);if(s=r.type,n!==null&&r.stateNode!=null)Vc(n,r,s,d,h),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(o(166));return Xe(r),null}if(n=Cn(Ft.current),Fr(r)){d=r.stateNode,s=r.type;var v=r.memoizedProps;switch(d[Ut]=r,d[Vo]=v,n=(r.mode&1)!==0,s){case"dialog":Ae("cancel",d),Ae("close",d);break;case"iframe":case"object":case"embed":Ae("load",d);break;case"video":case"audio":for(h=0;h<Lo.length;h++)Ae(Lo[h],d);break;case"source":Ae("error",d);break;case"img":case"image":case"link":Ae("error",d),Ae("load",d);break;case"details":Ae("toggle",d);break;case"input":ya(d,v),Ae("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Ae("invalid",d);break;case"textarea":Ea(d,v),Ae("invalid",d)}Oi(s,v),h=null;for(var T in v)if(v.hasOwnProperty(T)){var _=v[T];T==="children"?typeof _=="string"?d.textContent!==_&&(v.suppressHydrationWarning!==!0&&Ar(d.textContent,_,n),h=["children",_]):typeof _=="number"&&d.textContent!==""+_&&(v.suppressHydrationWarning!==!0&&Ar(d.textContent,_,n),h=["children",""+_]):a.hasOwnProperty(T)&&_!=null&&T==="onScroll"&&Ae("scroll",d)}switch(s){case"input":ir(d),Sa(d,v,!0);break;case"textarea":ir(d),_a(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=Rr)}d=h,r.updateQueue=d,d!==null&&(r.flags|=4)}else{T=h.nodeType===9?h:h.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ca(s)),n==="http://www.w3.org/1999/xhtml"?s==="script"?(n=T.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof d.is=="string"?n=T.createElement(s,{is:d.is}):(n=T.createElement(s),s==="select"&&(T=n,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):n=T.createElementNS(n,s),n[Ut]=r,n[Vo]=d,Fc(n,r,!1,!1),r.stateNode=n;e:{switch(T=$i(s,d),s){case"dialog":Ae("cancel",n),Ae("close",n),h=d;break;case"iframe":case"object":case"embed":Ae("load",n),h=d;break;case"video":case"audio":for(h=0;h<Lo.length;h++)Ae(Lo[h],n);h=d;break;case"source":Ae("error",n),h=d;break;case"img":case"image":case"link":Ae("error",n),Ae("load",n),h=d;break;case"details":Ae("toggle",n),h=d;break;case"input":ya(n,d),h=Hi(n,d),Ae("invalid",n);break;case"option":h=d;break;case"select":n._wrapperState={wasMultiple:!!d.multiple},h=J({},d,{value:void 0}),Ae("invalid",n);break;case"textarea":Ea(n,d),h=qi(n,d),Ae("invalid",n);break;default:h=d}Oi(s,h),_=h;for(v in _)if(_.hasOwnProperty(v)){var I=_[v];v==="style"?Na(n,I):v==="dangerouslySetInnerHTML"?(I=I?I.__html:void 0,I!=null&&wa(n,I)):v==="children"?typeof I=="string"?(s!=="textarea"||I!=="")&&mo(n,I):typeof I=="number"&&mo(n,""+I):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?I!=null&&v==="onScroll"&&Ae("scroll",n):I!=null&&b(n,v,I,T))}switch(s){case"input":ir(n),Sa(n,d,!1);break;case"textarea":ir(n),_a(n);break;case"option":d.value!=null&&n.setAttribute("value",""+Ce(d.value));break;case"select":n.multiple=!!d.multiple,v=d.value,v!=null?Dn(n,!!d.multiple,v,!1):d.defaultValue!=null&&Dn(n,!!d.multiple,d.defaultValue,!0);break;default:typeof h.onClick=="function"&&(n.onclick=Rr)}switch(s){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Xe(r),null;case 6:if(n&&r.stateNode!=null)Gc(n,r,n.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(o(166));if(s=Cn(qo.current),Cn(Ft.current),Fr(r)){if(d=r.stateNode,s=r.memoizedProps,d[Ut]=r,(v=d.nodeValue!==s)&&(n=ft,n!==null))switch(n.tag){case 3:Ar(d.nodeValue,s,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ar(d.nodeValue,s,(n.mode&1)!==0)}v&&(r.flags|=4)}else d=(s.nodeType===9?s:s.ownerDocument).createTextNode(d),d[Ut]=r,r.stateNode=d}return Xe(r),null;case 13:if(Re(De),d=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Pe&&pt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Bu(),Kn(),r.flags|=98560,v=!1;else if(v=Fr(r),d!==null&&d.dehydrated!==null){if(n===null){if(!v)throw Error(o(318));if(v=r.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(o(317));v[Ut]=r}else Kn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Xe(r),v=!1}else wt!==null&&(El(wt),wt=null),v=!0;if(!v)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=s,r):(d=d!==null,d!==(n!==null&&n.memoizedState!==null)&&d&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(De.current&1)!==0?Be===0&&(Be=3):Cl())),r.updateQueue!==null&&(r.flags|=4),Xe(r),null);case 4:return Zn(),cl(n,r),n===null&&Uo(r.stateNode.containerInfo),Xe(r),null;case 10:return Gs(r.type._context),Xe(r),null;case 17:return it(r.type)&&Pr(),Xe(r),null;case 19:if(Re(De),v=r.memoizedState,v===null)return Xe(r),null;if(d=(r.flags&128)!==0,T=v.rendering,T===null)if(d)Wo(v,!1);else{if(Be!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(T=qr(n),T!==null){for(r.flags|=128,Wo(v,!1),d=T.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=s,s=r.child;s!==null;)v=s,n=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=n,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,n=T.dependencies,v.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),s=s.sibling;return Ne(De,De.current&1|2),r.child}n=n.sibling}v.tail!==null&&Ve()>no&&(r.flags|=128,d=!0,Wo(v,!1),r.lanes=4194304)}else{if(!d)if(n=qr(T),n!==null){if(r.flags|=128,d=!0,s=n.updateQueue,s!==null&&(r.updateQueue=s,r.flags|=4),Wo(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Pe)return Xe(r),null}else 2*Ve()-v.renderingStartTime>no&&s!==1073741824&&(r.flags|=128,d=!0,Wo(v,!1),r.lanes=4194304);v.isBackwards?(T.sibling=r.child,r.child=T):(s=v.last,s!==null?s.sibling=T:r.child=T,v.last=T)}return v.tail!==null?(r=v.tail,v.rendering=r,v.tail=r.sibling,v.renderingStartTime=Ve(),r.sibling=null,s=De.current,Ne(De,d?s&1|2:s&1),r):(Xe(r),null);case 22:case 23:return _l(),d=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==d&&(r.flags|=8192),d&&(r.mode&1)!==0?(ht&1073741824)!==0&&(Xe(r),r.subtreeFlags&6&&(r.flags|=8192)):Xe(r),null;case 24:return null;case 25:return null}throw Error(o(156,r.tag))}function Pm(n,r){switch(Ms(r),r.tag){case 1:return it(r.type)&&Pr(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Zn(),Re(rt),Re(Ye),$s(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return zs(r),null;case 13:if(Re(De),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(o(340));Kn()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return Re(De),null;case 4:return Zn(),null;case 10:return Gs(r.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var Xr=!1,Ze=!1,Mm=typeof WeakSet=="function"?WeakSet:Set,Q=null;function eo(n,r){var s=n.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(d){Fe(n,r,d)}else s.current=null}function dl(n,r,s){try{s()}catch(d){Fe(n,r,d)}}var Hc=!1;function Dm(n,r){if(_s=vr,n=vu(),ms(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var d=s.getSelection&&s.getSelection();if(d&&d.rangeCount!==0){s=d.anchorNode;var h=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{s.nodeType,v.nodeType}catch{s=null;break e}var T=0,_=-1,I=-1,L=0,G=0,H=n,V=null;t:for(;;){for(var K;H!==s||h!==0&&H.nodeType!==3||(_=T+h),H!==v||d!==0&&H.nodeType!==3||(I=T+d),H.nodeType===3&&(T+=H.nodeValue.length),(K=H.firstChild)!==null;)V=H,H=K;for(;;){if(H===n)break t;if(V===s&&++L===h&&(_=T),V===v&&++G===d&&(I=T),(K=H.nextSibling)!==null)break;H=V,V=H.parentNode}H=K}s=_===-1||I===-1?null:{start:_,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(Cs={focusedElem:n,selectionRange:s},vr=!1,Q=r;Q!==null;)if(r=Q,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Q=n;else for(;Q!==null;){r=Q;try{var j=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var ne=j.memoizedProps,Ge=j.memoizedState,k=r.stateNode,N=k.getSnapshotBeforeUpdate(r.elementType===r.type?ne:It(r.type,ne),Ge);k.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var P=r.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(B){Fe(r,r.return,B)}if(n=r.sibling,n!==null){n.return=r.return,Q=n;break}Q=r.return}return j=Hc,Hc=!1,j}function Ko(n,r,s){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var h=d=d.next;do{if((h.tag&n)===n){var v=h.destroy;h.destroy=void 0,v!==void 0&&dl(r,s,v)}h=h.next}while(h!==d)}}function Zr(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&n)===n){var d=s.create;s.destroy=d()}s=s.next}while(s!==r)}}function fl(n){var r=n.ref;if(r!==null){var s=n.stateNode;switch(n.tag){case 5:n=s;break;default:n=s}typeof r=="function"?r(n):r.current=n}}function bc(n){var r=n.alternate;r!==null&&(n.alternate=null,bc(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Ut],delete r[Vo],delete r[As],delete r[mm],delete r[gm])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Bc(n){return n.tag===5||n.tag===3||n.tag===4}function qc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Bc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pl(n,r,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?s.nodeType===8?s.parentNode.insertBefore(n,r):s.insertBefore(n,r):(s.nodeType===8?(r=s.parentNode,r.insertBefore(n,s)):(r=s,r.appendChild(n)),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Rr));else if(d!==4&&(n=n.child,n!==null))for(pl(n,r,s),n=n.sibling;n!==null;)pl(n,r,s),n=n.sibling}function hl(n,r,s){var d=n.tag;if(d===5||d===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(d!==4&&(n=n.child,n!==null))for(hl(n,r,s),n=n.sibling;n!==null;)hl(n,r,s),n=n.sibling}var We=null,Nt=!1;function un(n,r,s){for(s=s.child;s!==null;)zc(n,r,s),s=s.sibling}function zc(n,r,s){if(Lt&&typeof Lt.onCommitFiberUnmount=="function")try{Lt.onCommitFiberUnmount(dr,s)}catch{}switch(s.tag){case 5:Ze||eo(s,r);case 6:var d=We,h=Nt;We=null,un(n,r,s),We=d,Nt=h,We!==null&&(Nt?(n=We,s=s.stateNode,n.nodeType===8?n.parentNode.removeChild(s):n.removeChild(s)):We.removeChild(s.stateNode));break;case 18:We!==null&&(Nt?(n=We,s=s.stateNode,n.nodeType===8?Ns(n.parentNode,s):n.nodeType===1&&Ns(n,s),Io(n)):Ns(We,s.stateNode));break;case 4:d=We,h=Nt,We=s.stateNode.containerInfo,Nt=!0,un(n,r,s),We=d,Nt=h;break;case 0:case 11:case 14:case 15:if(!Ze&&(d=s.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){h=d=d.next;do{var v=h,T=v.destroy;v=v.tag,T!==void 0&&((v&2)!==0||(v&4)!==0)&&dl(s,r,T),h=h.next}while(h!==d)}un(n,r,s);break;case 1:if(!Ze&&(eo(s,r),d=s.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=s.memoizedProps,d.state=s.memoizedState,d.componentWillUnmount()}catch(_){Fe(s,r,_)}un(n,r,s);break;case 21:un(n,r,s);break;case 22:s.mode&1?(Ze=(d=Ze)||s.memoizedState!==null,un(n,r,s),Ze=d):un(n,r,s);break;default:un(n,r,s)}}function Oc(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var s=n.stateNode;s===null&&(s=n.stateNode=new Mm),r.forEach(function(d){var h=qm.bind(null,n,d);s.has(d)||(s.add(d),d.then(h,h))})}}function At(n,r){var s=r.deletions;if(s!==null)for(var d=0;d<s.length;d++){var h=s[d];try{var v=n,T=r,_=T;e:for(;_!==null;){switch(_.tag){case 5:We=_.stateNode,Nt=!1;break e;case 3:We=_.stateNode.containerInfo,Nt=!0;break e;case 4:We=_.stateNode.containerInfo,Nt=!0;break e}_=_.return}if(We===null)throw Error(o(160));zc(v,T,h),We=null,Nt=!1;var I=h.alternate;I!==null&&(I.return=null),h.return=null}catch(L){Fe(h,r,L)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)$c(r,n),r=r.sibling}function $c(n,r){var s=n.alternate,d=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(At(r,n),Gt(n),d&4){try{Ko(3,n,n.return),Zr(3,n)}catch(ne){Fe(n,n.return,ne)}try{Ko(5,n,n.return)}catch(ne){Fe(n,n.return,ne)}}break;case 1:At(r,n),Gt(n),d&512&&s!==null&&eo(s,s.return);break;case 5:if(At(r,n),Gt(n),d&512&&s!==null&&eo(s,s.return),n.flags&32){var h=n.stateNode;try{mo(h,"")}catch(ne){Fe(n,n.return,ne)}}if(d&4&&(h=n.stateNode,h!=null)){var v=n.memoizedProps,T=s!==null?s.memoizedProps:v,_=n.type,I=n.updateQueue;if(n.updateQueue=null,I!==null)try{_==="input"&&v.type==="radio"&&v.name!=null&&xa(h,v),$i(_,T);var L=$i(_,v);for(T=0;T<I.length;T+=2){var G=I[T],H=I[T+1];G==="style"?Na(h,H):G==="dangerouslySetInnerHTML"?wa(h,H):G==="children"?mo(h,H):b(h,G,H,L)}switch(_){case"input":bi(h,v);break;case"textarea":Ta(h,v);break;case"select":var V=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!v.multiple;var K=v.value;K!=null?Dn(h,!!v.multiple,K,!1):V!==!!v.multiple&&(v.defaultValue!=null?Dn(h,!!v.multiple,v.defaultValue,!0):Dn(h,!!v.multiple,v.multiple?[]:"",!1))}h[Vo]=v}catch(ne){Fe(n,n.return,ne)}}break;case 6:if(At(r,n),Gt(n),d&4){if(n.stateNode===null)throw Error(o(162));h=n.stateNode,v=n.memoizedProps;try{h.nodeValue=v}catch(ne){Fe(n,n.return,ne)}}break;case 3:if(At(r,n),Gt(n),d&4&&s!==null&&s.memoizedState.isDehydrated)try{Io(r.containerInfo)}catch(ne){Fe(n,n.return,ne)}break;case 4:At(r,n),Gt(n);break;case 13:At(r,n),Gt(n),h=n.child,h.flags&8192&&(v=h.memoizedState!==null,h.stateNode.isHidden=v,!v||h.alternate!==null&&h.alternate.memoizedState!==null||(vl=Ve())),d&4&&Oc(n);break;case 22:if(G=s!==null&&s.memoizedState!==null,n.mode&1?(Ze=(L=Ze)||G,At(r,n),Ze=L):At(r,n),Gt(n),d&8192){if(L=n.memoizedState!==null,(n.stateNode.isHidden=L)&&!G&&(n.mode&1)!==0)for(Q=n,G=n.child;G!==null;){for(H=Q=G;Q!==null;){switch(V=Q,K=V.child,V.tag){case 0:case 11:case 14:case 15:Ko(4,V,V.return);break;case 1:eo(V,V.return);var j=V.stateNode;if(typeof j.componentWillUnmount=="function"){d=V,s=V.return;try{r=d,j.props=r.memoizedProps,j.state=r.memoizedState,j.componentWillUnmount()}catch(ne){Fe(d,s,ne)}}break;case 5:eo(V,V.return);break;case 22:if(V.memoizedState!==null){Kc(H);continue}}K!==null?(K.return=V,Q=K):Kc(H)}G=G.sibling}e:for(G=null,H=n;;){if(H.tag===5){if(G===null){G=H;try{h=H.stateNode,L?(v=h.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(_=H.stateNode,I=H.memoizedProps.style,T=I!=null&&I.hasOwnProperty("display")?I.display:null,_.style.display=Ia("display",T))}catch(ne){Fe(n,n.return,ne)}}}else if(H.tag===6){if(G===null)try{H.stateNode.nodeValue=L?"":H.memoizedProps}catch(ne){Fe(n,n.return,ne)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===n)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===n)break e;for(;H.sibling===null;){if(H.return===null||H.return===n)break e;G===H&&(G=null),H=H.return}G===H&&(G=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:At(r,n),Gt(n),d&4&&Oc(n);break;case 21:break;default:At(r,n),Gt(n)}}function Gt(n){var r=n.flags;if(r&2){try{e:{for(var s=n.return;s!==null;){if(Bc(s)){var d=s;break e}s=s.return}throw Error(o(160))}switch(d.tag){case 5:var h=d.stateNode;d.flags&32&&(mo(h,""),d.flags&=-33);var v=qc(n);hl(n,v,h);break;case 3:case 4:var T=d.stateNode.containerInfo,_=qc(n);pl(n,_,T);break;default:throw Error(o(161))}}catch(I){Fe(n,n.return,I)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Lm(n,r,s){Q=n,Jc(n)}function Jc(n,r,s){for(var d=(n.mode&1)!==0;Q!==null;){var h=Q,v=h.child;if(h.tag===22&&d){var T=h.memoizedState!==null||Xr;if(!T){var _=h.alternate,I=_!==null&&_.memoizedState!==null||Ze;_=Xr;var L=Ze;if(Xr=T,(Ze=I)&&!L)for(Q=h;Q!==null;)T=Q,I=T.child,T.tag===22&&T.memoizedState!==null?Yc(h):I!==null?(I.return=T,Q=I):Yc(h);for(;v!==null;)Q=v,Jc(v),v=v.sibling;Q=h,Xr=_,Ze=L}Wc(n)}else(h.subtreeFlags&8772)!==0&&v!==null?(v.return=h,Q=v):Wc(n)}}function Wc(n){for(;Q!==null;){var r=Q;if((r.flags&8772)!==0){var s=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:Ze||Zr(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!Ze)if(s===null)d.componentDidMount();else{var h=r.elementType===r.type?s.memoizedProps:It(r.type,s.memoizedProps);d.componentDidUpdate(h,s.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=r.updateQueue;v!==null&&Ku(r,v,d);break;case 3:var T=r.updateQueue;if(T!==null){if(s=null,r.child!==null)switch(r.child.tag){case 5:s=r.child.stateNode;break;case 1:s=r.child.stateNode}Ku(r,T,s)}break;case 5:var _=r.stateNode;if(s===null&&r.flags&4){s=_;var I=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":I.autoFocus&&s.focus();break;case"img":I.src&&(s.src=I.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var L=r.alternate;if(L!==null){var G=L.memoizedState;if(G!==null){var H=G.dehydrated;H!==null&&Io(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}Ze||r.flags&512&&fl(r)}catch(V){Fe(r,r.return,V)}}if(r===n){Q=null;break}if(s=r.sibling,s!==null){s.return=r.return,Q=s;break}Q=r.return}}function Kc(n){for(;Q!==null;){var r=Q;if(r===n){Q=null;break}var s=r.sibling;if(s!==null){s.return=r.return,Q=s;break}Q=r.return}}function Yc(n){for(;Q!==null;){var r=Q;try{switch(r.tag){case 0:case 11:case 15:var s=r.return;try{Zr(4,r)}catch(I){Fe(r,s,I)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var h=r.return;try{d.componentDidMount()}catch(I){Fe(r,h,I)}}var v=r.return;try{fl(r)}catch(I){Fe(r,v,I)}break;case 5:var T=r.return;try{fl(r)}catch(I){Fe(r,T,I)}}}catch(I){Fe(r,r.return,I)}if(r===n){Q=null;break}var _=r.sibling;if(_!==null){_.return=r.return,Q=_;break}Q=r.return}}var Um=Math.ceil,jr=z.ReactCurrentDispatcher,ml=z.ReactCurrentOwner,xt=z.ReactCurrentBatchConfig,ye=0,ze=null,He=null,Ke=0,ht=0,to=on(0),Be=0,Yo=null,In=0,ei=0,gl=0,Qo=null,lt=null,vl=0,no=1/0,Jt=null,ti=!1,yl=null,cn=null,ni=!1,dn=null,oi=0,Xo=0,xl=null,ri=-1,ii=0;function tt(){return(ye&6)!==0?Ve():ri!==-1?ri:ri=Ve()}function fn(n){return(n.mode&1)===0?1:(ye&2)!==0&&Ke!==0?Ke&-Ke:ym.transition!==null?(ii===0&&(ii=qa()),ii):(n=we,n!==0||(n=window.event,n=n===void 0?16:Xa(n.type)),n)}function Rt(n,r,s,d){if(50<Xo)throw Xo=0,xl=null,Error(o(185));Eo(n,s,d),((ye&2)===0||n!==ze)&&(n===ze&&((ye&2)===0&&(ei|=s),Be===4&&pn(n,Ke)),at(n,d),s===1&&ye===0&&(r.mode&1)===0&&(no=Ve()+500,Dr&&sn()))}function at(n,r){var s=n.callbackNode;yh(n,r);var d=hr(n,n===ze?Ke:0);if(d===0)s!==null&&Ha(s),n.callbackNode=null,n.callbackPriority=0;else if(r=d&-d,n.callbackPriority!==r){if(s!=null&&Ha(s),r===1)n.tag===0?vm(Xc.bind(null,n)):Fu(Xc.bind(null,n)),pm(function(){(ye&6)===0&&sn()}),s=null;else{switch(za(d)){case 1:s=Zi;break;case 4:s=ba;break;case 16:s=cr;break;case 536870912:s=Ba;break;default:s=cr}s=id(s,Qc.bind(null,n))}n.callbackPriority=r,n.callbackNode=s}}function Qc(n,r){if(ri=-1,ii=0,(ye&6)!==0)throw Error(o(327));var s=n.callbackNode;if(oo()&&n.callbackNode!==s)return null;var d=hr(n,n===ze?Ke:0);if(d===0)return null;if((d&30)!==0||(d&n.expiredLanes)!==0||r)r=si(n,d);else{r=d;var h=ye;ye|=2;var v=jc();(ze!==n||Ke!==r)&&(Jt=null,no=Ve()+500,An(n,r));do try{Gm();break}catch(_){Zc(n,_)}while(!0);Vs(),jr.current=v,ye=h,He!==null?r=0:(ze=null,Ke=0,r=Be)}if(r!==0){if(r===2&&(h=ji(n),h!==0&&(d=h,r=Sl(n,h))),r===1)throw s=Yo,An(n,0),pn(n,d),at(n,Ve()),s;if(r===6)pn(n,d);else{if(h=n.current.alternate,(d&30)===0&&!Fm(h)&&(r=si(n,d),r===2&&(v=ji(n),v!==0&&(d=v,r=Sl(n,v))),r===1))throw s=Yo,An(n,0),pn(n,d),at(n,Ve()),s;switch(n.finishedWork=h,n.finishedLanes=d,r){case 0:case 1:throw Error(o(345));case 2:Rn(n,lt,Jt);break;case 3:if(pn(n,d),(d&130023424)===d&&(r=vl+500-Ve(),10<r)){if(hr(n,0)!==0)break;if(h=n.suspendedLanes,(h&d)!==d){tt(),n.pingedLanes|=n.suspendedLanes&h;break}n.timeoutHandle=Is(Rn.bind(null,n,lt,Jt),r);break}Rn(n,lt,Jt);break;case 4:if(pn(n,d),(d&4194240)===d)break;for(r=n.eventTimes,h=-1;0<d;){var T=31-_t(d);v=1<<T,T=r[T],T>h&&(h=T),d&=~v}if(d=h,d=Ve()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Um(d/1960))-d,10<d){n.timeoutHandle=Is(Rn.bind(null,n,lt,Jt),d);break}Rn(n,lt,Jt);break;case 5:Rn(n,lt,Jt);break;default:throw Error(o(329))}}}return at(n,Ve()),n.callbackNode===s?Qc.bind(null,n):null}function Sl(n,r){var s=Qo;return n.current.memoizedState.isDehydrated&&(An(n,r).flags|=256),n=si(n,r),n!==2&&(r=lt,lt=s,r!==null&&El(r)),n}function El(n){lt===null?lt=n:lt.push.apply(lt,n)}function Fm(n){for(var r=n;;){if(r.flags&16384){var s=r.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var d=0;d<s.length;d++){var h=s[d],v=h.getSnapshot;h=h.value;try{if(!Ct(v(),h))return!1}catch{return!1}}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function pn(n,r){for(r&=~gl,r&=~ei,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var s=31-_t(r),d=1<<s;n[s]=-1,r&=~d}}function Xc(n){if((ye&6)!==0)throw Error(o(327));oo();var r=hr(n,0);if((r&1)===0)return at(n,Ve()),null;var s=si(n,r);if(n.tag!==0&&s===2){var d=ji(n);d!==0&&(r=d,s=Sl(n,d))}if(s===1)throw s=Yo,An(n,0),pn(n,r),at(n,Ve()),s;if(s===6)throw Error(o(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Rn(n,lt,Jt),at(n,Ve()),null}function Tl(n,r){var s=ye;ye|=1;try{return n(r)}finally{ye=s,ye===0&&(no=Ve()+500,Dr&&sn())}}function Nn(n){dn!==null&&dn.tag===0&&(ye&6)===0&&oo();var r=ye;ye|=1;var s=xt.transition,d=we;try{if(xt.transition=null,we=1,n)return n()}finally{we=d,xt.transition=s,ye=r,(ye&6)===0&&sn()}}function _l(){ht=to.current,Re(to)}function An(n,r){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;if(s!==-1&&(n.timeoutHandle=-1,fm(s)),He!==null)for(s=He.return;s!==null;){var d=s;switch(Ms(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Pr();break;case 3:Zn(),Re(rt),Re(Ye),$s();break;case 5:zs(d);break;case 4:Zn();break;case 13:Re(De);break;case 19:Re(De);break;case 10:Gs(d.type._context);break;case 22:case 23:_l()}s=s.return}if(ze=n,He=n=hn(n.current,null),Ke=ht=r,Be=0,Yo=null,gl=ei=In=0,lt=Qo=null,_n!==null){for(r=0;r<_n.length;r++)if(s=_n[r],d=s.interleaved,d!==null){s.interleaved=null;var h=d.next,v=s.pending;if(v!==null){var T=v.next;v.next=h,d.next=T}s.pending=d}_n=null}return n}function Zc(n,r){do{var s=He;try{if(Vs(),zr.current=Wr,Or){for(var d=Le.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}Or=!1}if(wn=0,qe=be=Le=null,zo=!1,Oo=0,ml.current=null,s===null||s.return===null){Be=1,Yo=r,He=null;break}e:{var v=n,T=s.return,_=s,I=r;if(r=Ke,_.flags|=32768,I!==null&&typeof I=="object"&&typeof I.then=="function"){var L=I,G=_,H=G.tag;if((G.mode&1)===0&&(H===0||H===11||H===15)){var V=G.alternate;V?(G.updateQueue=V.updateQueue,G.memoizedState=V.memoizedState,G.lanes=V.lanes):(G.updateQueue=null,G.memoizedState=null)}var K=_c(T);if(K!==null){K.flags&=-257,Cc(K,T,_,v,r),K.mode&1&&Tc(v,L,r),r=K,I=L;var j=r.updateQueue;if(j===null){var ne=new Set;ne.add(I),r.updateQueue=ne}else j.add(I);break e}else{if((r&1)===0){Tc(v,L,r),Cl();break e}I=Error(o(426))}}else if(Pe&&_.mode&1){var Ge=_c(T);if(Ge!==null){(Ge.flags&65536)===0&&(Ge.flags|=256),Cc(Ge,T,_,v,r),Us(jn(I,_));break e}}v=I=jn(I,_),Be!==4&&(Be=2),Qo===null?Qo=[v]:Qo.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,r&=-r,v.lanes|=r;var k=Sc(v,I,r);Wu(v,k);break e;case 1:_=I;var N=v.type,P=v.stateNode;if((v.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(cn===null||!cn.has(P)))){v.flags|=65536,r&=-r,v.lanes|=r;var B=Ec(v,_,r);Wu(v,B);break e}}v=v.return}while(v!==null)}td(s)}catch(oe){r=oe,He===s&&s!==null&&(He=s=s.return);continue}break}while(!0)}function jc(){var n=jr.current;return jr.current=Wr,n===null?Wr:n}function Cl(){(Be===0||Be===3||Be===2)&&(Be=4),ze===null||(In&268435455)===0&&(ei&268435455)===0||pn(ze,Ke)}function si(n,r){var s=ye;ye|=2;var d=jc();(ze!==n||Ke!==r)&&(Jt=null,An(n,r));do try{Vm();break}catch(h){Zc(n,h)}while(!0);if(Vs(),ye=s,jr.current=d,He!==null)throw Error(o(261));return ze=null,Ke=0,Be}function Vm(){for(;He!==null;)ed(He)}function Gm(){for(;He!==null&&!uh();)ed(He)}function ed(n){var r=rd(n.alternate,n,ht);n.memoizedProps=n.pendingProps,r===null?td(n):He=r,ml.current=null}function td(n){var r=n;do{var s=r.alternate;if(n=r.return,(r.flags&32768)===0){if(s=km(s,r,ht),s!==null){He=s;return}}else{if(s=Pm(s,r),s!==null){s.flags&=32767,He=s;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Be=6,He=null;return}}if(r=r.sibling,r!==null){He=r;return}He=r=n}while(r!==null);Be===0&&(Be=5)}function Rn(n,r,s){var d=we,h=xt.transition;try{xt.transition=null,we=1,Hm(n,r,s,d)}finally{xt.transition=h,we=d}return null}function Hm(n,r,s,d){do oo();while(dn!==null);if((ye&6)!==0)throw Error(o(327));s=n.finishedWork;var h=n.finishedLanes;if(s===null)return null;if(n.finishedWork=null,n.finishedLanes=0,s===n.current)throw Error(o(177));n.callbackNode=null,n.callbackPriority=0;var v=s.lanes|s.childLanes;if(xh(n,v),n===ze&&(He=ze=null,Ke=0),(s.subtreeFlags&2064)===0&&(s.flags&2064)===0||ni||(ni=!0,id(cr,function(){return oo(),null})),v=(s.flags&15990)!==0,(s.subtreeFlags&15990)!==0||v){v=xt.transition,xt.transition=null;var T=we;we=1;var _=ye;ye|=4,ml.current=null,Dm(n,s),$c(s,n),im(Cs),vr=!!_s,Cs=_s=null,n.current=s,Lm(s),ch(),ye=_,we=T,xt.transition=v}else n.current=s;if(ni&&(ni=!1,dn=n,oi=h),v=n.pendingLanes,v===0&&(cn=null),ph(s.stateNode),at(n,Ve()),r!==null)for(d=n.onRecoverableError,s=0;s<r.length;s++)h=r[s],d(h.value,{componentStack:h.stack,digest:h.digest});if(ti)throw ti=!1,n=yl,yl=null,n;return(oi&1)!==0&&n.tag!==0&&oo(),v=n.pendingLanes,(v&1)!==0?n===xl?Xo++:(Xo=0,xl=n):Xo=0,sn(),null}function oo(){if(dn!==null){var n=za(oi),r=xt.transition,s=we;try{if(xt.transition=null,we=16>n?16:n,dn===null)var d=!1;else{if(n=dn,dn=null,oi=0,(ye&6)!==0)throw Error(o(331));var h=ye;for(ye|=4,Q=n.current;Q!==null;){var v=Q,T=v.child;if((Q.flags&16)!==0){var _=v.deletions;if(_!==null){for(var I=0;I<_.length;I++){var L=_[I];for(Q=L;Q!==null;){var G=Q;switch(G.tag){case 0:case 11:case 15:Ko(8,G,v)}var H=G.child;if(H!==null)H.return=G,Q=H;else for(;Q!==null;){G=Q;var V=G.sibling,K=G.return;if(bc(G),G===L){Q=null;break}if(V!==null){V.return=K,Q=V;break}Q=K}}}var j=v.alternate;if(j!==null){var ne=j.child;if(ne!==null){j.child=null;do{var Ge=ne.sibling;ne.sibling=null,ne=Ge}while(ne!==null)}}Q=v}}if((v.subtreeFlags&2064)!==0&&T!==null)T.return=v,Q=T;else e:for(;Q!==null;){if(v=Q,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Ko(9,v,v.return)}var k=v.sibling;if(k!==null){k.return=v.return,Q=k;break e}Q=v.return}}var N=n.current;for(Q=N;Q!==null;){T=Q;var P=T.child;if((T.subtreeFlags&2064)!==0&&P!==null)P.return=T,Q=P;else e:for(T=N;Q!==null;){if(_=Q,(_.flags&2048)!==0)try{switch(_.tag){case 0:case 11:case 15:Zr(9,_)}}catch(oe){Fe(_,_.return,oe)}if(_===T){Q=null;break e}var B=_.sibling;if(B!==null){B.return=_.return,Q=B;break e}Q=_.return}}if(ye=h,sn(),Lt&&typeof Lt.onPostCommitFiberRoot=="function")try{Lt.onPostCommitFiberRoot(dr,n)}catch{}d=!0}return d}finally{we=s,xt.transition=r}}return!1}function nd(n,r,s){r=jn(s,r),r=Sc(n,r,1),n=an(n,r,1),r=tt(),n!==null&&(Eo(n,1,r),at(n,r))}function Fe(n,r,s){if(n.tag===3)nd(n,n,s);else for(;r!==null;){if(r.tag===3){nd(r,n,s);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(cn===null||!cn.has(d))){n=jn(s,n),n=Ec(r,n,1),r=an(r,n,1),n=tt(),r!==null&&(Eo(r,1,n),at(r,n));break}}r=r.return}}function bm(n,r,s){var d=n.pingCache;d!==null&&d.delete(r),r=tt(),n.pingedLanes|=n.suspendedLanes&s,ze===n&&(Ke&s)===s&&(Be===4||Be===3&&(Ke&130023424)===Ke&&500>Ve()-vl?An(n,0):gl|=s),at(n,r)}function od(n,r){r===0&&((n.mode&1)===0?r=1:(r=pr,pr<<=1,(pr&130023424)===0&&(pr=4194304)));var s=tt();n=zt(n,r),n!==null&&(Eo(n,r,s),at(n,s))}function Bm(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),od(n,s)}function qm(n,r){var s=0;switch(n.tag){case 13:var d=n.stateNode,h=n.memoizedState;h!==null&&(s=h.retryLane);break;case 19:d=n.stateNode;break;default:throw Error(o(314))}d!==null&&d.delete(r),od(n,s)}var rd;rd=function(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps||rt.current)st=!0;else{if((n.lanes&s)===0&&(r.flags&128)===0)return st=!1,Rm(n,r,s);st=(n.flags&131072)!==0}else st=!1,Pe&&(r.flags&1048576)!==0&&Vu(r,Ur,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;Qr(n,r),n=r.pendingProps;var h=$n(r,Ye.current);Xn(r,s),h=Ks(null,r,d,n,h,s);var v=Ys();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,it(d)?(v=!0,Mr(r)):v=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,Bs(r),h.updater=Kr,r.stateNode=h,h._reactInternals=r,tl(r,d,n,s),r=il(null,r,d,!0,v,s)):(r.tag=0,Pe&&v&&Ps(r),et(null,r,h,s),r=r.child),r;case 16:d=r.elementType;e:{switch(Qr(n,r),n=r.pendingProps,h=d._init,d=h(d._payload),r.type=d,h=r.tag=Om(d),n=It(d,n),h){case 0:r=rl(null,r,d,n,s);break e;case 1:r=kc(null,r,d,n,s);break e;case 11:r=wc(null,r,d,n,s);break e;case 14:r=Ic(null,r,d,It(d.type,n),s);break e}throw Error(o(306,d,""))}return r;case 0:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:It(d,h),rl(n,r,d,h,s);case 1:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:It(d,h),kc(n,r,d,h,s);case 3:e:{if(Pc(r),n===null)throw Error(o(387));d=r.pendingProps,v=r.memoizedState,h=v.element,Ju(n,r),Br(r,d,null,s);var T=r.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){h=jn(Error(o(423)),r),r=Mc(n,r,d,s,h);break e}else if(d!==h){h=jn(Error(o(424)),r),r=Mc(n,r,d,s,h);break e}else for(pt=nn(r.stateNode.containerInfo.firstChild),ft=r,Pe=!0,wt=null,s=Ou(r,null,d,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Kn(),d===h){r=$t(n,r,s);break e}et(n,r,d,s)}r=r.child}return r;case 5:return Yu(r),n===null&&Ls(r),d=r.type,h=r.pendingProps,v=n!==null?n.memoizedProps:null,T=h.children,ws(d,h)?T=null:v!==null&&ws(d,v)&&(r.flags|=32),Rc(n,r),et(n,r,T,s),r.child;case 6:return n===null&&Ls(r),null;case 13:return Dc(n,r,s);case 4:return qs(r,r.stateNode.containerInfo),d=r.pendingProps,n===null?r.child=Yn(r,null,d,s):et(n,r,d,s),r.child;case 11:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:It(d,h),wc(n,r,d,h,s);case 7:return et(n,r,r.pendingProps,s),r.child;case 8:return et(n,r,r.pendingProps.children,s),r.child;case 12:return et(n,r,r.pendingProps.children,s),r.child;case 10:e:{if(d=r.type._context,h=r.pendingProps,v=r.memoizedProps,T=h.value,Ne(Gr,d._currentValue),d._currentValue=T,v!==null)if(Ct(v.value,T)){if(v.children===h.children&&!rt.current){r=$t(n,r,s);break e}}else for(v=r.child,v!==null&&(v.return=r);v!==null;){var _=v.dependencies;if(_!==null){T=v.child;for(var I=_.firstContext;I!==null;){if(I.context===d){if(v.tag===1){I=Ot(-1,s&-s),I.tag=2;var L=v.updateQueue;if(L!==null){L=L.shared;var G=L.pending;G===null?I.next=I:(I.next=G.next,G.next=I),L.pending=I}}v.lanes|=s,I=v.alternate,I!==null&&(I.lanes|=s),Hs(v.return,s,r),_.lanes|=s;break}I=I.next}}else if(v.tag===10)T=v.type===r.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(o(341));T.lanes|=s,_=T.alternate,_!==null&&(_.lanes|=s),Hs(T,s,r),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===r){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}et(n,r,h.children,s),r=r.child}return r;case 9:return h=r.type,d=r.pendingProps.children,Xn(r,s),h=vt(h),d=d(h),r.flags|=1,et(n,r,d,s),r.child;case 14:return d=r.type,h=It(d,r.pendingProps),h=It(d.type,h),Ic(n,r,d,h,s);case 15:return Nc(n,r,r.type,r.pendingProps,s);case 17:return d=r.type,h=r.pendingProps,h=r.elementType===d?h:It(d,h),Qr(n,r),r.tag=1,it(d)?(n=!0,Mr(r)):n=!1,Xn(r,s),yc(r,d,h),tl(r,d,h,s),il(null,r,d,!0,n,s);case 19:return Uc(n,r,s);case 22:return Ac(n,r,s)}throw Error(o(156,r.tag))};function id(n,r){return Ga(n,r)}function zm(n,r,s,d){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function St(n,r,s,d){return new zm(n,r,s,d)}function wl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Om(n){if(typeof n=="function")return wl(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Ie)return 11;if(n===Je)return 14}return 2}function hn(n,r){var s=n.alternate;return s===null?(s=St(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&14680064,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s}function li(n,r,s,d,h,v){var T=2;if(d=n,typeof n=="function")wl(n)&&(T=1);else if(typeof n=="string")T=5;else e:switch(n){case Z:return kn(s.children,h,v,r);case he:T=8,h|=8;break;case W:return n=St(12,s,r,h|2),n.elementType=W,n.lanes=v,n;case pe:return n=St(13,s,r,h),n.elementType=pe,n.lanes=v,n;case ve:return n=St(19,s,r,h),n.elementType=ve,n.lanes=v,n;case Ee:return ai(s,h,v,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ce:T=10;break e;case ae:T=9;break e;case Ie:T=11;break e;case Je:T=14;break e;case _e:T=16,d=null;break e}throw Error(o(130,n==null?n:typeof n,""))}return r=St(T,s,r,h),r.elementType=n,r.type=d,r.lanes=v,r}function kn(n,r,s,d){return n=St(7,n,d,r),n.lanes=s,n}function ai(n,r,s,d){return n=St(22,n,d,r),n.elementType=Ee,n.lanes=s,n.stateNode={isHidden:!1},n}function Il(n,r,s){return n=St(6,n,null,r),n.lanes=s,n}function Nl(n,r,s){return r=St(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function $m(n,r,s,d,h){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=es(0),this.expirationTimes=es(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=es(0),this.identifierPrefix=d,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function Al(n,r,s,d,h,v,T,_,I){return n=new $m(n,r,s,_,I),r===1?(r=1,v===!0&&(r|=8)):r=0,v=St(3,null,null,r),n.current=v,v.stateNode=n,v.memoizedState={element:d,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bs(v),n}function Jm(n,r,s){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Y,key:d==null?null:""+d,children:n,containerInfo:r,implementation:s}}function sd(n){if(!n)return rn;n=n._reactInternals;e:{if(yn(n)!==n||n.tag!==1)throw Error(o(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(it(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(o(171))}if(n.tag===1){var s=n.type;if(it(s))return Lu(n,s,r)}return r}function ld(n,r,s,d,h,v,T,_,I){return n=Al(s,d,!0,n,h,v,T,_,I),n.context=sd(null),s=n.current,d=tt(),h=fn(s),v=Ot(d,h),v.callback=r??null,an(s,v,h),n.current.lanes=h,Eo(n,h,d),at(n,d),n}function ui(n,r,s,d){var h=r.current,v=tt(),T=fn(h);return s=sd(s),r.context===null?r.context=s:r.pendingContext=s,r=Ot(v,T),r.payload={element:n},d=d===void 0?null:d,d!==null&&(r.callback=d),n=an(h,r,T),n!==null&&(Rt(n,h,T,v),br(n,h,T)),T}function ci(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function ad(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Rl(n,r){ad(n,r),(n=n.alternate)&&ad(n,r)}function Wm(){return null}var ud=typeof reportError=="function"?reportError:function(n){console.error(n)};function kl(n){this._internalRoot=n}di.prototype.render=kl.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(o(409));ui(n,r,null,null)},di.prototype.unmount=kl.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Nn(function(){ui(null,n,null,null)}),r[Ht]=null}};function di(n){this._internalRoot=n}di.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ja();n={blockedOn:null,target:n,priority:r};for(var s=0;s<jt.length&&r!==0&&r<jt[s].priority;s++);jt.splice(s,0,n),s===0&&Ya(n)}};function Pl(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fi(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function cd(){}function Km(n,r,s,d,h){if(h){if(typeof d=="function"){var v=d;d=function(){var L=ci(T);v.call(L)}}var T=ld(r,d,n,0,null,!1,!1,"",cd);return n._reactRootContainer=T,n[Ht]=T.current,Uo(n.nodeType===8?n.parentNode:n),Nn(),T}for(;h=n.lastChild;)n.removeChild(h);if(typeof d=="function"){var _=d;d=function(){var L=ci(I);_.call(L)}}var I=Al(n,0,!1,null,null,!1,!1,"",cd);return n._reactRootContainer=I,n[Ht]=I.current,Uo(n.nodeType===8?n.parentNode:n),Nn(function(){ui(r,I,s,d)}),I}function pi(n,r,s,d,h){var v=s._reactRootContainer;if(v){var T=v;if(typeof h=="function"){var _=h;h=function(){var I=ci(T);_.call(I)}}ui(r,T,n,h)}else T=Km(s,r,n,h,d);return ci(T)}Oa=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var s=So(r.pendingLanes);s!==0&&(ts(r,s|1),at(r,Ve()),(ye&6)===0&&(no=Ve()+500,sn()))}break;case 13:Nn(function(){var d=zt(n,1);if(d!==null){var h=tt();Rt(d,n,1,h)}}),Rl(n,1)}},ns=function(n){if(n.tag===13){var r=zt(n,134217728);if(r!==null){var s=tt();Rt(r,n,134217728,s)}Rl(n,134217728)}},$a=function(n){if(n.tag===13){var r=fn(n),s=zt(n,r);if(s!==null){var d=tt();Rt(s,n,r,d)}Rl(n,r)}},Ja=function(){return we},Wa=function(n,r){var s=we;try{return we=n,r()}finally{we=s}},Ki=function(n,r,s){switch(r){case"input":if(bi(n,s),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<s.length;r++){var d=s[r];if(d!==n&&d.form===n.form){var h=kr(d);if(!h)throw Error(o(90));va(d),bi(d,h)}}}break;case"textarea":Ta(n,s);break;case"select":r=s.value,r!=null&&Dn(n,!!s.multiple,r,!1)}},Pa=Tl,Ma=Nn;var Ym={usingClientEntryPoint:!1,Events:[Go,zn,kr,Ra,ka,Tl]},Zo={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qm={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Fa(n),n===null?null:n.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||Wm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{dr=hi.inject(Qm),Lt=hi}catch{}}return ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ym,ut.createPortal=function(n,r){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pl(r))throw Error(o(200));return Jm(n,r,null,s)},ut.createRoot=function(n,r){if(!Pl(n))throw Error(o(299));var s=!1,d="",h=ud;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=Al(n,1,!1,null,null,s,!1,d,h),n[Ht]=r.current,Uo(n.nodeType===8?n.parentNode:n),new kl(r)},ut.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=Fa(r),n=n===null?null:n.stateNode,n},ut.flushSync=function(n){return Nn(n)},ut.hydrate=function(n,r,s){if(!fi(r))throw Error(o(200));return pi(null,n,r,!0,s)},ut.hydrateRoot=function(n,r,s){if(!Pl(n))throw Error(o(405));var d=s!=null&&s.hydratedSources||null,h=!1,v="",T=ud;if(s!=null&&(s.unstable_strictMode===!0&&(h=!0),s.identifierPrefix!==void 0&&(v=s.identifierPrefix),s.onRecoverableError!==void 0&&(T=s.onRecoverableError)),r=ld(r,null,n,1,s??null,h,!1,v,T),n[Ht]=r.current,Uo(n),d)for(n=0;n<d.length;n++)s=d[n],h=s._getVersion,h=h(s._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[s,h]:r.mutableSourceEagerHydrationData.push(s,h);return new di(r)},ut.render=function(n,r,s){if(!fi(r))throw Error(o(200));return pi(null,n,r,!1,s)},ut.unmountComponentAtNode=function(n){if(!fi(n))throw Error(o(40));return n._reactRootContainer?(Nn(function(){pi(null,null,n,!1,function(){n._reactRootContainer=null,n[Ht]=null})}),!0):!1},ut.unstable_batchedUpdates=Tl,ut.unstable_renderSubtreeIntoContainer=function(n,r,s,d){if(!fi(s))throw Error(o(200));if(n==null||n._reactInternals===void 0)throw Error(o(38));return pi(n,r,s,!1,d)},ut.version="18.3.1-next-f1338f8080-20240426",ut}var yd;function ig(){if(yd)return Ll.exports;yd=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ll.exports=rg(),Ll.exports}var xd;function sg(){if(xd)return mi;xd=1;var t=ig();return mi.createRoot=t.createRoot,mi.hydrateRoot=t.hydrateRoot,mi}var lg=sg();const ag=rp(lg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cg=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,o,i)=>i?i.toUpperCase():o.toLowerCase()),Sd=t=>{const e=cg(t);return e.charAt(0).toUpperCase()+e.slice(1)},ip=(...t)=>t.filter((e,o,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===o).join(" ").trim(),dg=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=ue.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:o=2,absoluteStrokeWidth:i,className:a="",children:c,iconNode:f,...p},g)=>ue.createElement("svg",{ref:g,...fg,width:e,height:e,stroke:t,strokeWidth:i?Number(o)*24/Number(e):o,className:ip("lucide",a),...!c&&!dg(p)&&{"aria-hidden":"true"},...p},[...f.map(([m,y])=>ue.createElement(m,y)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(t,e)=>{const o=ue.forwardRef(({className:i,...a},c)=>ue.createElement(pg,{ref:c,iconNode:e,className:ip(`lucide-${ug(Sd(t))}`,`lucide-${t}`,i),...a}));return o.displayName=Sd(t),o};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ia=Ue("arrow-right",hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],gg=Ue("bot",mg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]],lo=Ue("bus",vg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nr=Ue("calendar",yg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],sp=Ue("layout-dashboard",xg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Eg=Ue("loader-circle",Sg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],_g=Ue("lock",Tg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wg=Ue("log-out",Cg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ng=Ue("mail",Ig);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ed=Ue("map-pin",Ag);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],kg=Ue("plus",Rg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]],Vl=Ue("route",Pg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Td=Ue("search",Mg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],rr=Ue("shield-check",Dg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ug=Ue("square-pen",Lg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Vg=Ue("star",Fg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],sa=Ue("ticket",Gg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hg=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Gl=Ue("trash-2",Hg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Bg=Ue("trending-up",bg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qg=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],wi=Ue("user",qg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Hl=Ue("users",zg);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ql=Ue("x",Og);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_d=Ue("zap",$g),lp="ASAP_TRAVELS_DB",gi=new Date().toISOString().split("T")[0],zl=new Date;zl.setDate(zl.getDate()+1);const vi=zl.toISOString().split("T")[0],Jg={users:[{id:"u1",name:"Admin User",email:"admin@asap.com",password:"password123",role:"ADMIN"},{id:"u2",name:"Staff Member",email:"staff@asap.com",password:"password123",role:"OPERATOR"},{id:"u3",name:"John Doe",email:"customer@test.com",password:"password123",role:"CUSTOMER"}],busTypes:[{id:"1",name:"Volvo AC Multi-Axle",seats:40,features:["AC","WiFi","Charging","Water"]},{id:"2",name:"Non-AC Sleeper",seats:30,features:["Blanket","Reading Light"]},{id:"3",name:"Luxury AC Sleeper",seats:24,features:["AC","WiFi","Snacks","Pillow"]}],buses:[{id:"b1",plateNumber:"ASAP-001",typeId:"1",operatorId:"u1",status:"ACTIVE"},{id:"b2",plateNumber:"ASAP-002",typeId:"3",operatorId:"u1",status:"ACTIVE"},{id:"b3",plateNumber:"ASAP-003",typeId:"2",operatorId:"u2",status:"ACTIVE"}],routes:[{id:"r1",source:"New York",destination:"Boston",distance:350,duration:"4h 30m"},{id:"r2",source:"Los Angeles",destination:"San Francisco",distance:600,duration:"6h 15m"},{id:"r3",source:"Chicago",destination:"Detroit",distance:450,duration:"5h 00m"},{id:"r4",source:"Seattle",destination:"Portland",distance:280,duration:"3h 15m"},{id:"r5",source:"Boston",destination:"New York",distance:350,duration:"4h 45m"}],schedules:[{id:"s1",busId:"b1",routeId:"r1",departureTime:`${gi}T08:00:00`,arrivalTime:`${gi}T12:30:00`,fare:45},{id:"s2",busId:"b2",routeId:"r1",departureTime:`${gi}T14:00:00`,arrivalTime:`${gi}T18:30:00`,fare:65},{id:"s3",busId:"b3",routeId:"r2",departureTime:`${vi}T09:00:00`,arrivalTime:`${vi}T15:15:00`,fare:55},{id:"s4",busId:"b1",routeId:"r5",departureTime:`${vi}T07:30:00`,arrivalTime:`${vi}T12:15:00`,fare:42}],inventory:[],bookings:[]};let X=(()=>{const t=localStorage.getItem(lp);if(t)try{return JSON.parse(t)}catch{console.error("Failed to parse saved DB, resetting to defaults.")}return JSON.parse(JSON.stringify(Jg))})();const kt=()=>{localStorage.setItem(lp,JSON.stringify(X))},ap=t=>{const e=X.buses.find(i=>i.id===t.busId),o=X.busTypes.find(i=>i.id===(e==null?void 0:e.typeId));if(o){if(X.inventory.some(i=>i.scheduleId===t.id))return;for(let i=1;i<=o.seats;i++)X.inventory.push({id:`i-${t.id}-${i}`,scheduleId:t.id,seatNumber:i,status:"AVAILABLE"})}};X.schedules.forEach(ap);kt();const Me={login:async(t,e)=>{await new Promise(c=>setTimeout(c,800));const o=X.users.find(c=>c.email===t&&c.password===e);if(!o)throw new Error("Invalid email or password");const{password:i,...a}=o;return a},register:async(t,e,o)=>{if(await new Promise(p=>setTimeout(p,800)),X.users.some(p=>p.email===e))throw new Error("A user with this email already exists");const a={id:`u-${Date.now()}`,name:t,email:e,password:o,role:"CUSTOMER"};X.users.push(a),kt();const{password:c,...f}=a;return f},getRoutes:async()=>[...X.routes],getBusTypes:async()=>[...X.busTypes],getAvailableLocations:async()=>{const t=new Set;return X.routes.forEach(e=>{t.add(e.source),t.add(e.destination)}),Array.from(t).sort()},getSchedules:async()=>X.schedules.map(t=>{const e=X.routes.find(i=>i.id===t.routeId),o=X.buses.find(i=>i.id===t.busId);return{...t,routeName:e?`${e.source} to ${e.destination}`:"Unknown Route",plateNumber:o?o.plateNumber:"Unknown Bus"}}),getBuses:async()=>X.buses.map(t=>{var e;return{...t,typeName:((e=X.busTypes.find(o=>o.id===t.typeId))==null?void 0:e.name)||"Unknown"}}),addBus:async t=>{const e={...t,id:`b-${Date.now()}`};return X.buses.push(e),kt(),e},deleteBus:async t=>{const e=X.buses.findIndex(o=>o.id===t);if(e>-1){const o=X.schedules.filter(i=>i.busId===t).map(i=>i.id);return X.inventory=X.inventory.filter(i=>!o.includes(i.scheduleId)),X.bookings=X.bookings.filter(i=>!o.includes(i.scheduleId)),X.schedules=X.schedules.filter(i=>i.busId!==t),X.buses.splice(e,1),kt(),!0}return!1},addRoute:async t=>{const e={...t,id:`r-${Date.now()}`};return X.routes.push(e),kt(),e},deleteRoute:async t=>{const e=X.routes.findIndex(o=>o.id===t);if(e>-1){const o=X.schedules.filter(i=>i.routeId===t).map(i=>i.id);return X.inventory=X.inventory.filter(i=>!o.includes(i.scheduleId)),X.bookings=X.bookings.filter(i=>!o.includes(i.scheduleId)),X.schedules=X.schedules.filter(i=>i.routeId!==t),X.routes.splice(e,1),kt(),!0}return!1},addSchedule:async t=>{const e={...t,id:`s-${Date.now()}`};return X.schedules.push(e),ap(e),kt(),e},updateSchedule:async(t,e)=>{const o=X.schedules.findIndex(i=>i.id===t);if(o>-1)return X.schedules[o]={...X.schedules[o],...e},kt(),X.schedules[o];throw new Error("Trip not found")},deleteSchedule:async t=>{const e=X.schedules.findIndex(o=>o.id===t);return e>-1?(X.inventory=X.inventory.filter(o=>o.scheduleId!==t),X.bookings=X.bookings.filter(o=>o.scheduleId!==t),X.schedules.splice(e,1),kt(),!0):!1},toggleSeatStatus:async(t,e)=>{const o=X.inventory.find(i=>i.scheduleId===t&&i.seatNumber===e);if(o)return o.status==="AVAILABLE"?o.status="BOOKED":o.status==="BOOKED"&&!o.bookingId&&(o.status="AVAILABLE"),kt(),o;throw new Error("Seat not found")},searchBuses:async(t,e,o)=>{const i=t.toLowerCase().trim(),a=e.toLowerCase().trim(),c=X.routes.filter(p=>p.source.toLowerCase().trim()===i&&p.destination.toLowerCase().trim()===a).map(p=>p.id);return X.schedules.filter(p=>{const g=c.includes(p.routeId),m=p.departureTime.split("T")[0]===o;return g&&m}).map(p=>{const g=X.buses.find(S=>S.id===p.busId),m=X.busTypes.find(S=>S.id===(g==null?void 0:g.typeId)),y=X.routes.find(S=>S.id===p.routeId),E=X.inventory.filter(S=>S.scheduleId===p.id&&S.status==="AVAILABLE").length;return{...p,bus:g,type:m,route:y,availableSeats:E}})},getSeatMap:async t=>[...X.inventory.filter(e=>e.scheduleId===t)],createBooking:async t=>{if(X.inventory.filter(i=>i.scheduleId===t.scheduleId&&t.seats.includes(i.seatNumber)&&i.status==="AVAILABLE").length!==t.seats.length)throw new Error("Some selected seats are no longer available.");const o={...t,id:`bk-${Date.now()}`,bookedAt:new Date().toISOString(),status:"CONFIRMED"};return X.inventory.forEach(i=>{i.scheduleId===t.scheduleId&&t.seats.includes(i.seatNumber)&&(i.status="BOOKED",i.bookingId=o.id)}),X.bookings.push(o),kt(),o},getDashboardStats:async()=>({activeBuses:X.buses.length,totalRoutes:X.routes.length,totalBookings:X.bookings.length,revenue:X.bookings.reduce((t,e)=>t+e.totalAmount,0)}),getAllBookings:async()=>X.bookings.map(t=>{const e=X.schedules.find(i=>i.id===t.scheduleId),o=X.routes.find(i=>i.id===(e==null?void 0:e.routeId));return{...t,routeName:o?`${o.source} to ${o.destination}`:"Unknown Route"}})};var Wg={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Kg,Yg;function Qg(){return{geminiUrl:Kg,vertexUrl:Yg}}function Xg(t,e,o,i){var a,c;if(!(t!=null&&t.baseUrl)){const f=Qg();return e?(a=f.vertexUrl)!==null&&a!==void 0?a:o:(c=f.geminiUrl)!==null&&c!==void 0?c:i}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kt{}function $(t,e){const o=/\{([^}]+)\}/g;return t.replace(o,(i,a)=>{if(Object.prototype.hasOwnProperty.call(e,a)){const c=e[a];return c!=null?String(c):""}else throw new Error(`Key '${a}' not found in valueMap.`)})}function u(t,e,o){for(let c=0;c<e.length-1;c++){const f=e[c];if(f.endsWith("[]")){const p=f.slice(0,-2);if(!(p in t))if(Array.isArray(o))t[p]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${f}`);if(Array.isArray(t[p])){const g=t[p];if(Array.isArray(o))for(let m=0;m<g.length;m++){const y=g[m];u(y,e.slice(c+1),o[m])}else for(const m of g)u(m,e.slice(c+1),o)}return}else if(f.endsWith("[0]")){const p=f.slice(0,-3);p in t||(t[p]=[{}]);const g=t[p];u(g[0],e.slice(c+1),o);return}(!t[f]||typeof t[f]!="object")&&(t[f]={}),t=t[f]}const i=e[e.length-1],a=t[i];if(a!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===a)return;if(typeof a=="object"&&typeof o=="object"&&a!==null&&o!==null)Object.assign(a,o);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(t,o):t[i]=o}function l(t,e,o=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let i=0;i<e.length;i++){if(typeof t!="object"||t===null)return o;const a=e[i];if(a.endsWith("[]")){const c=a.slice(0,-2);if(c in t){const f=t[c];return Array.isArray(f)?f.map(p=>l(p,e.slice(i+1),o)):o}else return o}else t=t[a]}return t}catch(i){if(i instanceof TypeError)return o;throw i}}function Zg(t,e){for(const[o,i]of Object.entries(e)){const a=o.split("."),c=i.split("."),f=new Set;let p=-1;for(let g=0;g<a.length;g++)if(a[g]==="*"){p=g;break}if(p!==-1&&c.length>p)for(let g=p;g<c.length;g++){const m=c[g];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&f.add(m)}Ol(t,a,c,0,f)}}function Ol(t,e,o,i,a){if(i>=e.length||typeof t!="object"||t===null)return;const c=e[i];if(c.endsWith("[]")){const f=c.slice(0,-2),p=t;if(f in p&&Array.isArray(p[f]))for(const g of p[f])Ol(g,e,o,i+1,a)}else if(c==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const f=t,p=Object.keys(f).filter(m=>!m.startsWith("_")&&!a.has(m)),g={};for(const m of p)g[m]=f[m];for(const[m,y]of Object.entries(g)){const E=[];for(const S of o.slice(i))S==="*"?E.push(m):E.push(S);u(f,E,y)}for(const m of p)delete f[m]}}else{const f=t;c in f&&Ol(f[c],e,o,i+1,a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function la(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jg(t){const e={},o=l(t,["operationName"]);o!=null&&u(e,["operationName"],o);const i=l(t,["resourceName"]);return i!=null&&u(e,["_url","resourceName"],i),e}function ev(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],nv(f)),e}function tv(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response"]);return f!=null&&u(e,["response"],ov(f)),e}function nv(t){const e={},o=l(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>rv(f))),u(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function ov(t){const e={},o=l(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>iv(f))),u(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function rv(t){const e={},o=l(t,["video"]);return o!=null&&u(e,["video"],dv(o)),e}function iv(t){const e={},o=l(t,["_self"]);return o!=null&&u(e,["video"],fv(o)),e}function sv(t){const e={},o=l(t,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function lv(t){const e={},o=l(t,["operationName"]);return o!=null&&u(e,["_url","operationName"],o),e}function av(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response"]);return f!=null&&u(e,["response"],uv(f)),e}function uv(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["parent"]);i!=null&&u(e,["parent"],i);const a=l(t,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function up(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response"]);return f!=null&&u(e,["response"],cv(f)),e}function cv(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["parent"]);i!=null&&u(e,["parent"],i);const a=l(t,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function dv(t){const e={},o=l(t,["uri"]);o!=null&&u(e,["uri"],o);const i=l(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],la(i));const a=l(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function fv(t){const e={},o=l(t,["gcsUri"]);o!=null&&u(e,["uri"],o);const i=l(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],la(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Cd;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Cd||(Cd={}));var wd;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(wd||(wd={}));var Id;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(Id||(Id={}));var gn;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(gn||(gn={}));var Nd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Nd||(Nd={}));var Ad;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Ad||(Ad={}));var Rd;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Rd||(Rd={}));var kd;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(kd||(kd={}));var Pd;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Pd||(Pd={}));var Md;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(Md||(Md={}));var Dd;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Dd||(Dd={}));var Ld;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Ld||(Ld={}));var Ud;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Ud||(Ud={}));var Fd;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Fd||(Fd={}));var Vd;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Vd||(Vd={}));var Gd;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Gd||(Gd={}));var Hd;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Hd||(Hd={}));var bd;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(bd||(bd={}));var Bd;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Bd||(Bd={}));var Ii;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Ii||(Ii={}));var qd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qd||(qd={}));var zd;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(zd||(zd={}));var Od;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Od||(Od={}));var $l;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})($l||($l={}));var $d;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})($d||($d={}));var Jd;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Jd||(Jd={}));var Wd;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Wd||(Wd={}));var Kd;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Kd||(Kd={}));var Yd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Yd||(Yd={}));var Qd;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Qd||(Qd={}));var Xd;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Xd||(Xd={}));var Zd;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(Zd||(Zd={}));var jd;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(jd||(jd={}));var ef;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(ef||(ef={}));var tf;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(tf||(tf={}));var nf;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(nf||(nf={}));var of;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(of||(of={}));var rf;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(rf||(rf={}));var sf;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(sf||(sf={}));var lf;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(lf||(lf={}));var af;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(af||(af={}));var uf;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(uf||(uf={}));var cf;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(cf||(cf={}));var df;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(df||(df={}));var ff;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(ff||(ff={}));var pf;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(pf||(pf={}));var hf;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(hf||(hf={}));var mf;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(mf||(mf={}));var gf;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(gf||(gf={}));var vf;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vf||(vf={}));var yf;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yf||(yf={}));var xf;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(xf||(xf={}));var Sf;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Sf||(Sf={}));var Ef;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ef||(Ef={}));var Tf;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(Tf||(Tf={}));var io;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(io||(io={}));class Jl{constructor(e){const o={};for(const i of e.headers.entries())o[i[0]]=i[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class er{get text(){var e,o,i,a,c,f,p,g;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",y=!1;const E=[];for(const S of(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[w,M]of Object.entries(S))w!=="text"&&w!=="thought"&&w!=="thoughtSignature"&&(M!==null||M!==void 0)&&E.push(w);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;y=!0,m+=S.text}}return E.length>0&&console.warn(`there are non-text parts ${E} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),y?m:void 0}get data(){var e,o,i,a,c,f,p,g;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const y=[];for(const E of(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)!==null&&g!==void 0?g:[]){for(const[S,w]of Object.entries(E))S!=="inlineData"&&(w!==null||w!==void 0)&&y.push(S);E.inlineData&&typeof E.inlineData.data=="string"&&(m+=atob(E.inlineData.data))}return y.length>0&&console.warn(`there are non-data parts ${y} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var e,o,i,a,c,f,p,g;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(y=>y.functionCall).map(y=>y.functionCall).filter(y=>y!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var e,o,i,a,c,f,p,g,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const y=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(E=>E.executableCode).map(E=>E.executableCode).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var e,o,i,a,c,f,p,g,m;if(((a=(i=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||i===void 0?void 0:i.parts)===null||a===void 0?void 0:a.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const y=(g=(p=(f=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content)===null||p===void 0?void 0:p.parts)===null||g===void 0?void 0:g.filter(E=>E.codeExecutionResult).map(E=>E.codeExecutionResult).filter(E=>E!==void 0);if((y==null?void 0:y.length)!==0)return(m=y==null?void 0:y[0])===null||m===void 0?void 0:m.output}}class _f{}class Cf{}class pv{}class hv{}class mv{}class gv{}class wf{}class If{}class Nf{}class vv{}class Ni{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new Ni;let a;const c=e;return o?a=tv(c):a=ev(c),Object.assign(i,a),i}}class Af{}class Rf{}class kf{}class Pf{}class yv{}class xv{}class Sv{}class aa{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new aa,c=av(e);return Object.assign(i,c),i}}class Ev{}class Tv{}class _v{}class Mf{}class Cv{get text(){var e,o,i;let a="",c=!1;const f=[];for(const p of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[g,m]of Object.entries(p))g!=="text"&&g!=="thought"&&m!==null&&f.push(g);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,a+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?a:void 0}get data(){var e,o,i;let a="";const c=[];for(const f of(i=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&i!==void 0?i:[]){for(const[p,g]of Object.entries(f))p!=="inlineData"&&g!==null&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(a+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),a.length>0?btoa(a):void 0}}class wv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class ua{_fromAPIResponse({apiResponse:e,_isVertexAI:o}){const i=new ua,c=up(e);return Object.assign(i,c),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function cp(t,e){const o=Se(t,e);return o?o.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}`:o.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${o}`:o:""}function dp(t){return Array.isArray(t)?t.map(e=>Ai(e)):[Ai(t)]}function Ai(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function fp(t){const e=Ai(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function pp(t){const e=Ai(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Df(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function hp(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Df(e)):[Df(t)]}function Wl(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function Lf(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function Uf(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function je(t){if(t==null)throw new Error("ContentUnion is required");return Wl(t)?t:{role:"user",parts:hp(t)}}function ca(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const i=je(o);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(t.isVertexAI()){const o=je(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>je(o)):[je(e)]}function Et(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(Lf(t)||Uf(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[je(t)]}const e=[],o=[],i=Wl(t[0]);for(const a of t){const c=Wl(a);if(c!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)e.push(a);else{if(Lf(a)||Uf(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(a)}}return i||e.push({role:"user",parts:hp(o)}),e}function Iv(t,e){t.includes("null")&&(e.nullable=!0);const o=t.filter(i=>i!=="null");if(o.length===1)e.type=Object.values(gn).includes(o[0].toUpperCase())?o[0].toUpperCase():gn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const i of o)e.anyOf.push({type:Object.values(gn).includes(i.toUpperCase())?i.toUpperCase():gn.TYPE_UNSPECIFIED})}}function ao(t){const e={},o=["items"],i=["anyOf"],a=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=t.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(e.nullable=!0,t=c[1]):c[1].type==="null"&&(e.nullable=!0,t=c[0])),t.type instanceof Array&&Iv(t.type,e);for(const[f,p]of Object.entries(t))if(p!=null)if(f=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;e.type=Object.values(gn).includes(p.toUpperCase())?p.toUpperCase():gn.TYPE_UNSPECIFIED}else if(o.includes(f))e[f]=ao(p);else if(i.includes(f)){const g=[];for(const m of p){if(m.type=="null"){e.nullable=!0;continue}g.push(ao(m))}e[f]=g}else if(a.includes(f)){const g={};for(const[m,y]of Object.entries(p))g[m]=ao(y);e[f]=g}else{if(f==="additionalProperties")continue;e[f]=p}return e}function da(t){return ao(t)}function fa(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function pa(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function co(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ao(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ao(e.response));return t}function fo(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of t)e.push(o);return e}function Nv(t,e,o,i=1){const a=!e.startsWith(`${o}/`)&&e.split("/").length===i;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:a?`projects/${t.getProject()}/locations/${t.getLocation()}/${o}/${e}`:e:a?`${o}/${e}`:e}function Yt(t,e){if(typeof e!="string")throw new Error("name must be a string");return Nv(t,e,"cachedContents")}function mp(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function vn(t){return la(t)}function Av(t){return t!=null&&typeof t=="object"&&"name"in t}function Rv(t){return t!=null&&typeof t=="object"&&"video"in t}function kv(t){return t!=null&&typeof t=="object"&&"uri"in t}function gp(t){var e;let o;if(Av(t)&&(o=t.name),!(kv(t)&&(o=t.uri,o===void 0))&&!(Rv(t)&&(o=(e=t.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof t=="string"&&(o=t),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const a=o.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${o}`);o=a[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function vp(t,e){let o;return t.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function yp(t){for(const e of["models","tunedModels","publisherModels"])if(Pv(t,e))return t[e];return[]}function Pv(t,e){return t!==null&&typeof t=="object"&&e in t}function Mv(t,e={}){const o=t,i={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(i.responseJsonSchema=o.outputSchema),e.behavior&&(i.behavior=e.behavior),{functionDeclarations:[i]}}function Dv(t,e={}){const o=[],i=new Set;for(const a of t){const c=a.name;if(i.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);i.add(c);const f=Mv(a,e);f.functionDeclarations&&o.push(...f.functionDeclarations)}return{functionDeclarations:o}}function xp(t,e){let o;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const i=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,a=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(t.isVertexAI()){if(a>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||a!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Lv(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function Sp(t){if(typeof t!="object"||t===null)return{};const e=t,o=e.inlinedResponses;if(typeof o!="object"||o===null)return t;const a=o.inlinedResponses;if(!Array.isArray(a)||a.length===0)return t;let c=!1;for(const f of a){if(typeof f!="object"||f===null)continue;const g=f.response;if(typeof g!="object"||g===null)continue;if(g.embedding!==void 0){c=!0;break}}return c&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function po(t,e){const o=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Ep(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uv(t){const e={},o=l(t,["responsesFile"]);o!=null&&u(e,["fileName"],o);const i=l(t,["inlinedResponses","inlinedResponses"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>m0(f))),u(e,["inlinedResponses"],c)}const a=l(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["inlinedEmbedContentResponses"],c)}return e}function Fv(t){const e={},o=l(t,["predictionsFormat"]);o!=null&&u(e,["format"],o);const i=l(t,["gcsDestination","outputUriPrefix"]);i!=null&&u(e,["gcsUri"],i);const a=l(t,["bigqueryDestination","outputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Vv(t){const e={},o=l(t,["format"]);o!=null&&u(e,["predictionsFormat"],o);const i=l(t,["gcsUri"]);i!=null&&u(e,["gcsDestination","outputUriPrefix"],i);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigqueryDestination","outputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(l(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function _i(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata","displayName"]);i!=null&&u(e,["displayName"],i);const a=l(t,["metadata","state"]);a!=null&&u(e,["state"],Ep(a));const c=l(t,["metadata","createTime"]);c!=null&&u(e,["createTime"],c);const f=l(t,["metadata","endTime"]);f!=null&&u(e,["endTime"],f);const p=l(t,["metadata","updateTime"]);p!=null&&u(e,["updateTime"],p);const g=l(t,["metadata","model"]);g!=null&&u(e,["model"],g);const m=l(t,["metadata","output"]);return m!=null&&u(e,["dest"],Uv(Sp(m))),e}function Kl(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(t,["state"]);a!=null&&u(e,["state"],Ep(a));const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["createTime"]);f!=null&&u(e,["createTime"],f);const p=l(t,["startTime"]);p!=null&&u(e,["startTime"],p);const g=l(t,["endTime"]);g!=null&&u(e,["endTime"],g);const m=l(t,["updateTime"]);m!=null&&u(e,["updateTime"],m);const y=l(t,["model"]);y!=null&&u(e,["model"],y);const E=l(t,["inputConfig"]);E!=null&&u(e,["src"],Gv(E));const S=l(t,["outputConfig"]);S!=null&&u(e,["dest"],Fv(Sp(S)));const w=l(t,["completionStats"]);return w!=null&&u(e,["completionStats"],w),e}function Gv(t){const e={},o=l(t,["instancesFormat"]);o!=null&&u(e,["format"],o);const i=l(t,["gcsSource","uris"]);i!=null&&u(e,["gcsUri"],i);const a=l(t,["bigquerySource","inputUri"]);return a!=null&&u(e,["bigqueryUri"],a),e}function Hv(t,e){const o={};if(l(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(l(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=l(e,["fileName"]);i!=null&&u(o,["fileName"],i);const a=l(e,["inlinedRequests"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>h0(t,f))),u(o,["requests","requests"],c)}return o}function bv(t){const e={},o=l(t,["format"]);o!=null&&u(e,["instancesFormat"],o);const i=l(t,["gcsUri"]);i!=null&&u(e,["gcsSource","uris"],i);const a=l(t,["bigqueryUri"]);if(a!=null&&u(e,["bigquerySource","inputUri"],a),l(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(l(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Bv(t){const e={},o=l(t,["data"]);if(o!=null&&u(e,["data"],o),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function qv(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function zv(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function Ov(t){const e={},o=l(t,["content"]);o!=null&&u(e,["content"],o);const i=l(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],$v(i));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const g=l(t,["index"]);g!=null&&u(e,["index"],g);const m=l(t,["logprobsResult"]);m!=null&&u(e,["logprobsResult"],m);const y=l(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>w)),u(e,["safetyRatings"],S)}const E=l(t,["urlContextMetadata"]);return E!=null&&u(e,["urlContextMetadata"],E),e}function $v(t){const e={},o=l(t,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["citations"],i)}return e}function Tp(t){const e={},o=l(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>T0(c))),u(e,["parts"],a)}const i=l(t,["role"]);return i!=null&&u(e,["role"],i),e}function Jv(t,e){const o={},i=l(t,["displayName"]);if(e!==void 0&&i!=null&&u(e,["batch","displayName"],i),l(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Wv(t,e){const o={},i=l(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(t,["dest"]);return e!==void 0&&a!=null&&u(e,["outputConfig"],Vv(Lv(a))),o}function Ff(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["src"]);a!=null&&u(o,["batch","inputConfig"],Hv(t,xp(t,a)));const c=l(e,["config"]);return c!=null&&Jv(c,o),o}function Kv(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["model"],Se(t,i));const a=l(e,["src"]);a!=null&&u(o,["inputConfig"],bv(xp(t,a)));const c=l(e,["config"]);return c!=null&&Wv(c,o),o}function Yv(t,e){const o={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["batch","displayName"],i),o}function Qv(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["src"]);a!=null&&u(o,["batch","inputConfig"],o0(t,a));const c=l(e,["config"]);return c!=null&&Yv(c,o),o}function Xv(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function Zv(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function jv(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["name"]);i!=null&&u(e,["name"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],c),e}function e0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["name"]);i!=null&&u(e,["name"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);return c!=null&&u(e,["error"],c),e}function t0(t,e){const o={},i=l(e,["contents"]);if(i!=null){let c=ca(t,i);Array.isArray(c)&&(c=c.map(f=>f)),u(o,["requests[]","request","content"],c)}const a=l(e,["config"]);return a!=null&&(u(o,["_self"],n0(a,o)),Zg(o,{"requests[].*":"requests[].request.*"})),o}function n0(t,e){const o={},i=l(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function o0(t,e){const o={},i=l(e,["fileName"]);i!=null&&u(o,["file_name"],i);const a=l(e,["inlinedRequests"]);return a!=null&&u(o,["requests"],t0(t,a)),o}function r0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function i0(t){const e={},o=l(t,["id"]);o!=null&&u(e,["id"],o);const i=l(t,["args"]);i!=null&&u(e,["args"],i);const a=l(t,["name"]);if(a!=null&&u(e,["name"],a),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function s0(t){const e={},o=l(t,["mode"]);o!=null&&u(e,["mode"],o);const i=l(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function l0(t,e,o){const i={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&u(o,["systemInstruction"],Tp(je(a)));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const p=l(e,["topK"]);p!=null&&u(i,["topK"],p);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(i,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const E=l(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const w=l(e,["presencePenalty"]);w!=null&&u(i,["presencePenalty"],w);const M=l(e,["frequencyPenalty"]);M!=null&&u(i,["frequencyPenalty"],M);const D=l(e,["seed"]);D!=null&&u(i,["seed"],D);const R=l(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],da(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(i,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=l(e,["safetySettings"]);if(o!==void 0&&b!=null){let pe=b;Array.isArray(pe)&&(pe=pe.map(ve=>_0(ve))),u(o,["safetySettings"],pe)}const z=l(e,["tools"]);if(o!==void 0&&z!=null){let pe=fo(z);Array.isArray(pe)&&(pe=pe.map(ve=>w0(co(ve)))),u(o,["tools"],pe)}const te=l(e,["toolConfig"]);if(o!==void 0&&te!=null&&u(o,["toolConfig"],C0(te)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=l(e,["cachedContent"]);o!==void 0&&Y!=null&&u(o,["cachedContent"],Yt(t,Y));const Z=l(e,["responseModalities"]);Z!=null&&u(i,["responseModalities"],Z);const he=l(e,["mediaResolution"]);he!=null&&u(i,["mediaResolution"],he);const W=l(e,["speechConfig"]);if(W!=null&&u(i,["speechConfig"],fa(W)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=l(e,["thinkingConfig"]);ce!=null&&u(i,["thinkingConfig"],ce);const ae=l(e,["imageConfig"]);ae!=null&&u(i,["imageConfig"],p0(ae));const Ie=l(e,["enableEnhancedCivicAnswers"]);return Ie!=null&&u(i,["enableEnhancedCivicAnswers"],Ie),i}function a0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(m=>Ov(m))),u(e,["candidates"],g)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&u(e,["responseId"],f);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function u0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function c0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],po(t,i)),o}function d0(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function f0(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function p0(t){const e={},o=l(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=l(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function h0(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["request","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let p=Et(a);Array.isArray(p)&&(p=p.map(g=>Tp(g))),u(o,["request","contents"],p)}const c=l(e,["metadata"]);c!=null&&u(o,["metadata"],c);const f=l(e,["config"]);return f!=null&&u(o,["request","generationConfig"],l0(t,f,l(o,["request"],{}))),o}function m0(t){const e={},o=l(t,["response"]);o!=null&&u(e,["response"],a0(o));const i=l(t,["error"]);return i!=null&&u(e,["error"],i),e}function g0(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);if(e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),l(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function v0(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);e!==void 0&&a!=null&&u(e,["_query","pageToken"],a);const c=l(t,["filter"]);return e!==void 0&&c!=null&&u(e,["_query","filter"],c),o}function y0(t){const e={},o=l(t,["config"]);return o!=null&&g0(o,e),e}function x0(t){const e={},o=l(t,["config"]);return o!=null&&v0(o,e),e}function S0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["operations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>_i(f))),u(e,["batchJobs"],c)}return e}function E0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["batchPredictionJobs"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>Kl(f))),u(e,["batchJobs"],c)}return e}function T0(t){const e={},o=l(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=l(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(t,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],r0(c));const f=l(t,["functionCall"]);f!=null&&u(e,["functionCall"],i0(f));const p=l(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=l(t,["inlineData"]);g!=null&&u(e,["inlineData"],Bv(g));const m=l(t,["text"]);m!=null&&u(e,["text"],m);const y=l(t,["thought"]);y!=null&&u(e,["thought"],y);const E=l(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function _0(t){const e={},o=l(t,["category"]);if(o!=null&&u(e,["category"],o),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function C0(t){const e={},o=l(t,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],s0(o));const i=l(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function w0(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["functionDeclarations"],y)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(t,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(t,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=l(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],d0(p));const g=l(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],f0(g));const m=l(t,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Wt;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Wt||(Wt={}));class Mn{constructor(e,o,i,a){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,i,a)}init(e,o,i){var a,c;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let f={config:{}};!i||Object.keys(i).length===0?f={config:{}}:typeof i=="object"?f=Object.assign({},i):f=i,f.config&&(f.config.pageToken=o.nextPageToken),this.paramsInternal=f,this.pageInternalSize=(c=(a=f.config)===null||a===void 0?void 0:a.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I0 extends Kt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mn(Wt.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(e){const o=Ff(this.apiClient,e),i=o._url,a=$("{model}:batchGenerateContent",i),p=o.batch.inputConfig.requests,g=p.requests,m=[];for(const y of g){const E=Object.assign({},y);if(E.systemInstruction){const S=E.systemInstruction;delete E.systemInstruction;const w=E.request;w.systemInstruction=S,E.request=w}m.push(E)}return p.requests=m,delete o.config,delete o._url,delete o._query,{path:a,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const i=o?Object.assign({},o):{},a=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${a}`),i.dest===void 0){const c=this.getGcsUri(e),f=this.getBigqueryUri(e);if(c)c.endsWith(".jsonl")?i.dest=`${c.slice(0,-6)}/dest`:i.dest=`${c}_dest_${a}`;else if(f)i.dest=`${f}_dest_${a}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Kv(this.apiClient,e);return p=$("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Kl(y))}else{const m=Ff(this.apiClient,e);return p=$("{model}:batchGenerateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>_i(y))}}async createEmbeddingsInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=Qv(this.apiClient,e);return c=$("{model}:asyncBatchEmbedContent",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>_i(g))}}async get(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=c0(this.apiClient,e);return p=$("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Kl(y))}else{const m=u0(this.apiClient,e);return p=$("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>_i(y))}}async cancel(e){var o,i,a,c;let f="",p={};if(this.apiClient.isVertexAI()){const g=zv(this.apiClient,e);f=$("batchPredictionJobs/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}else{const g=qv(this.apiClient,e);f=$("batches/{name}:cancel",g._url),p=g._query,delete g._url,delete g._query,await this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=x0(e);return p=$("batchPredictionJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=E0(y),S=new Mf;return Object.assign(S,E),S})}else{const m=y0(e);return p=$("batches",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=S0(y),S=new Mf;return Object.assign(S,E),S})}}async delete(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Zv(this.apiClient,e);return p=$("batchPredictionJobs/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>e0(y))}else{const m=Xv(this.apiClient,e);return p=$("batches/{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>jv(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N0(t){const e={},o=l(t,["data"]);if(o!=null&&u(e,["data"],o),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Vf(t){const e={},o=l(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Q0(c))),u(e,["parts"],a)}const i=l(t,["role"]);return i!=null&&u(e,["role"],i),e}function A0(t,e){const o={},i=l(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let y=Et(f);Array.isArray(y)&&(y=y.map(E=>Vf(E))),u(e,["contents"],y)}const p=l(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],Vf(je(p)));const g=l(t,["tools"]);if(e!==void 0&&g!=null){let y=g;Array.isArray(y)&&(y=y.map(E=>Z0(E))),u(e,["tools"],y)}const m=l(t,["toolConfig"]);if(e!==void 0&&m!=null&&u(e,["toolConfig"],X0(m)),l(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function R0(t,e){const o={},i=l(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(t,["expireTime"]);e!==void 0&&a!=null&&u(e,["expireTime"],a);const c=l(t,["displayName"]);e!==void 0&&c!=null&&u(e,["displayName"],c);const f=l(t,["contents"]);if(e!==void 0&&f!=null){let E=Et(f);Array.isArray(E)&&(E=E.map(S=>S)),u(e,["contents"],E)}const p=l(t,["systemInstruction"]);e!==void 0&&p!=null&&u(e,["systemInstruction"],je(p));const g=l(t,["tools"]);if(e!==void 0&&g!=null){let E=g;Array.isArray(E)&&(E=E.map(S=>j0(S))),u(e,["tools"],E)}const m=l(t,["toolConfig"]);e!==void 0&&m!=null&&u(e,["toolConfig"],m);const y=l(t,["kmsKeyName"]);return e!==void 0&&y!=null&&u(e,["encryption_spec","kmsKeyName"],y),o}function k0(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["model"],cp(t,i));const a=l(e,["config"]);return a!=null&&A0(a,o),o}function P0(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["model"],cp(t,i));const a=l(e,["config"]);return a!=null&&R0(a,o),o}function M0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],Yt(t,i)),o}function D0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],Yt(t,i)),o}function L0(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function U0(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function F0(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function V0(t){const e={},o=l(t,["id"]);o!=null&&u(e,["id"],o);const i=l(t,["args"]);i!=null&&u(e,["args"],i);const a=l(t,["name"]);if(a!=null&&u(e,["name"],a),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function G0(t){const e={},o=l(t,["mode"]);o!=null&&u(e,["mode"],o);const i=l(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function H0(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(t,["description"]);o!=null&&u(e,["description"],o);const i=l(t,["name"]);i!=null&&u(e,["name"],i);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&u(e,["response"],f);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function b0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],Yt(t,i)),o}function B0(t,e){const o={},i=l(e,["name"]);return i!=null&&u(o,["_url","name"],Yt(t,i)),o}function q0(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function z0(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function O0(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),o}function $0(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),o}function J0(t){const e={},o=l(t,["config"]);return o!=null&&O0(o,e),e}function W0(t){const e={},o=l(t,["config"]);return o!=null&&$0(o,e),e}function K0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Y0(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["cachedContents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["cachedContents"],c)}return e}function Q0(t){const e={},o=l(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=l(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(t,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],F0(c));const f=l(t,["functionCall"]);f!=null&&u(e,["functionCall"],V0(f));const p=l(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=l(t,["inlineData"]);g!=null&&u(e,["inlineData"],N0(g));const m=l(t,["text"]);m!=null&&u(e,["text"],m);const y=l(t,["thought"]);y!=null&&u(e,["thought"],y);const E=l(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function X0(t){const e={},o=l(t,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],G0(o));const i=l(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function Z0(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["functionDeclarations"],y)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(t,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(t,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=l(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],q0(p));const g=l(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],z0(g));const m=l(t,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function j0(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>H0(S))),u(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(t,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(t,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const p=l(t,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],p);const g=l(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const m=l(t,["googleSearch"]);m!=null&&u(e,["googleSearch"],m);const y=l(t,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function ey(t,e){const o={},i=l(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),o}function ty(t,e){const o={},i=l(t,["ttl"]);e!==void 0&&i!=null&&u(e,["ttl"],i);const a=l(t,["expireTime"]);return e!==void 0&&a!=null&&u(e,["expireTime"],a),o}function ny(t,e){const o={},i=l(e,["name"]);i!=null&&u(o,["_url","name"],Yt(t,i));const a=l(e,["config"]);return a!=null&&ey(a,o),o}function oy(t,e){const o={},i=l(e,["name"]);i!=null&&u(o,["_url","name"],Yt(t,i));const a=l(e,["config"]);return a!=null&&ty(a,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ry extends Kt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mn(Wt.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(o),o)}async create(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=P0(this.apiClient,e);return p=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=k0(this.apiClient,e);return p=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async get(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=B0(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=b0(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async delete(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=D0(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=U0(y),S=new kf;return Object.assign(S,E),S})}else{const m=M0(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=L0(y),S=new kf;return Object.assign(S,E),S})}}async update(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=oy(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>y)}else{const m=ny(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>y)}}async listInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=W0(e);return p=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Y0(y),S=new Pf;return Object.assign(S,E),S})}else{const m=J0(e);return p=$("cachedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=K0(y),S=new Pf;return Object.assign(S,E),S})}}}function Ri(t,e){var o={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(o[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(o[i[a]]=t[i[a]]);return o}function Gf(t){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&t[e],i=0;if(o)return o.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fe(t){return this instanceof fe?(this.v=t,this):new fe(t)}function Pt(t,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=o.apply(t,e||[]),a,c=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",f),a[Symbol.asyncIterator]=function(){return this},a;function f(w){return function(M){return Promise.resolve(M).then(w,E)}}function p(w,M){i[w]&&(a[w]=function(D){return new Promise(function(R,F){c.push([w,D,R,F])>1||g(w,D)})},M&&(a[w]=M(a[w])))}function g(w,M){try{m(i[w](M))}catch(D){S(c[0][3],D)}}function m(w){w.value instanceof fe?Promise.resolve(w.value.v).then(y,E):S(c[0][2],w)}function y(w){g("next",w)}function E(w){g("throw",w)}function S(w,M){w(M),c.shift(),c.length&&g(c[0][0],c[0][1])}}function Mt(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],o;return e?e.call(t):(t=typeof Gf=="function"?Gf(t):t[Symbol.iterator](),o={},i("next"),i("throw"),i("return"),o[Symbol.asyncIterator]=function(){return this},o);function i(c){o[c]=t[c]&&function(f){return new Promise(function(p,g){f=t[c](f),a(p,g,f.done,f.value)})}}function a(c,f,p,g){Promise.resolve(g).then(function(m){c({value:m,done:p})},f)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function iy(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const o=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:_p(o)}function _p(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function sy(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Hf(t){if(t===void 0||t.length===0)return[];const e=[],o=t.length;let i=0;for(;i<o;)if(t[i].role==="user")e.push(t[i]),i++;else{const a=[];let c=!0;for(;i<o&&t[i].role==="model";)a.push(t[i]),c&&!_p(t[i])&&(c=!1),i++;c?e.push(...a):e.pop()}return e}class ly{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new ay(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ay{constructor(e,o,i,a={},c=[]){this.apiClient=e,this.modelsModule=o,this.model=i,this.config=a,this.history=c,this.sendPromise=Promise.resolve(),sy(c)}async sendMessage(e){var o;await this.sendPromise;const i=je(e.message),a=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,f,p;const g=await a,m=(f=(c=g.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content,y=g.automaticFunctionCallingHistory,E=this.getHistory(!0).length;let S=[];y!=null&&(S=(p=y.slice(E))!==null&&p!==void 0?p:[]);const w=m?[m]:[];this.recordHistory(i,w,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),a}async sendMessageStream(e){var o;await this.sendPromise;const i=je(e.message),a=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=a.then(()=>{}).catch(()=>{});const c=await a;return this.processStreamResponse(c,i)}getHistory(e=!1){const o=e?Hf(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){return Pt(this,arguments,function*(){var a,c,f,p,g,m;const y=[];try{for(var E=!0,S=Mt(e),w;w=yield fe(S.next()),a=w.done,!a;E=!0){p=w.value,E=!1;const M=p;if(iy(M)){const D=(m=(g=M.candidates)===null||g===void 0?void 0:g[0])===null||m===void 0?void 0:m.content;D!==void 0&&y.push(D)}yield yield fe(M)}}catch(M){c={error:M}}finally{try{!E&&!a&&(f=S.return)&&(yield fe(f.call(S)))}finally{if(c)throw c.error}}this.recordHistory(o,y)})}recordHistory(e,o,i){let a=[];o.length>0&&o.every(c=>c.role!==void 0)?a=o:a.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...Hf(i)):this.history.push(e),this.history.push(...a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Mi extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Mi.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uy(t){const e={},o=l(t,["file"]);return o!=null&&u(e,["file"],o),e}function cy(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function dy(t){const e={},o=l(t,["name"]);return o!=null&&u(e,["_url","file"],gp(o)),e}function fy(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function py(t){const e={},o=l(t,["name"]);return o!=null&&u(e,["_url","file"],gp(o)),e}function hy(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),o}function my(t){const e={},o=l(t,["config"]);return o!=null&&hy(o,e),e}function gy(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["files"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["files"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vy extends Kt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mn(Wt.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>o)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=my(e);return c=$("files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=gy(g),y=new Ev;return Object.assign(y,m),y})}}async createInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=uy(e);return c=$("upload/v1beta/files",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=cy(g),y=new Tv;return Object.assign(y,m),y})}}async get(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=py(e);return c=$("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=dy(e);return c=$("files/{file}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=fy(g),y=new _v;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ci(t){const e={},o=l(t,["data"]);if(o!=null&&u(e,["data"],o),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function yy(t){const e={},o=l(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Ly(c))),u(e,["parts"],a)}const i=l(t,["role"]);return i!=null&&u(e,["role"],i),e}function xy(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Sy(t){const e={},o=l(t,["id"]);o!=null&&u(e,["id"],o);const i=l(t,["args"]);i!=null&&u(e,["args"],i);const a=l(t,["name"]);if(a!=null&&u(e,["name"],a),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ey(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(t,["description"]);o!=null&&u(e,["description"],o);const i=l(t,["name"]);i!=null&&u(e,["name"],i);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&u(e,["response"],f);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function Ty(t){const e={},o=l(t,["modelSelectionConfig"]);o!=null&&u(e,["modelConfig"],o);const i=l(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const a=l(t,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(t,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const p=l(t,["frequencyPenalty"]);p!=null&&u(e,["frequencyPenalty"],p);const g=l(t,["logprobs"]);g!=null&&u(e,["logprobs"],g);const m=l(t,["maxOutputTokens"]);m!=null&&u(e,["maxOutputTokens"],m);const y=l(t,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const E=l(t,["presencePenalty"]);E!=null&&u(e,["presencePenalty"],E);const S=l(t,["responseLogprobs"]);S!=null&&u(e,["responseLogprobs"],S);const w=l(t,["responseMimeType"]);w!=null&&u(e,["responseMimeType"],w);const M=l(t,["responseModalities"]);M!=null&&u(e,["responseModalities"],M);const D=l(t,["responseSchema"]);D!=null&&u(e,["responseSchema"],D);const R=l(t,["routingConfig"]);R!=null&&u(e,["routingConfig"],R);const F=l(t,["seed"]);F!=null&&u(e,["seed"],F);const q=l(t,["speechConfig"]);q!=null&&u(e,["speechConfig"],q);const b=l(t,["stopSequences"]);b!=null&&u(e,["stopSequences"],b);const z=l(t,["temperature"]);z!=null&&u(e,["temperature"],z);const te=l(t,["thinkingConfig"]);te!=null&&u(e,["thinkingConfig"],te);const Y=l(t,["topK"]);Y!=null&&u(e,["topK"],Y);const Z=l(t,["topP"]);if(Z!=null&&u(e,["topP"],Z),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function _y(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function Cy(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function wy(t,e){const o={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=l(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=l(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],pa(E));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],yy(je(M)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let Y=fo(D);Array.isArray(Y)&&(Y=Y.map(Z=>Fy(co(Z)))),u(e,["setup","tools"],Y)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],Uy(R));const F=l(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const b=l(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&u(e,["setup","realtimeInputConfig"],b);const z=l(t,["contextWindowCompression"]);e!==void 0&&z!=null&&u(e,["setup","contextWindowCompression"],z);const te=l(t,["proactivity"]);if(e!==void 0&&te!=null&&u(e,["setup","proactivity"],te),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function Iy(t,e){const o={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],Ty(i));const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=l(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=l(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],pa(E));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],je(M));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let Z=fo(D);Array.isArray(Z)&&(Z=Z.map(he=>Vy(co(he)))),u(e,["setup","tools"],Z)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],R);const F=l(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const b=l(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&u(e,["setup","realtimeInputConfig"],b);const z=l(t,["contextWindowCompression"]);e!==void 0&&z!=null&&u(e,["setup","contextWindowCompression"],z);const te=l(t,["proactivity"]);e!==void 0&&te!=null&&u(e,["setup","proactivity"],te);const Y=l(t,["explicitVadSignal"]);return e!==void 0&&Y!=null&&u(e,["setup","explicitVadSignal"],Y),o}function Ny(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["setup","model"],Se(t,i));const a=l(e,["config"]);return a!=null&&u(o,["config"],wy(a,o)),o}function Ay(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["setup","model"],Se(t,i));const a=l(e,["config"]);return a!=null&&u(o,["config"],Iy(a,o)),o}function Ry(t){const e={},o=l(t,["musicGenerationConfig"]);return o!=null&&u(e,["musicGenerationConfig"],o),e}function ky(t){const e={},o=l(t,["weightedPrompts"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["weightedPrompts"],i)}return e}function Py(t){const e={},o=l(t,["media"]);if(o!=null){let m=dp(o);Array.isArray(m)&&(m=m.map(y=>Ci(y))),u(e,["mediaChunks"],m)}const i=l(t,["audio"]);i!=null&&u(e,["audio"],Ci(pp(i)));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],Ci(fp(c)));const f=l(t,["text"]);f!=null&&u(e,["text"],f);const p=l(t,["activityStart"]);p!=null&&u(e,["activityStart"],p);const g=l(t,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function My(t){const e={},o=l(t,["media"]);if(o!=null){let m=dp(o);Array.isArray(m)&&(m=m.map(y=>y)),u(e,["mediaChunks"],m)}const i=l(t,["audio"]);i!=null&&u(e,["audio"],pp(i));const a=l(t,["audioStreamEnd"]);a!=null&&u(e,["audioStreamEnd"],a);const c=l(t,["video"]);c!=null&&u(e,["video"],fp(c));const f=l(t,["text"]);f!=null&&u(e,["text"],f);const p=l(t,["activityStart"]);p!=null&&u(e,["activityStart"],p);const g=l(t,["activityEnd"]);return g!=null&&u(e,["activityEnd"],g),e}function Dy(t){const e={},o=l(t,["setupComplete"]);o!=null&&u(e,["setupComplete"],o);const i=l(t,["serverContent"]);i!=null&&u(e,["serverContent"],i);const a=l(t,["toolCall"]);a!=null&&u(e,["toolCall"],a);const c=l(t,["toolCallCancellation"]);c!=null&&u(e,["toolCallCancellation"],c);const f=l(t,["usageMetadata"]);f!=null&&u(e,["usageMetadata"],Gy(f));const p=l(t,["goAway"]);p!=null&&u(e,["goAway"],p);const g=l(t,["sessionResumptionUpdate"]);g!=null&&u(e,["sessionResumptionUpdate"],g);const m=l(t,["voiceActivityDetectionSignal"]);return m!=null&&u(e,["voiceActivityDetectionSignal"],m),e}function Ly(t){const e={},o=l(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=l(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(t,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],xy(c));const f=l(t,["functionCall"]);f!=null&&u(e,["functionCall"],Sy(f));const p=l(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=l(t,["inlineData"]);g!=null&&u(e,["inlineData"],Ci(g));const m=l(t,["text"]);m!=null&&u(e,["text"],m);const y=l(t,["thought"]);y!=null&&u(e,["thought"],y);const E=l(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function Uy(t){const e={},o=l(t,["handle"]);if(o!=null&&u(e,["handle"],o),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Fy(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["functionDeclarations"],y)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(t,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(t,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=l(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],_y(p));const g=l(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],Cy(g));const m=l(t,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function Vy(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>Ey(S))),u(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(t,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(t,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const p=l(t,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],p);const g=l(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const m=l(t,["googleSearch"]);m!=null&&u(e,["googleSearch"],m);const y=l(t,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function Gy(t){const e={},o=l(t,["promptTokenCount"]);o!=null&&u(e,["promptTokenCount"],o);const i=l(t,["cachedContentTokenCount"]);i!=null&&u(e,["cachedContentTokenCount"],i);const a=l(t,["candidatesTokenCount"]);a!=null&&u(e,["responseTokenCount"],a);const c=l(t,["toolUsePromptTokenCount"]);c!=null&&u(e,["toolUsePromptTokenCount"],c);const f=l(t,["thoughtsTokenCount"]);f!=null&&u(e,["thoughtsTokenCount"],f);const p=l(t,["totalTokenCount"]);p!=null&&u(e,["totalTokenCount"],p);const g=l(t,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(M=>M)),u(e,["promptTokensDetails"],w)}const m=l(t,["cacheTokensDetails"]);if(m!=null){let w=m;Array.isArray(w)&&(w=w.map(M=>M)),u(e,["cacheTokensDetails"],w)}const y=l(t,["candidatesTokensDetails"]);if(y!=null){let w=y;Array.isArray(w)&&(w=w.map(M=>M)),u(e,["responseTokensDetails"],w)}const E=l(t,["toolUsePromptTokensDetails"]);if(E!=null){let w=E;Array.isArray(w)&&(w=w.map(M=>M)),u(e,["toolUsePromptTokensDetails"],w)}const S=l(t,["trafficType"]);return S!=null&&u(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hy(t){const e={},o=l(t,["data"]);if(o!=null&&u(e,["data"],o),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function by(t){const e={},o=l(t,["content"]);o!=null&&u(e,["content"],o);const i=l(t,["citationMetadata"]);i!=null&&u(e,["citationMetadata"],By(i));const a=l(t,["tokenCount"]);a!=null&&u(e,["tokenCount"],a);const c=l(t,["finishReason"]);c!=null&&u(e,["finishReason"],c);const f=l(t,["avgLogprobs"]);f!=null&&u(e,["avgLogprobs"],f);const p=l(t,["groundingMetadata"]);p!=null&&u(e,["groundingMetadata"],p);const g=l(t,["index"]);g!=null&&u(e,["index"],g);const m=l(t,["logprobsResult"]);m!=null&&u(e,["logprobsResult"],m);const y=l(t,["safetyRatings"]);if(y!=null){let S=y;Array.isArray(S)&&(S=S.map(w=>w)),u(e,["safetyRatings"],S)}const E=l(t,["urlContextMetadata"]);return E!=null&&u(e,["urlContextMetadata"],E),e}function By(t){const e={},o=l(t,["citationSources"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>a)),u(e,["citations"],i)}return e}function qy(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let c=Et(a);Array.isArray(c)&&(c=c.map(f=>f)),u(o,["contents"],c)}return o}function zy(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["tokensInfo"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["tokensInfo"],a)}return e}function Oy(t){const e={},o=l(t,["values"]);o!=null&&u(e,["values"],o);const i=l(t,["statistics"]);return i!=null&&u(e,["statistics"],$y(i)),e}function $y(t){const e={},o=l(t,["truncated"]);o!=null&&u(e,["truncated"],o);const i=l(t,["token_count"]);return i!=null&&u(e,["tokenCount"],i),e}function Di(t){const e={},o=l(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>eS(c))),u(e,["parts"],a)}const i=l(t,["role"]);return i!=null&&u(e,["role"],i),e}function Jy(t){const e={},o=l(t,["controlType"]);o!=null&&u(e,["controlType"],o);const i=l(t,["enableControlImageComputation"]);return i!=null&&u(e,["computeControl"],i),e}function Wy(t){const e={};if(l(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(l(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(l(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function Ky(t,e){const o={},i=l(t,["systemInstruction"]);e!==void 0&&i!=null&&u(e,["systemInstruction"],je(i));const a=l(t,["tools"]);if(e!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>Np(p))),u(e,["tools"],f)}const c=l(t,["generationConfig"]);return e!==void 0&&c!=null&&u(e,["generationConfig"],Hx(c)),o}function Yy(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(p=>Di(p))),u(o,["contents"],f)}const c=l(e,["config"]);return c!=null&&Wy(c),o}function Qy(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["contents"],f)}const c=l(e,["config"]);return c!=null&&Ky(c,o),o}function Xy(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["totalTokens"]);i!=null&&u(e,["totalTokens"],i);const a=l(t,["cachedContentTokenCount"]);return a!=null&&u(e,["cachedContentTokenCount"],a),e}function Zy(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["totalTokens"]);return i!=null&&u(e,["totalTokens"],i),e}function jy(t,e){const o={},i=l(e,["model"]);return i!=null&&u(o,["_url","name"],Se(t,i)),o}function ex(t,e){const o={},i=l(e,["model"]);return i!=null&&u(o,["_url","name"],Se(t,i)),o}function tx(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function nx(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}function ox(t,e){const o={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const p=l(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const g=l(t,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const E=l(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const w=l(t,["language"]);e!==void 0&&w!=null&&u(e,["parameters","language"],w);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&u(e,["parameters","outputOptions","mimeType"],M);const D=l(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const R=l(t,["addWatermark"]);e!==void 0&&R!=null&&u(e,["parameters","addWatermark"],R);const F=l(t,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(t,["editMode"]);e!==void 0&&q!=null&&u(e,["parameters","editMode"],q);const b=l(t,["baseSteps"]);return e!==void 0&&b!=null&&u(e,["parameters","editConfig","baseSteps"],b),o}function rx(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["prompt"]);a!=null&&u(o,["instances[0]","prompt"],a);const c=l(e,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>sS(g))),u(o,["instances[0]","referenceImages"],p)}const f=l(e,["config"]);return f!=null&&ox(f,o),o}function ix(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Li(c))),u(e,["generatedImages"],a)}return e}function sx(t,e){const o={},i=l(t,["taskType"]);e!==void 0&&i!=null&&u(e,["requests[]","taskType"],i);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["requests[]","title"],a);const c=l(t,["outputDimensionality"]);if(e!==void 0&&c!=null&&u(e,["requests[]","outputDimensionality"],c),l(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(l(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function lx(t,e){const o={},i=l(t,["taskType"]);e!==void 0&&i!=null&&u(e,["instances[]","task_type"],i);const a=l(t,["title"]);e!==void 0&&a!=null&&u(e,["instances[]","title"],a);const c=l(t,["outputDimensionality"]);e!==void 0&&c!=null&&u(e,["parameters","outputDimensionality"],c);const f=l(t,["mimeType"]);e!==void 0&&f!=null&&u(e,["instances[]","mimeType"],f);const p=l(t,["autoTruncate"]);return e!==void 0&&p!=null&&u(e,["parameters","autoTruncate"],p),o}function ax(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let p=ca(t,a);Array.isArray(p)&&(p=p.map(g=>g)),u(o,["requests[]","content"],p)}const c=l(e,["config"]);c!=null&&sx(c,o);const f=l(e,["model"]);return f!==void 0&&u(o,["requests[]","model"],Se(t,f)),o}function ux(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let f=ca(t,a);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["instances[]","content"],f)}const c=l(e,["config"]);return c!=null&&lx(c,o),o}function cx(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["embeddings"],c)}const a=l(t,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function dx(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["predictions[]","embeddings"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Oy(f))),u(e,["embeddings"],c)}const a=l(t,["metadata"]);return a!=null&&u(e,["metadata"],a),e}function fx(t){const e={},o=l(t,["endpoint"]);o!=null&&u(e,["name"],o);const i=l(t,["deployedModelId"]);return i!=null&&u(e,["deployedModelId"],i),e}function px(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function hx(t){const e={},o=l(t,["id"]);o!=null&&u(e,["id"],o);const i=l(t,["args"]);i!=null&&u(e,["args"],i);const a=l(t,["name"]);if(a!=null&&u(e,["name"],a),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mx(t){const e={},o=l(t,["mode"]);o!=null&&u(e,["mode"],o);const i=l(t,["allowedFunctionNames"]);if(i!=null&&u(e,["allowedFunctionNames"],i),l(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function gx(t){const e={};if(l(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=l(t,["description"]);o!=null&&u(e,["description"],o);const i=l(t,["name"]);i!=null&&u(e,["name"],i);const a=l(t,["parameters"]);a!=null&&u(e,["parameters"],a);const c=l(t,["parametersJsonSchema"]);c!=null&&u(e,["parametersJsonSchema"],c);const f=l(t,["response"]);f!=null&&u(e,["response"],f);const p=l(t,["responseJsonSchema"]);return p!=null&&u(e,["responseJsonSchema"],p),e}function vx(t,e,o){const i={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&u(o,["systemInstruction"],Di(je(a)));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const p=l(e,["topK"]);p!=null&&u(i,["topK"],p);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(i,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const E=l(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const w=l(e,["presencePenalty"]);w!=null&&u(i,["presencePenalty"],w);const M=l(e,["frequencyPenalty"]);M!=null&&u(i,["frequencyPenalty"],M);const D=l(e,["seed"]);D!=null&&u(i,["seed"],D);const R=l(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],da(F));const q=l(e,["responseJsonSchema"]);if(q!=null&&u(i,["responseJsonSchema"],q),l(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(l(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const b=l(e,["safetySettings"]);if(o!==void 0&&b!=null){let pe=b;Array.isArray(pe)&&(pe=pe.map(ve=>lS(ve))),u(o,["safetySettings"],pe)}const z=l(e,["tools"]);if(o!==void 0&&z!=null){let pe=fo(z);Array.isArray(pe)&&(pe=pe.map(ve=>hS(co(ve)))),u(o,["tools"],pe)}const te=l(e,["toolConfig"]);if(o!==void 0&&te!=null&&u(o,["toolConfig"],pS(te)),l(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Y=l(e,["cachedContent"]);o!==void 0&&Y!=null&&u(o,["cachedContent"],Yt(t,Y));const Z=l(e,["responseModalities"]);Z!=null&&u(i,["responseModalities"],Z);const he=l(e,["mediaResolution"]);he!=null&&u(i,["mediaResolution"],he);const W=l(e,["speechConfig"]);if(W!=null&&u(i,["speechConfig"],fa(W)),l(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=l(e,["thinkingConfig"]);ce!=null&&u(i,["thinkingConfig"],ce);const ae=l(e,["imageConfig"]);ae!=null&&u(i,["imageConfig"],Ox(ae));const Ie=l(e,["enableEnhancedCivicAnswers"]);return Ie!=null&&u(i,["enableEnhancedCivicAnswers"],Ie),i}function yx(t,e,o){const i={},a=l(e,["systemInstruction"]);o!==void 0&&a!=null&&u(o,["systemInstruction"],je(a));const c=l(e,["temperature"]);c!=null&&u(i,["temperature"],c);const f=l(e,["topP"]);f!=null&&u(i,["topP"],f);const p=l(e,["topK"]);p!=null&&u(i,["topK"],p);const g=l(e,["candidateCount"]);g!=null&&u(i,["candidateCount"],g);const m=l(e,["maxOutputTokens"]);m!=null&&u(i,["maxOutputTokens"],m);const y=l(e,["stopSequences"]);y!=null&&u(i,["stopSequences"],y);const E=l(e,["responseLogprobs"]);E!=null&&u(i,["responseLogprobs"],E);const S=l(e,["logprobs"]);S!=null&&u(i,["logprobs"],S);const w=l(e,["presencePenalty"]);w!=null&&u(i,["presencePenalty"],w);const M=l(e,["frequencyPenalty"]);M!=null&&u(i,["frequencyPenalty"],M);const D=l(e,["seed"]);D!=null&&u(i,["seed"],D);const R=l(e,["responseMimeType"]);R!=null&&u(i,["responseMimeType"],R);const F=l(e,["responseSchema"]);F!=null&&u(i,["responseSchema"],da(F));const q=l(e,["responseJsonSchema"]);q!=null&&u(i,["responseJsonSchema"],q);const b=l(e,["routingConfig"]);b!=null&&u(i,["routingConfig"],b);const z=l(e,["modelSelectionConfig"]);z!=null&&u(i,["modelConfig"],z);const te=l(e,["safetySettings"]);if(o!==void 0&&te!=null){let _e=te;Array.isArray(_e)&&(_e=_e.map(Ee=>Ee)),u(o,["safetySettings"],_e)}const Y=l(e,["tools"]);if(o!==void 0&&Y!=null){let _e=fo(Y);Array.isArray(_e)&&(_e=_e.map(Ee=>Np(co(Ee)))),u(o,["tools"],_e)}const Z=l(e,["toolConfig"]);o!==void 0&&Z!=null&&u(o,["toolConfig"],Z);const he=l(e,["labels"]);o!==void 0&&he!=null&&u(o,["labels"],he);const W=l(e,["cachedContent"]);o!==void 0&&W!=null&&u(o,["cachedContent"],Yt(t,W));const ce=l(e,["responseModalities"]);ce!=null&&u(i,["responseModalities"],ce);const ae=l(e,["mediaResolution"]);ae!=null&&u(i,["mediaResolution"],ae);const Ie=l(e,["speechConfig"]);Ie!=null&&u(i,["speechConfig"],fa(Ie));const pe=l(e,["audioTimestamp"]);pe!=null&&u(i,["audioTimestamp"],pe);const ve=l(e,["thinkingConfig"]);ve!=null&&u(i,["thinkingConfig"],ve);const Je=l(e,["imageConfig"]);if(Je!=null&&u(i,["imageConfig"],$x(Je)),l(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function bf(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(p=>Di(p))),u(o,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(o,["generationConfig"],vx(t,c,o)),o}function Bf(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["contents"]);if(a!=null){let f=Et(a);Array.isArray(f)&&(f=f.map(p=>p)),u(o,["contents"],f)}const c=l(e,["config"]);return c!=null&&u(o,["generationConfig"],yx(t,c,o)),o}function qf(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["candidates"]);if(i!=null){let g=i;Array.isArray(g)&&(g=g.map(m=>by(m))),u(e,["candidates"],g)}const a=l(t,["modelVersion"]);a!=null&&u(e,["modelVersion"],a);const c=l(t,["promptFeedback"]);c!=null&&u(e,["promptFeedback"],c);const f=l(t,["responseId"]);f!=null&&u(e,["responseId"],f);const p=l(t,["usageMetadata"]);return p!=null&&u(e,["usageMetadata"],p),e}function zf(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["candidates"]);if(i!=null){let m=i;Array.isArray(m)&&(m=m.map(y=>y)),u(e,["candidates"],m)}const a=l(t,["createTime"]);a!=null&&u(e,["createTime"],a);const c=l(t,["modelVersion"]);c!=null&&u(e,["modelVersion"],c);const f=l(t,["promptFeedback"]);f!=null&&u(e,["promptFeedback"],f);const p=l(t,["responseId"]);p!=null&&u(e,["responseId"],p);const g=l(t,["usageMetadata"]);return g!=null&&u(e,["usageMetadata"],g),e}function xx(t,e){const o={};if(l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(t,["aspectRatio"]);e!==void 0&&a!=null&&u(e,["parameters","aspectRatio"],a);const c=l(t,["guidanceScale"]);if(e!==void 0&&c!=null&&u(e,["parameters","guidanceScale"],c),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=l(t,["safetyFilterLevel"]);e!==void 0&&f!=null&&u(e,["parameters","safetySetting"],f);const p=l(t,["personGeneration"]);e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p);const g=l(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&u(e,["parameters","includeSafetyAttributes"],g);const m=l(t,["includeRaiReason"]);e!==void 0&&m!=null&&u(e,["parameters","includeRaiReason"],m);const y=l(t,["language"]);e!==void 0&&y!=null&&u(e,["parameters","language"],y);const E=l(t,["outputMimeType"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","mimeType"],E);const S=l(t,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&u(e,["parameters","outputOptions","compressionQuality"],S),l(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const w=l(t,["imageSize"]);if(e!==void 0&&w!=null&&u(e,["parameters","sampleImageSize"],w),l(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Sx(t,e){const o={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(t,["negativePrompt"]);e!==void 0&&a!=null&&u(e,["parameters","negativePrompt"],a);const c=l(t,["numberOfImages"]);e!==void 0&&c!=null&&u(e,["parameters","sampleCount"],c);const f=l(t,["aspectRatio"]);e!==void 0&&f!=null&&u(e,["parameters","aspectRatio"],f);const p=l(t,["guidanceScale"]);e!==void 0&&p!=null&&u(e,["parameters","guidanceScale"],p);const g=l(t,["seed"]);e!==void 0&&g!=null&&u(e,["parameters","seed"],g);const m=l(t,["safetyFilterLevel"]);e!==void 0&&m!=null&&u(e,["parameters","safetySetting"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const E=l(t,["includeSafetyAttributes"]);e!==void 0&&E!=null&&u(e,["parameters","includeSafetyAttributes"],E);const S=l(t,["includeRaiReason"]);e!==void 0&&S!=null&&u(e,["parameters","includeRaiReason"],S);const w=l(t,["language"]);e!==void 0&&w!=null&&u(e,["parameters","language"],w);const M=l(t,["outputMimeType"]);e!==void 0&&M!=null&&u(e,["parameters","outputOptions","mimeType"],M);const D=l(t,["outputCompressionQuality"]);e!==void 0&&D!=null&&u(e,["parameters","outputOptions","compressionQuality"],D);const R=l(t,["addWatermark"]);e!==void 0&&R!=null&&u(e,["parameters","addWatermark"],R);const F=l(t,["labels"]);e!==void 0&&F!=null&&u(e,["labels"],F);const q=l(t,["imageSize"]);e!==void 0&&q!=null&&u(e,["parameters","sampleImageSize"],q);const b=l(t,["enhancePrompt"]);return e!==void 0&&b!=null&&u(e,["parameters","enhancePrompt"],b),o}function Ex(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["prompt"]);a!=null&&u(o,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&xx(c,o),o}function Tx(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["prompt"]);a!=null&&u(o,["instances[0]","prompt"],a);const c=l(e,["config"]);return c!=null&&Sx(c,o),o}function _x(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Ux(f))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],wp(a)),e}function Cx(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["predictions"]);if(i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>Li(f))),u(e,["generatedImages"],c)}const a=l(t,["positivePromptSafetyAttributes"]);return a!=null&&u(e,["positivePromptSafetyAttributes"],Ip(a)),e}function wx(t,e){const o={},i=l(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i),l(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(l(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=l(t,["durationSeconds"]);if(e!==void 0&&a!=null&&u(e,["parameters","durationSeconds"],a),l(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=l(t,["aspectRatio"]);e!==void 0&&c!=null&&u(e,["parameters","aspectRatio"],c);const f=l(t,["resolution"]);e!==void 0&&f!=null&&u(e,["parameters","resolution"],f);const p=l(t,["personGeneration"]);if(e!==void 0&&p!=null&&u(e,["parameters","personGeneration"],p),l(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const g=l(t,["negativePrompt"]);e!==void 0&&g!=null&&u(e,["parameters","negativePrompt"],g);const m=l(t,["enhancePrompt"]);if(e!==void 0&&m!=null&&u(e,["parameters","enhancePrompt"],m),l(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const y=l(t,["lastFrame"]);e!==void 0&&y!=null&&u(e,["instances[0]","lastFrame"],Ui(y));const E=l(t,["referenceImages"]);if(e!==void 0&&E!=null){let S=E;Array.isArray(S)&&(S=S.map(w=>NS(w))),u(e,["instances[0]","referenceImages"],S)}if(l(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(l(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function Ix(t,e){const o={},i=l(t,["numberOfVideos"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(t,["outputGcsUri"]);e!==void 0&&a!=null&&u(e,["parameters","storageUri"],a);const c=l(t,["fps"]);e!==void 0&&c!=null&&u(e,["parameters","fps"],c);const f=l(t,["durationSeconds"]);e!==void 0&&f!=null&&u(e,["parameters","durationSeconds"],f);const p=l(t,["seed"]);e!==void 0&&p!=null&&u(e,["parameters","seed"],p);const g=l(t,["aspectRatio"]);e!==void 0&&g!=null&&u(e,["parameters","aspectRatio"],g);const m=l(t,["resolution"]);e!==void 0&&m!=null&&u(e,["parameters","resolution"],m);const y=l(t,["personGeneration"]);e!==void 0&&y!=null&&u(e,["parameters","personGeneration"],y);const E=l(t,["pubsubTopic"]);e!==void 0&&E!=null&&u(e,["parameters","pubsubTopic"],E);const S=l(t,["negativePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","negativePrompt"],S);const w=l(t,["enhancePrompt"]);e!==void 0&&w!=null&&u(e,["parameters","enhancePrompt"],w);const M=l(t,["generateAudio"]);e!==void 0&&M!=null&&u(e,["parameters","generateAudio"],M);const D=l(t,["lastFrame"]);e!==void 0&&D!=null&&u(e,["instances[0]","lastFrame"],Dt(D));const R=l(t,["referenceImages"]);if(e!==void 0&&R!=null){let b=R;Array.isArray(b)&&(b=b.map(z=>AS(z))),u(e,["instances[0]","referenceImages"],b)}const F=l(t,["mask"]);e!==void 0&&F!=null&&u(e,["instances[0]","mask"],IS(F));const q=l(t,["compressionQuality"]);return e!==void 0&&q!=null&&u(e,["parameters","compressionQuality"],q),o}function Nx(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response","generateVideoResponse"]);return f!=null&&u(e,["response"],Px(f)),e}function Ax(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response"]);return f!=null&&u(e,["response"],Mx(f)),e}function Rx(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["prompt"]);a!=null&&u(o,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(o,["instances[0]","image"],Ui(c));const f=l(e,["video"]);f!=null&&u(o,["instances[0]","video"],Ap(f));const p=l(e,["source"]);p!=null&&Dx(p,o);const g=l(e,["config"]);return g!=null&&wx(g,o),o}function kx(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["prompt"]);a!=null&&u(o,["instances[0]","prompt"],a);const c=l(e,["image"]);c!=null&&u(o,["instances[0]","image"],Dt(c));const f=l(e,["video"]);f!=null&&u(o,["instances[0]","video"],Rp(f));const p=l(e,["source"]);p!=null&&Lx(p,o);const g=l(e,["config"]);return g!=null&&Ix(g,o),o}function Px(t){const e={},o=l(t,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Vx(f))),u(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Mx(t){const e={},o=l(t,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(f=>Gx(f))),u(e,["generatedVideos"],c)}const i=l(t,["raiMediaFilteredCount"]);i!=null&&u(e,["raiMediaFilteredCount"],i);const a=l(t,["raiMediaFilteredReasons"]);return a!=null&&u(e,["raiMediaFilteredReasons"],a),e}function Dx(t,e){const o={},i=l(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Ui(a));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Ap(c)),o}function Lx(t,e){const o={},i=l(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Dt(a));const c=l(t,["video"]);return e!==void 0&&c!=null&&u(e,["instances[0]","video"],Rp(c)),o}function Ux(t){const e={},o=l(t,["_self"]);o!=null&&u(e,["image"],Jx(o));const i=l(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const a=l(t,["_self"]);return a!=null&&u(e,["safetyAttributes"],wp(a)),e}function Li(t){const e={},o=l(t,["_self"]);o!=null&&u(e,["image"],Cp(o));const i=l(t,["raiFilteredReason"]);i!=null&&u(e,["raiFilteredReason"],i);const a=l(t,["_self"]);a!=null&&u(e,["safetyAttributes"],Ip(a));const c=l(t,["prompt"]);return c!=null&&u(e,["enhancedPrompt"],c),e}function Fx(t){const e={},o=l(t,["_self"]);o!=null&&u(e,["mask"],Cp(o));const i=l(t,["labels"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(e,["labels"],a)}return e}function Vx(t){const e={},o=l(t,["video"]);return o!=null&&u(e,["video"],CS(o)),e}function Gx(t){const e={},o=l(t,["_self"]);return o!=null&&u(e,["video"],wS(o)),e}function Hx(t){const e={},o=l(t,["modelSelectionConfig"]);o!=null&&u(e,["modelConfig"],o);const i=l(t,["responseJsonSchema"]);i!=null&&u(e,["responseJsonSchema"],i);const a=l(t,["audioTimestamp"]);a!=null&&u(e,["audioTimestamp"],a);const c=l(t,["candidateCount"]);c!=null&&u(e,["candidateCount"],c);const f=l(t,["enableAffectiveDialog"]);f!=null&&u(e,["enableAffectiveDialog"],f);const p=l(t,["frequencyPenalty"]);p!=null&&u(e,["frequencyPenalty"],p);const g=l(t,["logprobs"]);g!=null&&u(e,["logprobs"],g);const m=l(t,["maxOutputTokens"]);m!=null&&u(e,["maxOutputTokens"],m);const y=l(t,["mediaResolution"]);y!=null&&u(e,["mediaResolution"],y);const E=l(t,["presencePenalty"]);E!=null&&u(e,["presencePenalty"],E);const S=l(t,["responseLogprobs"]);S!=null&&u(e,["responseLogprobs"],S);const w=l(t,["responseMimeType"]);w!=null&&u(e,["responseMimeType"],w);const M=l(t,["responseModalities"]);M!=null&&u(e,["responseModalities"],M);const D=l(t,["responseSchema"]);D!=null&&u(e,["responseSchema"],D);const R=l(t,["routingConfig"]);R!=null&&u(e,["routingConfig"],R);const F=l(t,["seed"]);F!=null&&u(e,["seed"],F);const q=l(t,["speechConfig"]);q!=null&&u(e,["speechConfig"],q);const b=l(t,["stopSequences"]);b!=null&&u(e,["stopSequences"],b);const z=l(t,["temperature"]);z!=null&&u(e,["temperature"],z);const te=l(t,["thinkingConfig"]);te!=null&&u(e,["thinkingConfig"],te);const Y=l(t,["topK"]);Y!=null&&u(e,["topK"],Y);const Z=l(t,["topP"]);if(Z!=null&&u(e,["topP"],Z),l(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function bx(t,e){const o={},i=l(e,["model"]);return i!=null&&u(o,["_url","name"],Se(t,i)),o}function Bx(t,e){const o={},i=l(e,["model"]);return i!=null&&u(o,["_url","name"],Se(t,i)),o}function qx(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function zx(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function Ox(t){const e={},o=l(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=l(t,["imageSize"]);if(i!=null&&u(e,["imageSize"],i),l(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(l(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function $x(t){const e={},o=l(t,["aspectRatio"]);o!=null&&u(e,["aspectRatio"],o);const i=l(t,["imageSize"]);i!=null&&u(e,["imageSize"],i);const a=l(t,["outputMimeType"]);a!=null&&u(e,["imageOutputOptions","mimeType"],a);const c=l(t,["outputCompressionQuality"]);return c!=null&&u(e,["imageOutputOptions","compressionQuality"],c),e}function Jx(t){const e={},o=l(t,["bytesBase64Encoded"]);o!=null&&u(e,["imageBytes"],vn(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Cp(t){const e={},o=l(t,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const i=l(t,["bytesBase64Encoded"]);i!=null&&u(e,["imageBytes"],vn(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Ui(t){const e={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=l(t,["imageBytes"]);o!=null&&u(e,["bytesBase64Encoded"],vn(o));const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function Dt(t){const e={},o=l(t,["gcsUri"]);o!=null&&u(e,["gcsUri"],o);const i=l(t,["imageBytes"]);i!=null&&u(e,["bytesBase64Encoded"],vn(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function Wx(t,e,o){const i={},a=l(e,["pageSize"]);o!==void 0&&a!=null&&u(o,["_query","pageSize"],a);const c=l(e,["pageToken"]);o!==void 0&&c!=null&&u(o,["_query","pageToken"],c);const f=l(e,["filter"]);o!==void 0&&f!=null&&u(o,["_query","filter"],f);const p=l(e,["queryBase"]);return o!==void 0&&p!=null&&u(o,["_url","models_url"],vp(t,p)),i}function Kx(t,e,o){const i={},a=l(e,["pageSize"]);o!==void 0&&a!=null&&u(o,["_query","pageSize"],a);const c=l(e,["pageToken"]);o!==void 0&&c!=null&&u(o,["_query","pageToken"],c);const f=l(e,["filter"]);o!==void 0&&f!=null&&u(o,["_query","filter"],f);const p=l(e,["queryBase"]);return o!==void 0&&p!=null&&u(o,["_url","models_url"],vp(t,p)),i}function Yx(t,e){const o={},i=l(e,["config"]);return i!=null&&Wx(t,i,o),o}function Qx(t,e){const o={},i=l(e,["config"]);return i!=null&&Kx(t,i,o),o}function Xx(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["_self"]);if(a!=null){let c=yp(a);Array.isArray(c)&&(c=c.map(f=>Yl(f))),u(e,["models"],c)}return e}function Zx(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["_self"]);if(a!=null){let c=yp(a);Array.isArray(c)&&(c=c.map(f=>Ql(f))),u(e,["models"],c)}return e}function jx(t){const e={},o=l(t,["maskMode"]);o!=null&&u(e,["maskMode"],o);const i=l(t,["segmentationClasses"]);i!=null&&u(e,["maskClasses"],i);const a=l(t,["maskDilation"]);return a!=null&&u(e,["dilation"],a),e}function Yl(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["version"]);c!=null&&u(e,["version"],c);const f=l(t,["_self"]);f!=null&&u(e,["tunedModelInfo"],mS(f));const p=l(t,["inputTokenLimit"]);p!=null&&u(e,["inputTokenLimit"],p);const g=l(t,["outputTokenLimit"]);g!=null&&u(e,["outputTokenLimit"],g);const m=l(t,["supportedGenerationMethods"]);m!=null&&u(e,["supportedActions"],m);const y=l(t,["temperature"]);y!=null&&u(e,["temperature"],y);const E=l(t,["maxTemperature"]);E!=null&&u(e,["maxTemperature"],E);const S=l(t,["topP"]);S!=null&&u(e,["topP"],S);const w=l(t,["topK"]);w!=null&&u(e,["topK"],w);const M=l(t,["thinking"]);return M!=null&&u(e,["thinking"],M),e}function Ql(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["displayName"]);i!=null&&u(e,["displayName"],i);const a=l(t,["description"]);a!=null&&u(e,["description"],a);const c=l(t,["versionId"]);c!=null&&u(e,["version"],c);const f=l(t,["deployedModels"]);if(f!=null){let E=f;Array.isArray(E)&&(E=E.map(S=>fx(S))),u(e,["endpoints"],E)}const p=l(t,["labels"]);p!=null&&u(e,["labels"],p);const g=l(t,["_self"]);g!=null&&u(e,["tunedModelInfo"],gS(g));const m=l(t,["defaultCheckpointId"]);m!=null&&u(e,["defaultCheckpointId"],m);const y=l(t,["checkpoints"]);if(y!=null){let E=y;Array.isArray(E)&&(E=E.map(S=>S)),u(e,["checkpoints"],E)}return e}function eS(t){const e={},o=l(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=l(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(t,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],px(c));const f=l(t,["functionCall"]);f!=null&&u(e,["functionCall"],hx(f));const p=l(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=l(t,["inlineData"]);g!=null&&u(e,["inlineData"],Hy(g));const m=l(t,["text"]);m!=null&&u(e,["text"],m);const y=l(t,["thought"]);y!=null&&u(e,["thought"],y);const E=l(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function tS(t){const e={},o=l(t,["productImage"]);return o!=null&&u(e,["image"],Dt(o)),e}function nS(t,e){const o={},i=l(t,["numberOfImages"]);e!==void 0&&i!=null&&u(e,["parameters","sampleCount"],i);const a=l(t,["baseSteps"]);e!==void 0&&a!=null&&u(e,["parameters","baseSteps"],a);const c=l(t,["outputGcsUri"]);e!==void 0&&c!=null&&u(e,["parameters","storageUri"],c);const f=l(t,["seed"]);e!==void 0&&f!=null&&u(e,["parameters","seed"],f);const p=l(t,["safetyFilterLevel"]);e!==void 0&&p!=null&&u(e,["parameters","safetySetting"],p);const g=l(t,["personGeneration"]);e!==void 0&&g!=null&&u(e,["parameters","personGeneration"],g);const m=l(t,["addWatermark"]);e!==void 0&&m!=null&&u(e,["parameters","addWatermark"],m);const y=l(t,["outputMimeType"]);e!==void 0&&y!=null&&u(e,["parameters","outputOptions","mimeType"],y);const E=l(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&u(e,["parameters","outputOptions","compressionQuality"],E);const S=l(t,["enhancePrompt"]);e!==void 0&&S!=null&&u(e,["parameters","enhancePrompt"],S);const w=l(t,["labels"]);return e!==void 0&&w!=null&&u(e,["labels"],w),o}function oS(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["source"]);a!=null&&iS(a,o);const c=l(e,["config"]);return c!=null&&nS(c,o),o}function rS(t){const e={},o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Li(a))),u(e,["generatedImages"],i)}return e}function iS(t,e){const o={},i=l(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(t,["personImage"]);e!==void 0&&a!=null&&u(e,["instances[0]","personImage","image"],Dt(a));const c=l(t,["productImages"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>tS(p))),u(e,["instances[0]","productImages"],f)}return o}function sS(t){const e={},o=l(t,["referenceImage"]);o!=null&&u(e,["referenceImage"],Dt(o));const i=l(t,["referenceId"]);i!=null&&u(e,["referenceId"],i);const a=l(t,["referenceType"]);a!=null&&u(e,["referenceType"],a);const c=l(t,["maskImageConfig"]);c!=null&&u(e,["maskImageConfig"],jx(c));const f=l(t,["controlImageConfig"]);f!=null&&u(e,["controlImageConfig"],Jy(f));const p=l(t,["styleImageConfig"]);p!=null&&u(e,["styleImageConfig"],p);const g=l(t,["subjectImageConfig"]);return g!=null&&u(e,["subjectImageConfig"],g),e}function wp(t){const e={},o=l(t,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const i=l(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function Ip(t){const e={},o=l(t,["safetyAttributes","categories"]);o!=null&&u(e,["categories"],o);const i=l(t,["safetyAttributes","scores"]);i!=null&&u(e,["scores"],i);const a=l(t,["contentType"]);return a!=null&&u(e,["contentType"],a),e}function lS(t){const e={},o=l(t,["category"]);if(o!=null&&u(e,["category"],o),l(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=l(t,["threshold"]);return i!=null&&u(e,["threshold"],i),e}function aS(t){const e={},o=l(t,["image"]);return o!=null&&u(e,["image"],Dt(o)),e}function uS(t,e){const o={},i=l(t,["mode"]);e!==void 0&&i!=null&&u(e,["parameters","mode"],i);const a=l(t,["maxPredictions"]);e!==void 0&&a!=null&&u(e,["parameters","maxPredictions"],a);const c=l(t,["confidenceThreshold"]);e!==void 0&&c!=null&&u(e,["parameters","confidenceThreshold"],c);const f=l(t,["maskDilation"]);e!==void 0&&f!=null&&u(e,["parameters","maskDilation"],f);const p=l(t,["binaryColorThreshold"]);e!==void 0&&p!=null&&u(e,["parameters","binaryColorThreshold"],p);const g=l(t,["labels"]);return e!==void 0&&g!=null&&u(e,["labels"],g),o}function cS(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["source"]);a!=null&&fS(a,o);const c=l(e,["config"]);return c!=null&&uS(c,o),o}function dS(t){const e={},o=l(t,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(a=>Fx(a))),u(e,["generatedMasks"],i)}return e}function fS(t,e){const o={},i=l(t,["prompt"]);e!==void 0&&i!=null&&u(e,["instances[0]","prompt"],i);const a=l(t,["image"]);e!==void 0&&a!=null&&u(e,["instances[0]","image"],Dt(a));const c=l(t,["scribbleImage"]);return e!==void 0&&c!=null&&u(e,["instances[0]","scribble"],aS(c)),o}function pS(t){const e={},o=l(t,["functionCallingConfig"]);o!=null&&u(e,["functionCallingConfig"],mx(o));const i=l(t,["retrievalConfig"]);return i!=null&&u(e,["retrievalConfig"],i),e}function hS(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["functionDeclarations"],y)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(t,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(t,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=l(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],qx(p));const g=l(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],zx(g));const m=l(t,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}function Np(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let E=o;Array.isArray(E)&&(E=E.map(S=>gx(S))),u(e,["functionDeclarations"],E)}const i=l(t,["retrieval"]);i!=null&&u(e,["retrieval"],i);const a=l(t,["googleSearchRetrieval"]);a!=null&&u(e,["googleSearchRetrieval"],a);const c=l(t,["computerUse"]);if(c!=null&&u(e,["computerUse"],c),l(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const f=l(t,["codeExecution"]);f!=null&&u(e,["codeExecution"],f);const p=l(t,["enterpriseWebSearch"]);p!=null&&u(e,["enterpriseWebSearch"],p);const g=l(t,["googleMaps"]);g!=null&&u(e,["googleMaps"],g);const m=l(t,["googleSearch"]);m!=null&&u(e,["googleSearch"],m);const y=l(t,["urlContext"]);return y!=null&&u(e,["urlContext"],y),e}function mS(t){const e={},o=l(t,["baseModel"]);o!=null&&u(e,["baseModel"],o);const i=l(t,["createTime"]);i!=null&&u(e,["createTime"],i);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function gS(t){const e={},o=l(t,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&u(e,["baseModel"],o);const i=l(t,["createTime"]);i!=null&&u(e,["createTime"],i);const a=l(t,["updateTime"]);return a!=null&&u(e,["updateTime"],a),e}function vS(t,e){const o={},i=l(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),o}function yS(t,e){const o={},i=l(t,["displayName"]);e!==void 0&&i!=null&&u(e,["displayName"],i);const a=l(t,["description"]);e!==void 0&&a!=null&&u(e,["description"],a);const c=l(t,["defaultCheckpointId"]);return e!==void 0&&c!=null&&u(e,["defaultCheckpointId"],c),o}function xS(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","name"],Se(t,i));const a=l(e,["config"]);return a!=null&&vS(a,o),o}function SS(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["config"]);return a!=null&&yS(a,o),o}function ES(t,e){const o={},i=l(t,["outputGcsUri"]);e!==void 0&&i!=null&&u(e,["parameters","storageUri"],i);const a=l(t,["safetyFilterLevel"]);e!==void 0&&a!=null&&u(e,["parameters","safetySetting"],a);const c=l(t,["personGeneration"]);e!==void 0&&c!=null&&u(e,["parameters","personGeneration"],c);const f=l(t,["includeRaiReason"]);e!==void 0&&f!=null&&u(e,["parameters","includeRaiReason"],f);const p=l(t,["outputMimeType"]);e!==void 0&&p!=null&&u(e,["parameters","outputOptions","mimeType"],p);const g=l(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&u(e,["parameters","outputOptions","compressionQuality"],g);const m=l(t,["enhanceInputImage"]);e!==void 0&&m!=null&&u(e,["parameters","upscaleConfig","enhanceInputImage"],m);const y=l(t,["imagePreservationFactor"]);e!==void 0&&y!=null&&u(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const E=l(t,["labels"]);e!==void 0&&E!=null&&u(e,["labels"],E);const S=l(t,["numberOfImages"]);e!==void 0&&S!=null&&u(e,["parameters","sampleCount"],S);const w=l(t,["mode"]);return e!==void 0&&w!=null&&u(e,["parameters","mode"],w),o}function TS(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["_url","model"],Se(t,i));const a=l(e,["image"]);a!=null&&u(o,["instances[0]","image"],Dt(a));const c=l(e,["upscaleFactor"]);c!=null&&u(o,["parameters","upscaleConfig","upscaleFactor"],c);const f=l(e,["config"]);return f!=null&&ES(f,o),o}function _S(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>Li(c))),u(e,["generatedImages"],a)}return e}function CS(t){const e={},o=l(t,["uri"]);o!=null&&u(e,["uri"],o);const i=l(t,["encodedVideo"]);i!=null&&u(e,["videoBytes"],vn(i));const a=l(t,["encoding"]);return a!=null&&u(e,["mimeType"],a),e}function wS(t){const e={},o=l(t,["gcsUri"]);o!=null&&u(e,["uri"],o);const i=l(t,["bytesBase64Encoded"]);i!=null&&u(e,["videoBytes"],vn(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}function IS(t){const e={},o=l(t,["image"]);o!=null&&u(e,["_self"],Dt(o));const i=l(t,["maskMode"]);return i!=null&&u(e,["maskMode"],i),e}function NS(t){const e={},o=l(t,["image"]);o!=null&&u(e,["image"],Ui(o));const i=l(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function AS(t){const e={},o=l(t,["image"]);o!=null&&u(e,["image"],Dt(o));const i=l(t,["referenceType"]);return i!=null&&u(e,["referenceType"],i),e}function Ap(t){const e={},o=l(t,["uri"]);o!=null&&u(e,["uri"],o);const i=l(t,["videoBytes"]);i!=null&&u(e,["encodedVideo"],vn(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["encoding"],a),e}function Rp(t){const e={},o=l(t,["uri"]);o!=null&&u(e,["gcsUri"],o);const i=l(t,["videoBytes"]);i!=null&&u(e,["bytesBase64Encoded"],vn(i));const a=l(t,["mimeType"]);return a!=null&&u(e,["mimeType"],a),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RS(t,e){const o={},i=l(t,["displayName"]);return e!==void 0&&i!=null&&u(e,["displayName"],i),o}function kS(t){const e={},o=l(t,["config"]);return o!=null&&RS(o,e),e}function PS(t,e){const o={},i=l(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),o}function MS(t){const e={},o=l(t,["name"]);o!=null&&u(e,["_url","name"],o);const i=l(t,["config"]);return i!=null&&PS(i,e),e}function DS(t){const e={},o=l(t,["name"]);return o!=null&&u(e,["_url","name"],o),e}function LS(t,e){const o={},i=l(t,["customMetadata"]);if(e!==void 0&&i!=null){let c=i;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["customMetadata"],c)}const a=l(t,["chunkingConfig"]);return e!==void 0&&a!=null&&u(e,["chunkingConfig"],a),o}function US(t){const e={},o=l(t,["name"]);o!=null&&u(e,["name"],o);const i=l(t,["metadata"]);i!=null&&u(e,["metadata"],i);const a=l(t,["done"]);a!=null&&u(e,["done"],a);const c=l(t,["error"]);c!=null&&u(e,["error"],c);const f=l(t,["response"]);return f!=null&&u(e,["response"],VS(f)),e}function FS(t){const e={},o=l(t,["fileSearchStoreName"]);o!=null&&u(e,["_url","file_search_store_name"],o);const i=l(t,["fileName"]);i!=null&&u(e,["fileName"],i);const a=l(t,["config"]);return a!=null&&LS(a,e),e}function VS(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["parent"]);i!=null&&u(e,["parent"],i);const a=l(t,["documentName"]);return a!=null&&u(e,["documentName"],a),e}function GS(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),o}function HS(t){const e={},o=l(t,["config"]);return o!=null&&GS(o,e),e}function bS(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["fileSearchStores"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["fileSearchStores"],c)}return e}function kp(t,e){const o={},i=l(t,["mimeType"]);e!==void 0&&i!=null&&u(e,["mimeType"],i);const a=l(t,["displayName"]);e!==void 0&&a!=null&&u(e,["displayName"],a);const c=l(t,["customMetadata"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>g)),u(e,["customMetadata"],p)}const f=l(t,["chunkingConfig"]);return e!==void 0&&f!=null&&u(e,["chunkingConfig"],f),o}function BS(t){const e={},o=l(t,["fileSearchStoreName"]);o!=null&&u(e,["_url","file_search_store_name"],o);const i=l(t,["config"]);return i!=null&&kp(i,e),e}function qS(t){const e={},o=l(t,["sdkHttpResponse"]);return o!=null&&u(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zS="Content-Type",OS="X-Server-Timeout",$S="User-Agent",Xl="x-goog-api-client",JS="1.34.0",WS=`google-genai-sdk/${JS}`,KS="v1beta1",YS="v1beta";class QS{constructor(e){var o,i;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const a={};this.clientOptions.vertexai?(a.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:KS,a.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:YS,a.baseUrl="https://generativelanguage.googleapis.com/"),a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&i.push(e.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,i){const a=[this.getRequestUrlInternal(o)];return i&&a.push(this.getBaseResourcePath()),e!==""&&a.push(e),new URL(`${a.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);if(e.queryParams)for(const[f,p]of Object.entries(e.queryParams))a.searchParams.append(f,String(p));let c={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=e.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),e.abortSignal),this.unaryApiCall(a,c,e.httpMethod)}patchHttpOptions(e,o){const i=JSON.parse(JSON.stringify(e));for(const[a,c]of Object.entries(o))typeof c=="object"?i[a]=Object.assign(Object.assign({},i[a]),c):c!==void 0&&(i[a]=c);return i}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const i=this.shouldPrependVertexProjectPath(e),a=this.constructUrl(e.path,o,i);(!a.searchParams.has("alt")||a.searchParams.get("alt")!=="sse")&&a.searchParams.set("alt","sse");let c={};return c.body=e.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,a.toString(),e.abortSignal),this.streamApiCall(a,c,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,i,a){if(o&&o.timeout||a){const c=new AbortController,f=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const p=setTimeout(()=>c.abort(),o.timeout);p&&typeof p.unref=="function"&&p.unref()}a&&a.addEventListener("abort",()=>{c.abort()}),e.signal=f}return o&&o.extraBody!==null&&XS(e,o.extraBody),e.headers=await this.getHeadersInternal(o,i),e}async unaryApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await Of(a),new Jl(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}async streamApiCall(e,o,i){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:i})).then(async a=>(await Of(a),this.processStreamResponse(a))).catch(a=>{throw a instanceof Error?a:new Error(JSON.stringify(a))})}processStreamResponse(e){return Pt(this,arguments,function*(){var i;const a=(i=e==null?void 0:e.body)===null||i===void 0?void 0:i.getReader(),c=new TextDecoder("utf-8");if(!a)throw new Error("Response body is empty");try{let f="";const p="data:",g=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:y}=yield fe(a.read());if(m){if(f.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const E=c.decode(y,{stream:!0});try{const M=JSON.parse(E);if("error"in M){const D=JSON.parse(JSON.stringify(M.error)),R=D.status,F=D.code,q=`got status: ${R}. ${JSON.stringify(M)}`;if(F>=400&&F<600)throw new Mi({message:q,status:F})}}catch(M){if(M.name==="ApiError")throw M}f+=E;let S=-1,w=0;for(;;){S=-1,w=0;for(const R of g){const F=f.indexOf(R);F!==-1&&(S===-1||F<S)&&(S=F,w=R.length)}if(S===-1)break;const M=f.substring(0,S);f=f.substring(S+w);const D=M.trim();if(D.startsWith(p)){const R=D.substring(p.length).trim();try{const F=new Response(R,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield fe(new Jl(F))}catch(F){throw new Error(`exception parsing stream chunk ${R}. ${F}`)}}}}}finally{a.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const e={},o=WS+" "+this.clientOptions.userAgentExtra;return e[$S]=o,e[Xl]=o,e[zS]="application/json",e}async getHeadersInternal(e,o){const i=new Headers;if(e&&e.headers){for(const[a,c]of Object.entries(e.headers))i.append(a,c);e.timeout&&e.timeout>0&&i.append(OS,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,o),i}getFileName(e){var o;let i="";return typeof e=="string"&&(i=e.replace(/[/\\]+$/,""),i=(o=i.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),i}async uploadFile(e,o){var i;const a={};o!=null&&(a.mimeType=o.mimeType,a.name=o.name,a.displayName=o.displayName),a.name&&!a.name.startsWith("files/")&&(a.name=`files/${a.name}`);const c=this.clientOptions.uploader,f=await c.stat(e);a.sizeBytes=String(f.size);const p=(i=o==null?void 0:o.mimeType)!==null&&i!==void 0?i:f.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");a.mimeType=p;const g={file:a},m=this.getFileName(e),y=$("upload/v1beta/files",g._url),E=await this.fetchUploadUrl(y,a.sizeBytes,a.mimeType,m,g,o==null?void 0:o.httpOptions);return c.upload(e,E,this)}async uploadFileToFileSearchStore(e,o,i){var a;const c=this.clientOptions.uploader,f=await c.stat(o),p=String(f.size),g=(a=i==null?void 0:i.mimeType)!==null&&a!==void 0?a:f.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${e}:uploadToFileSearchStore`,y=this.getFileName(o),E={};i!=null&&kp(i,E);const S=await this.fetchUploadUrl(m,p,g,y,E,i==null?void 0:i.httpOptions);return c.uploadToFileSearchStore(o,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o,i,a,c,f){var p;let g={};f?g=f:g={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${i}`},a?{"X-Goog-Upload-File-Name":a}:{})};const m=await this.request({path:e,body:JSON.stringify(c),httpMethod:"POST",httpOptions:g});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const y=(p=m==null?void 0:m.headers)===null||p===void 0?void 0:p["x-goog-upload-url"];if(y===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return y}}async function Of(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const o=t.status;let i;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?i=await t.json():i={error:{message:await t.text(),code:t.status,status:t.statusText}};const a=JSON.stringify(i);throw o>=400&&o<600?new Mi({message:a,status:o}):new Error(a)}}function XS(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof t.body=="string"&&t.body.length>0)try{const c=JSON.parse(t.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(c,f){const p=Object.assign({},c);for(const g in f)if(Object.prototype.hasOwnProperty.call(f,g)){const m=f[g],y=p[g];m&&typeof m=="object"&&!Array.isArray(m)&&y&&typeof y=="object"&&!Array.isArray(y)?p[g]=i(y,m):(y&&m&&typeof y!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${g}". Original type: ${typeof y}, New type: ${typeof m}. Overwriting.`),p[g]=m)}return p}const a=i(o,e);t.body=JSON.stringify(a)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZS="mcp_used/unknown";let jS=!1;function Pp(t){for(const e of t)if(eE(e)||typeof e=="object"&&"inputSchema"in e)return!0;return jS}function Mp(t){var e;const o=(e=t[Xl])!==null&&e!==void 0?e:"";t[Xl]=(o+` ${ZS}`).trimStart()}function eE(t){return t!==null&&typeof t=="object"&&t instanceof ha}function tE(t){return Pt(this,arguments,function*(o,i=100){let a,c=0;for(;c<i;){const f=yield fe(o.listTools({cursor:a}));for(const p of f.tools)yield yield fe(p),c++;if(!f.nextCursor)break;a=f.nextCursor}})}class ha{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new ha(e,o)}async initialize(){var e,o,i,a;if(this.mcpTools.length>0)return;const c={},f=[];for(const y of this.mcpClients)try{for(var p=!0,g=(o=void 0,Mt(tE(y))),m;m=await g.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const E=a;f.push(E);const S=E.name;if(c[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);c[S]=y}}catch(E){o={error:E}}finally{try{!p&&!e&&(i=g.return)&&await i.call(g)}finally{if(o)throw o.error}}this.mcpTools=f,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Dv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const i of e)if(i.name in this.functionNameToMcpClient){const a=this.functionNameToMcpClient[i.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const f=await a.callTool({name:i.name,arguments:i.args},void 0,c);o.push({functionResponse:{name:i.name,response:f.isError?{error:f}:f}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function nE(t,e,o){const i=new wv;let a;o.data instanceof Blob?a=JSON.parse(await o.data.text()):a=JSON.parse(o.data),Object.assign(i,a),e(i)}class oE{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i}async connect(e){var o,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const a=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),f=sE(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),g=`${a}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const y=new Promise(b=>{m=b}),E=e.callbacks,S=function(){m({})},w=this.apiClient,M={onopen:S,onmessage:b=>{nE(w,E.onmessage,b)},onerror:(o=E==null?void 0:E.onerror)!==null&&o!==void 0?o:function(b){},onclose:(i=E==null?void 0:E.onclose)!==null&&i!==void 0?i:function(b){}},D=this.webSocketFactory.create(g,iE(f),M);D.connect(),await y;const q={setup:{model:Se(this.apiClient,e.model)}};return D.send(JSON.stringify(q)),new rE(D,this.apiClient)}}class rE{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=ky(e);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=Ry(e);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const o={playbackControl:e};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(io.PLAY)}pause(){this.sendPlaybackControl(io.PAUSE)}stop(){this.sendPlaybackControl(io.STOP)}resetContext(){this.sendPlaybackControl(io.RESET_CONTEXT)}close(){this.conn.close()}}function iE(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function sE(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function aE(t,e,o){const i=new Cv;let a;o.data instanceof Blob?a=await o.data.text():o.data instanceof ArrayBuffer?a=new TextDecoder().decode(o.data):a=o.data;const c=JSON.parse(a);if(t.isVertexAI()){const f=Dy(c);Object.assign(i,f)}else Object.assign(i,c);e(i)}class uE{constructor(e,o,i){this.apiClient=e,this.auth=o,this.webSocketFactory=i,this.music=new oE(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,i,a,c,f,p;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const g=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let y;const E=this.apiClient.getHeaders();e.config&&e.config.tools&&Pp(e.config.tools)&&Mp(E);const S=pE(E);if(this.apiClient.isVertexAI())y=`${g}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,y);else{const W=this.apiClient.getApiKey();let ce="BidiGenerateContent",ae="key";W!=null&&W.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",ae="access_token"),y=`${g}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ce}?${ae}=${W}`}let w=()=>{};const M=new Promise(W=>{w=W}),D=e.callbacks,R=function(){var W;(W=D==null?void 0:D.onopen)===null||W===void 0||W.call(D),w({})},F=this.apiClient,q={onopen:R,onmessage:W=>{aE(F,D.onmessage,W)},onerror:(o=D==null?void 0:D.onerror)!==null&&o!==void 0?o:function(W){},onclose:(i=D==null?void 0:D.onclose)!==null&&i!==void 0?i:function(W){}},b=this.webSocketFactory.create(y,fE(S),q);b.connect(),await M;let z=Se(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&z.startsWith("publishers/")){const W=this.apiClient.getProject(),ce=this.apiClient.getLocation();z=`projects/${W}/locations/${ce}/`+z}let te={};this.apiClient.isVertexAI()&&((a=e.config)===null||a===void 0?void 0:a.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Ii.AUDIO]}:e.config.responseModalities=[Ii.AUDIO]),!((c=e.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Y=(p=(f=e.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[],Z=[];for(const W of Y)if(this.isCallableTool(W)){const ce=W;Z.push(await ce.tool())}else Z.push(W);Z.length>0&&(e.config.tools=Z);const he={model:z,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?te=Ay(this.apiClient,he):te=Ny(this.apiClient,he),delete te.config,b.send(JSON.stringify(te)),new dE(b,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const cE={turnComplete:!0};class dE{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let i=[];try{i=Et(o.turns),e.isVertexAI()||(i=i.map(a=>Di(a)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:i,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let i=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?i=o.functionResponses:i=[o.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const c of i){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!e.isVertexAI()&&!("id"in c))throw new Error(lE)}return{toolResponse:{functionResponses:i}}}sendClientContent(e){e=Object.assign(Object.assign({},cE),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:My(e)}:o={realtimeInput:Py(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function fE(t){const e={};return t.forEach((o,i)=>{e[i]=o}),e}function pE(t){const e=new Headers;for(const[o,i]of Object.entries(t))e.append(o,i);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $f=10;function Jf(t){var e,o,i;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let a=!1;for(const f of(o=t==null?void 0:t.tools)!==null&&o!==void 0?o:[])if(uo(f)){a=!0;break}if(!a)return!0;const c=(i=t==null?void 0:t.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function uo(t){return"callTool"in t&&typeof t.callTool=="function"}function hE(t){var e,o,i;return(i=(o=(e=t.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(a=>uo(a)))!==null&&i!==void 0?i:!1}function Wf(t){var e;const o=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((i,a)=>{if(uo(i))return;const c=i;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(a)}),o}function Kf(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mE extends Kt{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var i,a,c,f,p;const g=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!hE(o)||Jf(o.config))return await this.generateContentInternal(g);const m=Wf(o);if(m.length>0){const D=m.map(R=>`tools[${R}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${D}.`)}let y,E;const S=Et(g.contents),w=(c=(a=(i=g.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&c!==void 0?c:$f;let M=0;for(;M<w&&(y=await this.generateContentInternal(g),!(!y.functionCalls||y.functionCalls.length===0));){const D=y.candidates[0].content,R=[];for(const F of(p=(f=o.config)===null||f===void 0?void 0:f.tools)!==null&&p!==void 0?p:[])if(uo(F)){const b=await F.callTool(y.functionCalls);R.push(...b)}M++,E={role:"user",parts:R},g.contents=Et(g.contents),g.contents.push(D),g.contents.push(E),Kf(g.config)&&(S.push(D),S.push(E))}return Kf(g.config)&&(y.automaticFunctionCallingHistory=S),y},this.generateContentStream=async o=>{var i,a,c,f,p;if(this.maybeMoveToResponseJsonSchem(o),Jf(o.config)){const E=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(E)}const g=Wf(o);if(g.length>0){const E=g.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${E}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(a=(i=o==null?void 0:o.config)===null||i===void 0?void 0:i.toolConfig)===null||a===void 0?void 0:a.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,y=(p=(f=o==null?void 0:o.config)===null||f===void 0?void 0:f.automaticFunctionCalling)===null||p===void 0?void 0:p.disable;if(m&&!y)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(i=>{var a;let c;const f=[];if(i!=null&&i.generatedImages)for(const g of i.generatedImages)g&&(g!=null&&g.safetyAttributes)&&((a=g==null?void 0:g.safetyAttributes)===null||a===void 0?void 0:a.contentType)==="Positive Prompt"?c=g==null?void 0:g.safetyAttributes:f.push(g);let p;return c?p={generatedImages:f,positivePromptSafetyAttributes:c,sdkHttpResponse:i.sdkHttpResponse}:p={generatedImages:f,sdkHttpResponse:i.sdkHttpResponse},p}),this.list=async o=>{var i;const f={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!f.config.queryBase){if(!((i=f.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");f.config.filter="labels.tune-type:*"}return new Mn(Wt.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(f),f)},this.editImage=async o=>{const i={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(i.referenceImages=o.referenceImages.map(a=>a.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async o=>{let i={numberOfImages:1,mode:"upscale"};o.config&&(i=Object.assign(Object.assign({},i),o.config));const a={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:i};return await this.upscaleImageInternal(a)},this.generateVideos=async o=>{var i,a,c,f,p,g;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=o.video)===null||i===void 0)&&i.uri&&(!((a=o.video)===null||a===void 0)&&a.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((f=(c=o.source)===null||c===void 0?void 0:c.video)===null||f===void 0)&&f.uri&&(!((g=(p=o.source)===null||p===void 0?void 0:p.video)===null||g===void 0)&&g.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,i,a;const c=(o=e.config)===null||o===void 0?void 0:o.tools;if(!c)return e;const f=await Promise.all(c.map(async g=>uo(g)?await g.tool():g)),p={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:f})};if(p.config.tools=f,e.config&&e.config.tools&&Pp(e.config.tools)){const g=(a=(i=e.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&a!==void 0?a:{};let m=Object.assign({},g);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Mp(m),p.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(e){var o,i,a;const c=new Map;for(const f of(i=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&i!==void 0?i:[])if(uo(f)){const p=f,g=await p.tool();for(const m of(a=g.functionDeclarations)!==null&&a!==void 0?a:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(e){var o,i,a;const c=(a=(i=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:$f;let f=!1,p=0;const g=await this.initAfcToolsMap(e);return(function(m,y,E){return Pt(this,arguments,function*(){for(var S,w,M,D,R,F;p<c;){f&&(p++,f=!1);const te=yield fe(m.processParamsMaybeAddMcpUsage(E)),Y=yield fe(m.generateContentStreamInternal(te)),Z=[],he=[];try{for(var q=!0,b=(w=void 0,Mt(Y)),z;z=yield fe(b.next()),S=z.done,!S;q=!0){D=z.value,q=!1;const W=D;if(yield yield fe(W),W.candidates&&(!((R=W.candidates[0])===null||R===void 0)&&R.content)){he.push(W.candidates[0].content);for(const ce of(F=W.candidates[0].content.parts)!==null&&F!==void 0?F:[])if(p<c&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(y.has(ce.functionCall.name)){const ae=yield fe(y.get(ce.functionCall.name).callTool([ce.functionCall]));Z.push(...ae)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${y.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(W){w={error:W}}finally{try{!q&&!S&&(M=b.return)&&(yield fe(M.call(b)))}finally{if(w)throw w.error}}if(Z.length>0){f=!0;const W=new er;W.candidates=[{content:{role:"user",parts:Z}}],yield yield fe(W);const ce=[];ce.push(...he),ce.push({role:"user",parts:Z});const ae=Et(E.contents).concat(ce);E.contents=ae}else break}})})(this,g,e)}async generateContentInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Bf(this.apiClient,e);return p=$("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=zf(y),S=new er;return Object.assign(S,E),S})}else{const m=bf(this.apiClient,e);return p=$("{model}:generateContent",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=qf(y),S=new er;return Object.assign(S,E),S})}}async generateContentStreamInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Bf(this.apiClient,e);return p=$("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}),f.then(function(E){return Pt(this,arguments,function*(){var S,w,M,D;try{for(var R=!0,F=Mt(E),q;q=yield fe(F.next()),S=q.done,!S;R=!0){D=q.value,R=!1;const b=D,z=zf(yield fe(b.json()));z.sdkHttpResponse={headers:b.headers};const te=new er;Object.assign(te,z),yield yield fe(te)}}catch(b){w={error:b}}finally{try{!R&&!S&&(M=F.return)&&(yield fe(M.call(F)))}finally{if(w)throw w.error}}})})}else{const m=bf(this.apiClient,e);return p=$("{model}:streamGenerateContent?alt=sse",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.requestStream({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}),f.then(function(E){return Pt(this,arguments,function*(){var S,w,M,D;try{for(var R=!0,F=Mt(E),q;q=yield fe(F.next()),S=q.done,!S;R=!0){D=q.value,R=!1;const b=D,z=qf(yield fe(b.json()));z.sdkHttpResponse={headers:b.headers};const te=new er;Object.assign(te,z),yield yield fe(te)}}catch(b){w={error:b}}finally{try{!R&&!S&&(M=F.return)&&(yield fe(M.call(F)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=ux(this.apiClient,e);return p=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=dx(y),S=new _f;return Object.assign(S,E),S})}else{const m=ax(this.apiClient,e);return p=$("{model}:batchEmbedContents",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=cx(y),S=new _f;return Object.assign(S,E),S})}}async generateImagesInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Tx(this.apiClient,e);return p=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Cx(y),S=new Cf;return Object.assign(S,E),S})}else{const m=Ex(this.apiClient,e);return p=$("{model}:predict",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=_x(y),S=new Cf;return Object.assign(S,E),S})}}async editImageInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=rx(this.apiClient,e);return c=$("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=ix(g),y=new pv;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=TS(this.apiClient,e);return c=$("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=_S(g),y=new hv;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=oS(this.apiClient,e);return c=$("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=rS(g),y=new mv;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=cS(this.apiClient,e);return c=$("{model}:predict",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=dS(g),y=new gv;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Bx(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Ql(y))}else{const m=bx(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Yl(y))}}async listInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Qx(this.apiClient,e);return p=$("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Zx(y),S=new wf;return Object.assign(S,E),S})}else{const m=Yx(this.apiClient,e);return p=$("{models_url}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Xx(y),S=new wf;return Object.assign(S,E),S})}}async update(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=SS(this.apiClient,e);return p=$("{model}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>Ql(y))}else{const m=xS(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>Yl(y))}}async delete(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=ex(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=nx(y),S=new If;return Object.assign(S,E),S})}else{const m=jy(this.apiClient,e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=tx(y),S=new If;return Object.assign(S,E),S})}}async countTokens(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=Qy(this.apiClient,e);return p=$("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Zy(y),S=new Nf;return Object.assign(S,E),S})}else{const m=Yy(this.apiClient,e);return p=$("{model}:countTokens",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=Xy(y),S=new Nf;return Object.assign(S,E),S})}}async computeTokens(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=qy(this.apiClient,e);return c=$("{model}:computeTokens",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>{const m=zy(g),y=new vv;return Object.assign(y,m),y})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=kx(this.apiClient,e);return p=$("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f.then(y=>{const E=Ax(y),S=new Ni;return Object.assign(S,E),S})}else{const m=Rx(this.apiClient,e);return p=$("{model}:predictLongRunning",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f.then(y=>{const E=Nx(y),S=new Ni;return Object.assign(S,E),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gE extends Kt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async get(e){const o=e.operation,i=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const a=o.name.split("/operations/")[0];let c;i&&"httpOptions"in i&&(c=i.httpOptions);const f=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:a,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:f,_isVertexAI:!0})}else{const a=await this.getVideosOperationInternal({operationName:o.name,config:i});return o._fromAPIResponse({apiResponse:a,_isVertexAI:!1})}}async getVideosOperationInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=lv(e);return p=$("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json()),f}else{const m=sv(e);return p=$("{operationName}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json()),f}}async fetchPredictVideosOperationInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=jg(e);return c=$("{resourceName}:fetchPredictOperation",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vE(t){const e={},o=l(t,["data"]);if(o!=null&&u(e,["data"],o),l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function yE(t){const e={},o=l(t,["parts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>NE(c))),u(e,["parts"],a)}const i=l(t,["role"]);return i!=null&&u(e,["role"],i),e}function xE(t,e,o){const i={},a=l(e,["expireTime"]);o!==void 0&&a!=null&&u(o,["expireTime"],a);const c=l(e,["newSessionExpireTime"]);o!==void 0&&c!=null&&u(o,["newSessionExpireTime"],c);const f=l(e,["uses"]);o!==void 0&&f!=null&&u(o,["uses"],f);const p=l(e,["liveConnectConstraints"]);o!==void 0&&p!=null&&u(o,["bidiGenerateContentSetup"],IE(t,p));const g=l(e,["lockAdditionalFields"]);return o!==void 0&&g!=null&&u(o,["fieldMask"],g),i}function SE(t,e){const o={},i=l(e,["config"]);return i!=null&&u(o,["config"],xE(t,i,o)),o}function EE(t){const e={};if(l(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=l(t,["fileUri"]);o!=null&&u(e,["fileUri"],o);const i=l(t,["mimeType"]);return i!=null&&u(e,["mimeType"],i),e}function TE(t){const e={},o=l(t,["id"]);o!=null&&u(e,["id"],o);const i=l(t,["args"]);i!=null&&u(e,["args"],i);const a=l(t,["name"]);if(a!=null&&u(e,["name"],a),l(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(l(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function _E(t){const e={};if(l(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=l(t,["enableWidget"]);return o!=null&&u(e,["enableWidget"],o),e}function CE(t){const e={};if(l(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(l(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=l(t,["timeRangeFilter"]);return o!=null&&u(e,["timeRangeFilter"],o),e}function wE(t,e){const o={},i=l(t,["generationConfig"]);e!==void 0&&i!=null&&u(e,["setup","generationConfig"],i);const a=l(t,["responseModalities"]);e!==void 0&&a!=null&&u(e,["setup","generationConfig","responseModalities"],a);const c=l(t,["temperature"]);e!==void 0&&c!=null&&u(e,["setup","generationConfig","temperature"],c);const f=l(t,["topP"]);e!==void 0&&f!=null&&u(e,["setup","generationConfig","topP"],f);const p=l(t,["topK"]);e!==void 0&&p!=null&&u(e,["setup","generationConfig","topK"],p);const g=l(t,["maxOutputTokens"]);e!==void 0&&g!=null&&u(e,["setup","generationConfig","maxOutputTokens"],g);const m=l(t,["mediaResolution"]);e!==void 0&&m!=null&&u(e,["setup","generationConfig","mediaResolution"],m);const y=l(t,["seed"]);e!==void 0&&y!=null&&u(e,["setup","generationConfig","seed"],y);const E=l(t,["speechConfig"]);e!==void 0&&E!=null&&u(e,["setup","generationConfig","speechConfig"],pa(E));const S=l(t,["thinkingConfig"]);e!==void 0&&S!=null&&u(e,["setup","generationConfig","thinkingConfig"],S);const w=l(t,["enableAffectiveDialog"]);e!==void 0&&w!=null&&u(e,["setup","generationConfig","enableAffectiveDialog"],w);const M=l(t,["systemInstruction"]);e!==void 0&&M!=null&&u(e,["setup","systemInstruction"],yE(je(M)));const D=l(t,["tools"]);if(e!==void 0&&D!=null){let Y=fo(D);Array.isArray(Y)&&(Y=Y.map(Z=>RE(co(Z)))),u(e,["setup","tools"],Y)}const R=l(t,["sessionResumption"]);e!==void 0&&R!=null&&u(e,["setup","sessionResumption"],AE(R));const F=l(t,["inputAudioTranscription"]);e!==void 0&&F!=null&&u(e,["setup","inputAudioTranscription"],F);const q=l(t,["outputAudioTranscription"]);e!==void 0&&q!=null&&u(e,["setup","outputAudioTranscription"],q);const b=l(t,["realtimeInputConfig"]);e!==void 0&&b!=null&&u(e,["setup","realtimeInputConfig"],b);const z=l(t,["contextWindowCompression"]);e!==void 0&&z!=null&&u(e,["setup","contextWindowCompression"],z);const te=l(t,["proactivity"]);if(e!==void 0&&te!=null&&u(e,["setup","proactivity"],te),l(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function IE(t,e){const o={},i=l(e,["model"]);i!=null&&u(o,["setup","model"],Se(t,i));const a=l(e,["config"]);return a!=null&&u(o,["config"],wE(a,o)),o}function NE(t){const e={},o=l(t,["mediaResolution"]);o!=null&&u(e,["mediaResolution"],o);const i=l(t,["codeExecutionResult"]);i!=null&&u(e,["codeExecutionResult"],i);const a=l(t,["executableCode"]);a!=null&&u(e,["executableCode"],a);const c=l(t,["fileData"]);c!=null&&u(e,["fileData"],EE(c));const f=l(t,["functionCall"]);f!=null&&u(e,["functionCall"],TE(f));const p=l(t,["functionResponse"]);p!=null&&u(e,["functionResponse"],p);const g=l(t,["inlineData"]);g!=null&&u(e,["inlineData"],vE(g));const m=l(t,["text"]);m!=null&&u(e,["text"],m);const y=l(t,["thought"]);y!=null&&u(e,["thought"],y);const E=l(t,["thoughtSignature"]);E!=null&&u(e,["thoughtSignature"],E);const S=l(t,["videoMetadata"]);return S!=null&&u(e,["videoMetadata"],S),e}function AE(t){const e={},o=l(t,["handle"]);if(o!=null&&u(e,["handle"],o),l(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function RE(t){const e={},o=l(t,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(E=>E)),u(e,["functionDeclarations"],y)}if(l(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const i=l(t,["googleSearchRetrieval"]);i!=null&&u(e,["googleSearchRetrieval"],i);const a=l(t,["computerUse"]);a!=null&&u(e,["computerUse"],a);const c=l(t,["fileSearch"]);c!=null&&u(e,["fileSearch"],c);const f=l(t,["codeExecution"]);if(f!=null&&u(e,["codeExecution"],f),l(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const p=l(t,["googleMaps"]);p!=null&&u(e,["googleMaps"],_E(p));const g=l(t,["googleSearch"]);g!=null&&u(e,["googleSearch"],CE(g));const m=l(t,["urlContext"]);return m!=null&&u(e,["urlContext"],m),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kE(t){const e=[];for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)){const i=t[o];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const a=Object.keys(i).map(c=>`${o}.${c}`);e.push(...a)}else e.push(o)}return e.join(",")}function PE(t,e){let o=null;const i=t.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const c=i.setup;typeof c=="object"&&c!==null?(t.bidiGenerateContentSetup=c,o=c):delete t.bidiGenerateContentSetup}else i!==void 0&&delete t.bidiGenerateContentSetup;const a=t.fieldMask;if(o){const c=kE(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)c?t.fieldMask=c:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&a!==null&&Array.isArray(a)&&a.length>0){const f=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];a.length>0&&(p=a.map(m=>f.includes(m)?`generationConfig.${m}`:m));const g=[];c&&g.push(c),p.length>0&&g.push(...p),g.length>0?t.fieldMask=g.join(","):delete t.fieldMask}else delete t.fieldMask}else a!==null&&Array.isArray(a)&&a.length>0?t.fieldMask=a.join(","):delete t.fieldMask;return t}class ME extends Kt{constructor(e){super(),this.apiClient=e}async create(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=SE(this.apiClient,e);c=$("auth_tokens",p._url),f=p._query,delete p.config,delete p._url,delete p._query;const g=PE(p,e.config);return a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()),a.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function DE(t,e){const o={},i=l(t,["force"]);return e!==void 0&&i!=null&&u(e,["_query","force"],i),o}function LE(t){const e={},o=l(t,["name"]);o!=null&&u(e,["_url","name"],o);const i=l(t,["config"]);return i!=null&&DE(i,e),e}function UE(t){const e={},o=l(t,["name"]);return o!=null&&u(e,["_url","name"],o),e}function FE(t,e){const o={},i=l(t,["pageSize"]);e!==void 0&&i!=null&&u(e,["_query","pageSize"],i);const a=l(t,["pageToken"]);return e!==void 0&&a!=null&&u(e,["_query","pageToken"],a),o}function VE(t){const e={},o=l(t,["parent"]);o!=null&&u(e,["_url","parent"],o);const i=l(t,["config"]);return i!=null&&FE(i,e),e}function GE(t){const e={},o=l(t,["sdkHttpResponse"]);o!=null&&u(e,["sdkHttpResponse"],o);const i=l(t,["nextPageToken"]);i!=null&&u(e,["nextPageToken"],i);const a=l(t,["documents"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),u(e,["documents"],c)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HE extends Kt{constructor(e){super(),this.apiClient=e,this.list=async o=>new Mn(Wt.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:o.parent,config:i.config}),await this.listInternal(o),o)}async get(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=UE(e);return c=$("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,i;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=LE(e);a=$("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=VE(e);return c=$("{parent}/documents",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=GE(g),y=new yv;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bE extends Kt{constructor(e,o=new HE(e)){super(),this.apiClient=e,this.documents=o,this.list=async(i={})=>new Mn(Wt.PAGED_ITEM_FILE_SEARCH_STORES,a=>this.listInternal(a),await this.listInternal(i),i)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=kS(e);return c=$("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async get(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=DS(e);return c=$("{name}",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>g)}}async delete(e){var o,i;let a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const f=MS(e);a=$("{name}",f._url),c=f._query,delete f._url,delete f._query,await this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=HS(e);return c=$("fileSearchStores",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=bS(g),y=new xv;return Object.assign(y,m),y})}}async uploadToFileSearchStoreInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=BS(e);return c=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=qS(g),y=new Sv;return Object.assign(y,m),y})}}async importFile(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=FS(e);return c=$("{file_search_store_name}:importFile",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json()),a.then(g=>{const m=US(g),y=new aa;return Object.assign(y,m),y})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Dp=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return Dp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),o=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^o()&15>>+i/4).toString(16))};const BE=()=>Dp();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zl(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const jl=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tt extends Error{}class ot extends Tt{constructor(e,o,i,a){super(`${ot.makeMessage(e,o,i)}`),this.status=e,this.headers=a,this.error=o}static makeMessage(e,o,i){const a=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):i;return e&&a?`${e} ${a}`:e?`${e} status code (no body)`:a||"(no status code or body)"}static generate(e,o,i,a){if(!e||!a)return new Fi({message:i,cause:jl(o)});const c=o;return e===400?new Up(e,c,i,a):e===401?new Fp(e,c,i,a):e===403?new Vp(e,c,i,a):e===404?new Gp(e,c,i,a):e===409?new Hp(e,c,i,a):e===422?new bp(e,c,i,a):e===429?new Bp(e,c,i,a):e>=500?new qp(e,c,i,a):new ot(e,c,i,a)}}class ea extends ot{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Fi extends ot{constructor({message:e,cause:o}){super(void 0,void 0,e||"Connection error.",void 0),o&&(this.cause=o)}}class Lp extends Fi{constructor({message:e}={}){super({message:e??"Request timed out."})}}class Up extends ot{}class Fp extends ot{}class Vp extends ot{}class Gp extends ot{}class Hp extends ot{}class bp extends ot{}class Bp extends ot{}class qp extends ot{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qE=/^[a-z][a-z0-9+.-]*:/i,zE=t=>qE.test(t);let ta=t=>(ta=Array.isArray,ta(t));const OE=ta;let $E=OE;const Yf=$E;function JE(t){if(!t)return!0;for(const e in t)return!1;return!0}function WE(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const KE=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Tt(`${t} must be an integer`);if(e<0)throw new Tt(`${t} must be a positive integer`);return e},YE=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QE=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ro="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XE(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ZE=()=>{var t,e,o,i,a;const c=XE();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Xf(Deno.build.os),"X-Stainless-Arch":Qf(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":Xf((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":Qf((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(a=globalThis.process.version)!==null&&a!==void 0?a:"unknown"};const f=jE();return f?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${f.browser}`,"X-Stainless-Runtime-Version":f.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ro,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function jE(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:o}of t){const i=o.exec(navigator.userAgent);if(i){const a=i[1]||0,c=i[2]||0,f=i[3]||0;return{browser:e,version:`${a}.${c}.${f}`}}}return null}const Qf=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",Xf=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let yi;const eT=()=>yi??(yi=ZE());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tT(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function zp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function nT(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return zp({start(){},async pull(o){const{done:i,value:a}=await e.next();i?o.close():o.enqueue(a)},async cancel(){var o;await((o=e.return)===null||o===void 0?void 0:o.call(e))}})}function Op(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const o=await e.read();return o!=null&&o.done&&e.releaseLock(),o}catch(o){throw e.releaseLock(),o}},async return(){const o=e.cancel();return e.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function oT(t){var e,o;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((o=(e=t[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(e));return}const i=t.getReader(),a=i.cancel();i.releaseLock(),await a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rT=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $p=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,o=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function bl(t,e,o){return $p(),new File(t,e??"unknown_file",o)}function iT(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const sT=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",lT=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Jp(t),aT=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function uT(t,e,o){if($p(),t=await t,lT(t))return t instanceof File?t:bl([await t.arrayBuffer()],t.name);if(aT(t)){const a=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),bl(await na(a),e,o)}const i=await na(t);if(e||(e=iT(t)),!(o!=null&&o.type)){const a=i.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof a=="string"&&(o=Object.assign(Object.assign({},o),{type:a}))}return bl(i,e,o)}async function na(t){var e,o,i,a,c;let f=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)f.push(t);else if(Jp(t))f.push(t instanceof Blob?t:await t.arrayBuffer());else if(sT(t))try{for(var p=!0,g=Mt(t),m;m=await g.next(),e=m.done,!e;p=!0){a=m.value,p=!1;const y=a;f.push(...await na(y))}}catch(y){o={error:y}}finally{try{!p&&!e&&(i=g.return)&&await i.call(g)}finally{if(o)throw o.error}}else{const y=(c=t==null?void 0:t.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof t}${y?`; constructor: ${y}`:""}${cT(t)}`)}return f}function cT(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wp{constructor(e){this._client=e}}Wp._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Kp(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Zf=Object.freeze(Object.create(null)),dT=(t=Kp)=>(function(o,...i){if(o.length===1)return o[0];let a=!1;const c=[],f=o.reduce((y,E,S)=>{var w,M,D;/[?#]/.test(E)&&(a=!0);const R=i[S];let F=(a?encodeURIComponent:t)(""+R);return S!==i.length&&(R==null||typeof R=="object"&&R.toString===((D=Object.getPrototypeOf((M=Object.getPrototypeOf((w=R.hasOwnProperty)!==null&&w!==void 0?w:Zf))!==null&&M!==void 0?M:Zf))===null||D===void 0?void 0:D.toString))&&(F=R+"",c.push({start:y.length+E.length,length:F.length,error:`Value of type ${Object.prototype.toString.call(R).slice(8,-1)} is not a valid path parameter`})),y+E+(S===i.length?"":F)},""),p=f.split(/[?#]/,1)[0],g=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=g.exec(p))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((y,E)=>y.start-E.start),c.length>0){let y=0;const E=c.reduce((S,w)=>{const M=" ".repeat(w.start-y),D="^".repeat(w.length);return y=w.start+w.length,S+M+D},"");throw new Tt(`Path parameters result in path with invalid segments:
${c.map(S=>S.error).join(`
`)}
${f}
${E}`)}return f}),xi=dT(Kp);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yp extends Wp{create(e,o){var i;const{api_version:a=this._client.apiVersion}=e,c=Ri(e,["api_version"]);if("model"in c&&"agent_config"in c)throw new Tt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Tt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(xi`/${a}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(i=e.stream)!==null&&i!==void 0?i:!1}))}delete(e,o={},i){const{api_version:a=this._client.apiVersion}=o??{};return this._client.delete(xi`/${a}/interactions/${e}`,i)}cancel(e,o={},i){const{api_version:a=this._client.apiVersion}=o??{};return this._client.post(xi`/${a}/interactions/${e}/cancel`,i)}get(e,o={},i){var a;const c=o??{},{api_version:f=this._client.apiVersion}=c,p=Ri(c,["api_version"]);return this._client.get(xi`/${f}/interactions/${e}`,Object.assign(Object.assign({query:p},i),{stream:(a=o==null?void 0:o.stream)!==null&&a!==void 0?a:!1}))}}Yp._key=Object.freeze(["interactions"]);class Qp extends Yp{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fT(t){let e=0;for(const a of t)e+=a.length;const o=new Uint8Array(e);let i=0;for(const a of t)o.set(a,i),i+=a.length;return o}let Si;function ma(t){let e;return(Si??(e=new globalThis.TextEncoder,Si=e.encode.bind(e)))(t)}let Ei;function jf(t){let e;return(Ei??(e=new globalThis.TextDecoder,Ei=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Vi{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const o=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?ma(e):e;this.buffer=fT([this.buffer,o]);const i=[];let a;for(;(a=pT(this.buffer,this.carriageReturnIndex))!=null;){if(a.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=a.index;continue}if(this.carriageReturnIndex!=null&&(a.index!==this.carriageReturnIndex+1||a.carriage)){i.push(jf(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?a.preceding-1:a.preceding,f=jf(this.buffer.subarray(0,c));i.push(f),this.buffer=this.buffer.subarray(a.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}Vi.NEWLINE_CHARS=new Set([`
`,"\r"]);Vi.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function pT(t,e){for(let a=e??0;a<t.length;a++){if(t[a]===10)return{preceding:a,index:a+1,carriage:!1};if(t[a]===13)return{preceding:a,index:a+1,carriage:!0}}return null}function hT(t){for(let i=0;i<t.length-1;i++){if(t[i]===10&&t[i+1]===10||t[i]===13&&t[i+1]===13)return i+2;if(t[i]===13&&t[i+1]===10&&i+3<t.length&&t[i+2]===13&&t[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ki={off:0,error:200,warn:300,info:400,debug:500},ep=(t,e,o)=>{if(t){if(WE(ki,t))return t;nt(o).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ki))}`)}};function or(){}function Ti(t,e,o){return!e||ki[t]>ki[o]?or:e[t].bind(e)}const mT={error:or,warn:or,info:or,debug:or};let tp=new WeakMap;function nt(t){var e;const o=t.logger,i=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!o)return mT;const a=tp.get(o);if(a&&a[0]===i)return a[1];const c={error:Ti("error",o,i),warn:Ti("warn",o,i),info:Ti("info",o,i),debug:Ti("debug",o,i)};return tp.set(o,[i,c]),c}const Pn=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,o])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so{constructor(e,o,i){this.iterator=e,this.controller=o,this.client=i}static fromSSEResponse(e,o,i){let a=!1;const c=i?nt(i):console;function f(){return Pt(this,arguments,function*(){var g,m,y,E;if(a)throw new Tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var w=!0,M=Mt(gT(e,o)),D;D=yield fe(M.next()),g=D.done,!g;w=!0){E=D.value,w=!1;const R=E;if(!S)if(R.data.startsWith("[DONE]")){S=!0;continue}else try{yield yield fe(JSON.parse(R.data))}catch(F){throw c.error("Could not parse message into JSON:",R.data),c.error("From chunk:",R.raw),F}}}catch(R){m={error:R}}finally{try{!w&&!g&&(y=M.return)&&(yield fe(y.call(M)))}finally{if(m)throw m.error}}S=!0}catch(R){if(Zl(R))return yield fe(void 0);throw R}finally{S||o.abort()}})}return new so(f,o,i)}static fromReadableStream(e,o,i){let a=!1;function c(){return Pt(this,arguments,function*(){var g,m,y,E;const S=new Vi,w=Op(e);try{for(var M=!0,D=Mt(w),R;R=yield fe(D.next()),g=R.done,!g;M=!0){E=R.value,M=!1;const F=E;for(const q of S.decode(F))yield yield fe(q)}}catch(F){m={error:F}}finally{try{!M&&!g&&(y=D.return)&&(yield fe(y.call(D)))}finally{if(m)throw m.error}}for(const F of S.flush())yield yield fe(F)})}function f(){return Pt(this,arguments,function*(){var g,m,y,E;if(a)throw new Tt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let S=!1;try{try{for(var w=!0,M=Mt(c()),D;D=yield fe(M.next()),g=D.done,!g;w=!0){E=D.value,w=!1;const R=E;S||R&&(yield yield fe(JSON.parse(R)))}}catch(R){m={error:R}}finally{try{!w&&!g&&(y=M.return)&&(yield fe(y.call(M)))}finally{if(m)throw m.error}}S=!0}catch(R){if(Zl(R))return yield fe(void 0);throw R}finally{S||o.abort()}})}return new so(f,o,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],o=[],i=this.iterator(),a=c=>({next:()=>{if(c.length===0){const f=i.next();e.push(f),o.push(f)}return c.shift()}});return[new so(()=>a(e),this.controller,this.client),new so(()=>a(o),this.controller,this.client)]}toReadableStream(){const e=this;let o;return zp({async start(){o=e[Symbol.asyncIterator]()},async pull(i){try{const{value:a,done:c}=await o.next();if(c)return i.close();const f=ma(JSON.stringify(a)+`
`);i.enqueue(f)}catch(a){i.error(a)}},async cancel(){var i;await((i=o.return)===null||i===void 0?void 0:i.call(o))}})}}function gT(t,e){return Pt(this,arguments,function*(){var i,a,c,f;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Tt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Tt("Attempted to iterate over a response with no body");const p=new yT,g=new Vi,m=Op(t.body);try{for(var y=!0,E=Mt(vT(m)),S;S=yield fe(E.next()),i=S.done,!i;y=!0){f=S.value,y=!1;const w=f;for(const M of g.decode(w)){const D=p.decode(M);D&&(yield yield fe(D))}}}catch(w){a={error:w}}finally{try{!y&&!i&&(c=E.return)&&(yield fe(c.call(E)))}finally{if(a)throw a.error}}for(const w of g.flush()){const M=p.decode(w);M&&(yield yield fe(M))}})}function vT(t){return Pt(this,arguments,function*(){var o,i,a,c;let f=new Uint8Array;try{for(var p=!0,g=Mt(t),m;m=yield fe(g.next()),o=m.done,!o;p=!0){c=m.value,p=!1;const y=c;if(y==null)continue;const E=y instanceof ArrayBuffer?new Uint8Array(y):typeof y=="string"?ma(y):y;let S=new Uint8Array(f.length+E.length);S.set(f),S.set(E,f.length),f=S;let w;for(;(w=hT(f))!==-1;)yield yield fe(f.slice(0,w)),f=f.slice(w)}}catch(y){i={error:y}}finally{try{!p&&!o&&(a=g.return)&&(yield fe(a.call(g)))}finally{if(i)throw i.error}}f.length>0&&(yield yield fe(f))})}class yT{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(e),e.startsWith(":"))return null;let[o,i,a]=xT(e,":");return a.startsWith(" ")&&(a=a.substring(1)),o==="event"?this.event=a:o==="data"&&this.data.push(a),null}}function xT(t,e){const o=t.indexOf(e);return o!==-1?[t.substring(0,o),e,t.substring(o+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ST(t,e){const{response:o,requestLogID:i,retryOfRequestLogID:a,startTime:c}=e,f=await(async()=>{var p;if(e.options.stream)return nt(t).debug("response",o.status,o.url,o.headers,o.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(o,e.controller,t):so.fromSSEResponse(o,e.controller,t);if(o.status===204)return null;if(e.options.__binaryResponse)return o;const g=o.headers.get("content-type"),m=(p=g==null?void 0:g.split(";")[0])===null||p===void 0?void 0:p.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return nt(t).debug(`[${i}] response parsed`,Pn({retryOfRequestLogID:a,url:o.url,status:o.status,body:f,durationMs:Date.now()-c})),f}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ga extends Promise{constructor(e,o,i=ST){super(a=>{a(null)}),this.responsePromise=o,this.parseResponse=i,this.client=e}_thenUnwrap(e){return new ga(this.client,this.responsePromise,async(o,i)=>e(await this.parseResponse(o,i),i))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,o){return this.parse().then(e,o)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xp=Symbol("brand.privateNullableHeaders");function*ET(t){if(!t)return;if(Xp in t){const{values:i,nulls:a}=t;yield*i.entries();for(const c of a)yield[c,null];return}let e=!1,o;t instanceof Headers?o=t.entries():Yf(t)?o=t:(e=!0,o=Object.entries(t??{}));for(let i of o){const a=i[0];if(typeof a!="string")throw new TypeError("expected header name to be a string");const c=Yf(i[1])?i[1]:[i[1]];let f=!1;for(const p of c)p!==void 0&&(e&&!f&&(f=!0,yield[a,null]),yield[a,p])}}const tr=t=>{const e=new Headers,o=new Set;for(const i of t){const a=new Set;for(const[c,f]of ET(i)){const p=c.toLowerCase();a.has(p)||(e.delete(c),a.add(p)),f===null?(e.delete(c),o.add(p)):(e.append(c,f),o.delete(p))}}return{[Xp]:!0,values:e,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Bl=t=>{var e,o,i,a,c,f;if(typeof globalThis.process<"u")return(i=(o=(e=Wg)===null||e===void 0?void 0:e[t])===null||o===void 0?void 0:o.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(f=(c=(a=globalThis.Deno.env)===null||a===void 0?void 0:a.get)===null||c===void 0?void 0:c.call(a,t))===null||f===void 0?void 0:f.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zp;class Gi{constructor(e){var o,i,a,c,f,p,g,{baseURL:m=Bl("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:y=(o=Bl("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:E="v1beta"}=e,S=Ri(e,["baseURL","apiKey","apiVersion"]);const w=Object.assign(Object.assign({apiKey:y,apiVersion:E},S),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=w.baseURL,this.timeout=(i=w.timeout)!==null&&i!==void 0?i:Gi.DEFAULT_TIMEOUT,this.logger=(a=w.logger)!==null&&a!==void 0?a:console;const M="warn";this.logLevel=M,this.logLevel=(f=(c=ep(w.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:ep(Bl("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&f!==void 0?f:M,this.fetchOptions=w.fetchOptions,this.maxRetries=(p=w.maxRetries)!==null&&p!==void 0?p:2,this.fetch=(g=w.fetch)!==null&&g!==void 0?g:tT(),this.encoder=rT,this._options=w,this.apiKey=y,this.apiVersion=E,this.clientAdapter=w.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:o}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const o=tr([e.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return tr([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return tr([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([o,i])=>typeof i<"u").map(([o,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(o)}=`;throw new Tt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ro}`}defaultIdempotencyKey(){return`stainless-node-retry-${BE()}`}makeStatusError(e,o,i,a){return ot.generate(e,o,i,a)}buildURL(e,o,i){const a=!this.baseURLOverridden()&&i||this.baseURL,c=zE(e)?new URL(e):new URL(a+(a.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),f=this.defaultQuery();return JE(f)||(o=Object.assign(Object.assign({},f),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const o=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(e,{url:o,options:i}){}get(e,o){return this.methodRequest("get",e,o)}post(e,o){return this.methodRequest("post",e,o)}patch(e,o){return this.methodRequest("patch",e,o)}put(e,o){return this.methodRequest("put",e,o)}delete(e,o){return this.methodRequest("delete",e,o)}methodRequest(e,o,i){return this.request(Promise.resolve(i).then(a=>Object.assign({method:e,path:o},a)))}request(e,o=null){return new ga(this,this.makeRequest(e,o,void 0))}async makeRequest(e,o,i){var a,c,f;const p=await e,g=(a=p.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o==null&&(o=g),await this.prepareOptions(p);const{req:m,url:y,timeout:E}=await this.buildRequest(p,{retryCount:g-o});await this.prepareRequest(m,{url:y,options:p});const S="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),w=i===void 0?"":`, retryOf: ${i}`,M=Date.now();if(nt(this).debug(`[${S}] sending request`,Pn({retryOfRequestLogID:i,method:p.method,url:y,options:p,headers:m.headers})),!((c=p.signal)===null||c===void 0)&&c.aborted)throw new ea;const D=new AbortController,R=await this.fetchWithTimeout(y,m,E,D).catch(jl),F=Date.now();if(R instanceof globalThis.Error){const b=`retrying, ${o} attempts remaining`;if(!((f=p.signal)===null||f===void 0)&&f.aborted)throw new ea;const z=Zl(R)||/timed? ?out/i.test(String(R)+("cause"in R?String(R.cause):""));if(o)return nt(this).info(`[${S}] connection ${z?"timed out":"failed"} - ${b}`),nt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (${b})`,Pn({retryOfRequestLogID:i,url:y,durationMs:F-M,message:R.message})),this.retryRequest(p,o,i??S);throw nt(this).info(`[${S}] connection ${z?"timed out":"failed"} - error; no more retries left`),nt(this).debug(`[${S}] connection ${z?"timed out":"failed"} (error; no more retries left)`,Pn({retryOfRequestLogID:i,url:y,durationMs:F-M,message:R.message})),z?new Lp:new Fi({cause:R})}const q=`[${S}${w}] ${m.method} ${y} ${R.ok?"succeeded":"failed"} with status ${R.status} in ${F-M}ms`;if(!R.ok){const b=await this.shouldRetry(R);if(o&&b){const W=`retrying, ${o} attempts remaining`;return await oT(R.body),nt(this).info(`${q} - ${W}`),nt(this).debug(`[${S}] response error (${W})`,Pn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:F-M})),this.retryRequest(p,o,i??S,R.headers)}const z=b?"error; no more retries left":"error; not retryable";nt(this).info(`${q} - ${z}`);const te=await R.text().catch(W=>jl(W).message),Y=YE(te),Z=Y?void 0:te;throw nt(this).debug(`[${S}] response error (${z})`,Pn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,message:Z,durationMs:Date.now()-M})),this.makeStatusError(R.status,Y,Z,R.headers)}return nt(this).info(q),nt(this).debug(`[${S}] response start`,Pn({retryOfRequestLogID:i,url:R.url,status:R.status,headers:R.headers,durationMs:F-M})),{response:R,options:p,controller:D,requestLogID:S,retryOfRequestLogID:i,startTime:M}}async fetchWithTimeout(e,o,i,a){const c=o||{},{signal:f,method:p}=c,g=Ri(c,["signal","method"]);f&&f.addEventListener("abort",()=>a.abort());const m=setTimeout(()=>a.abort(),i),y=globalThis.ReadableStream&&g.body instanceof globalThis.ReadableStream||typeof g.body=="object"&&g.body!==null&&Symbol.asyncIterator in g.body,E=Object.assign(Object.assign(Object.assign({signal:a.signal},y?{duplex:"half"}:{}),{method:"GET"}),g);p&&(E.method=p.toUpperCase());try{return await this.fetch.call(void 0,e,E)}finally{clearTimeout(m)}}async shouldRetry(e){const o=e.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,o,i,a){var c;let f;const p=a==null?void 0:a.get("retry-after-ms");if(p){const m=parseFloat(p);Number.isNaN(m)||(f=m)}const g=a==null?void 0:a.get("retry-after");if(g&&!f){const m=parseFloat(g);Number.isNaN(m)?f=Date.parse(g)-Date.now():f=m*1e3}if(!(f&&0<=f&&f<60*1e3)){const m=(c=e.maxRetries)!==null&&c!==void 0?c:this.maxRetries;f=this.calculateDefaultRetryTimeoutMillis(o,m)}return await QE(f),this.makeRequest(e,o-1,i)}calculateDefaultRetryTimeoutMillis(e,o){const c=o-e,f=Math.min(.5*Math.pow(2,c),8),p=1-Math.random()*.25;return f*p*1e3}async buildRequest(e,{retryCount:o=0}={}){var i,a,c;const f=Object.assign({},e),{method:p,path:g,query:m,defaultBaseURL:y}=f,E=this.buildURL(g,m,y);"timeout"in f&&KE("timeout",f.timeout),f.timeout=(i=f.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:S,body:w}=this.buildBody({options:f}),M=await this.buildHeaders({options:e,method:p,bodyHeaders:S,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:p,headers:M},f.signal&&{signal:f.signal}),globalThis.ReadableStream&&w instanceof globalThis.ReadableStream&&{duplex:"half"}),w&&{body:w}),(a=this.fetchOptions)!==null&&a!==void 0?a:{}),(c=f.fetchOptions)!==null&&c!==void 0?c:{}),url:E,timeout:f.timeout}}async buildHeaders({options:e,method:o,bodyHeaders:i,retryCount:a}){let c={};this.idempotencyHeader&&o!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=e.idempotencyKey);const f=await this.authHeaders(e);let p=tr([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(a)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),eT()),this._options.defaultHeaders,i,e.headers,f]);return this.validateHeaders(p),p.values}buildBody({options:{body:e,headers:o}}){if(!e)return{bodyHeaders:void 0,body:void 0};const i=tr([o]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&i.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:nT(e)}:this.encoder({body:e,headers:i})}}Gi.DEFAULT_TIMEOUT=6e4;class $e extends Gi{constructor(){super(...arguments),this.interactions=new Qp(this)}}Zp=$e;$e.GeminiNextGenAPIClient=Zp;$e.GeminiNextGenAPIClientError=Tt;$e.APIError=ot;$e.APIConnectionError=Fi;$e.APIConnectionTimeoutError=Lp;$e.APIUserAbortError=ea;$e.NotFoundError=Gp;$e.ConflictError=Hp;$e.RateLimitError=Bp;$e.BadRequestError=Up;$e.AuthenticationError=Fp;$e.InternalServerError=qp;$e.PermissionDeniedError=Vp;$e.UnprocessableEntityError=bp;$e.toFile=uT;$e.Interactions=Qp;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(t,e){const o={},i=l(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function _T(t,e){const o={},i=l(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function CT(t,e){const o={},i=l(t,["sdkHttpResponse"]);return i!=null&&u(o,["sdkHttpResponse"],i),o}function wT(t,e){const o={},i=l(t,["sdkHttpResponse"]);return i!=null&&u(o,["sdkHttpResponse"],i),o}function IT(t,e,o){const i={};if(l(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const a=l(t,["tunedModelDisplayName"]);if(e!==void 0&&a!=null&&u(e,["displayName"],a),l(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=l(t,["epochCount"]);e!==void 0&&c!=null&&u(e,["tuningTask","hyperparameters","epochCount"],c);const f=l(t,["learningRateMultiplier"]);if(f!=null&&u(i,["tuningTask","hyperparameters","learningRateMultiplier"],f),l(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(l(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(l(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=l(t,["batchSize"]);e!==void 0&&p!=null&&u(e,["tuningTask","hyperparameters","batchSize"],p);const g=l(t,["learningRate"]);if(e!==void 0&&g!=null&&u(e,["tuningTask","hyperparameters","learningRate"],g),l(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(l(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function NT(t,e,o){const i={};let a=l(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&u(e,["supervisedTuningSpec"],np(w))}else if(a==="PREFERENCE_TUNING"){const w=l(t,["validationDataset"]);e!==void 0&&w!=null&&u(e,["preferenceOptimizationSpec"],np(w))}const c=l(t,["tunedModelDisplayName"]);e!==void 0&&c!=null&&u(e,["tunedModelDisplayName"],c);const f=l(t,["description"]);e!==void 0&&f!=null&&u(e,["description"],f);let p=l(o,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&u(e,["supervisedTuningSpec","hyperParameters","epochCount"],w)}else if(p==="PREFERENCE_TUNING"){const w=l(t,["epochCount"]);e!==void 0&&w!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],w)}let g=l(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&u(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],w)}else if(g==="PREFERENCE_TUNING"){const w=l(t,["learningRateMultiplier"]);e!==void 0&&w!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],w)}let m=l(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&u(e,["supervisedTuningSpec","exportLastCheckpointOnly"],w)}else if(m==="PREFERENCE_TUNING"){const w=l(t,["exportLastCheckpointOnly"]);e!==void 0&&w!=null&&u(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],w)}let y=l(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&u(e,["supervisedTuningSpec","hyperParameters","adapterSize"],w)}else if(y==="PREFERENCE_TUNING"){const w=l(t,["adapterSize"]);e!==void 0&&w!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],w)}if(l(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(l(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const E=l(t,["labels"]);e!==void 0&&E!=null&&u(e,["labels"],E);const S=l(t,["beta"]);return e!==void 0&&S!=null&&u(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),i}function AT(t,e){const o={},i=l(t,["baseModel"]);i!=null&&u(o,["baseModel"],i);const a=l(t,["preTunedModel"]);a!=null&&u(o,["preTunedModel"],a);const c=l(t,["trainingDataset"]);c!=null&&HT(c);const f=l(t,["config"]);return f!=null&&IT(f,o),o}function RT(t,e){const o={},i=l(t,["baseModel"]);i!=null&&u(o,["baseModel"],i);const a=l(t,["preTunedModel"]);a!=null&&u(o,["preTunedModel"],a);const c=l(t,["trainingDataset"]);c!=null&&bT(c,o,e);const f=l(t,["config"]);return f!=null&&NT(f,o,e),o}function kT(t,e){const o={},i=l(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function PT(t,e){const o={},i=l(t,["name"]);return i!=null&&u(o,["_url","name"],i),o}function MT(t,e,o){const i={},a=l(t,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function DT(t,e,o){const i={},a=l(t,["pageSize"]);e!==void 0&&a!=null&&u(e,["_query","pageSize"],a);const c=l(t,["pageToken"]);e!==void 0&&c!=null&&u(e,["_query","pageToken"],c);const f=l(t,["filter"]);return e!==void 0&&f!=null&&u(e,["_query","filter"],f),i}function LT(t,e){const o={},i=l(t,["config"]);return i!=null&&MT(i,o),o}function UT(t,e){const o={},i=l(t,["config"]);return i!=null&&DT(i,o),o}function FT(t,e){const o={},i=l(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const a=l(t,["nextPageToken"]);a!=null&&u(o,["nextPageToken"],a);const c=l(t,["tunedModels"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>jp(p))),u(o,["tuningJobs"],f)}return o}function VT(t,e){const o={},i=l(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const a=l(t,["nextPageToken"]);a!=null&&u(o,["nextPageToken"],a);const c=l(t,["tuningJobs"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>oa(p))),u(o,["tuningJobs"],f)}return o}function GT(t,e){const o={},i=l(t,["name"]);i!=null&&u(o,["model"],i);const a=l(t,["name"]);return a!=null&&u(o,["endpoint"],a),o}function HT(t,e){const o={};if(l(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(l(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=l(t,["examples"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(c=>c)),u(o,["examples","examples"],a)}return o}function bT(t,e,o){const i={};let a=l(o,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(a==="PREFERENCE_TUNING"){const f=l(t,["gcsUri"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}let c=l(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["supervisedTuningSpec","trainingDatasetUri"],f)}else if(c==="PREFERENCE_TUNING"){const f=l(t,["vertexDatasetResource"]);e!==void 0&&f!=null&&u(e,["preferenceOptimizationSpec","trainingDatasetUri"],f)}if(l(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function jp(t,e){const o={},i=l(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const a=l(t,["name"]);a!=null&&u(o,["name"],a);const c=l(t,["state"]);c!=null&&u(o,["state"],mp(c));const f=l(t,["createTime"]);f!=null&&u(o,["createTime"],f);const p=l(t,["tuningTask","startTime"]);p!=null&&u(o,["startTime"],p);const g=l(t,["tuningTask","completeTime"]);g!=null&&u(o,["endTime"],g);const m=l(t,["updateTime"]);m!=null&&u(o,["updateTime"],m);const y=l(t,["description"]);y!=null&&u(o,["description"],y);const E=l(t,["baseModel"]);E!=null&&u(o,["baseModel"],E);const S=l(t,["_self"]);return S!=null&&u(o,["tunedModel"],GT(S)),o}function oa(t,e){const o={},i=l(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const a=l(t,["name"]);a!=null&&u(o,["name"],a);const c=l(t,["state"]);c!=null&&u(o,["state"],mp(c));const f=l(t,["createTime"]);f!=null&&u(o,["createTime"],f);const p=l(t,["startTime"]);p!=null&&u(o,["startTime"],p);const g=l(t,["endTime"]);g!=null&&u(o,["endTime"],g);const m=l(t,["updateTime"]);m!=null&&u(o,["updateTime"],m);const y=l(t,["error"]);y!=null&&u(o,["error"],y);const E=l(t,["description"]);E!=null&&u(o,["description"],E);const S=l(t,["baseModel"]);S!=null&&u(o,["baseModel"],S);const w=l(t,["tunedModel"]);w!=null&&u(o,["tunedModel"],w);const M=l(t,["preTunedModel"]);M!=null&&u(o,["preTunedModel"],M);const D=l(t,["supervisedTuningSpec"]);D!=null&&u(o,["supervisedTuningSpec"],D);const R=l(t,["preferenceOptimizationSpec"]);R!=null&&u(o,["preferenceOptimizationSpec"],R);const F=l(t,["tuningDataStats"]);F!=null&&u(o,["tuningDataStats"],F);const q=l(t,["encryptionSpec"]);q!=null&&u(o,["encryptionSpec"],q);const b=l(t,["partnerModelTuningSpec"]);b!=null&&u(o,["partnerModelTuningSpec"],b);const z=l(t,["customBaseModel"]);z!=null&&u(o,["customBaseModel"],z);const te=l(t,["experiment"]);te!=null&&u(o,["experiment"],te);const Y=l(t,["labels"]);Y!=null&&u(o,["labels"],Y);const Z=l(t,["outputUri"]);Z!=null&&u(o,["outputUri"],Z);const he=l(t,["pipelineJob"]);he!=null&&u(o,["pipelineJob"],he);const W=l(t,["serviceAccount"]);W!=null&&u(o,["serviceAccount"],W);const ce=l(t,["tunedModelDisplayName"]);ce!=null&&u(o,["tunedModelDisplayName"],ce);const ae=l(t,["veoTuningSpec"]);return ae!=null&&u(o,["veoTuningSpec"],ae),o}function BT(t,e){const o={},i=l(t,["sdkHttpResponse"]);i!=null&&u(o,["sdkHttpResponse"],i);const a=l(t,["name"]);a!=null&&u(o,["name"],a);const c=l(t,["metadata"]);c!=null&&u(o,["metadata"],c);const f=l(t,["done"]);f!=null&&u(o,["done"],f);const p=l(t,["error"]);return p!=null&&u(o,["error"],p),o}function np(t,e){const o={},i=l(t,["gcsUri"]);i!=null&&u(o,["validationDatasetUri"],i);const a=l(t,["vertexDatasetResource"]);return a!=null&&u(o,["validationDatasetUri"],a),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qT extends Kt{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Mn(Wt.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var i;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const a={tunedModelName:o.baseModel};!((i=o.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(a.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:a});return c.baseModel=void 0,await this.tuneInternal(c)}else{const a=Object.assign({},o);return await this.tuneInternal(a)}else{const a=Object.assign({},o),c=await this.tuneMldevInternal(a);let f="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?f=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(f=c.name.split("/operations/")[0]),{name:f,state:$l.JOB_STATE_QUEUED}}}}async getInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=PT(e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>oa(y))}else{const m=kT(e);return p=$("{name}",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>jp(y))}}async listInternal(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=UT(e);return p=$("tuningJobs",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=VT(y),S=new Af;return Object.assign(S,E),S})}else{const m=LT(e);return p=$("tunedModels",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=FT(y),S=new Af;return Object.assign(S,E),S})}}async cancel(e){var o,i,a,c;let f,p="",g={};if(this.apiClient.isVertexAI()){const m=_T(e);return p=$("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=wT(y),S=new Rf;return Object.assign(S,E),S})}else{const m=TT(e);return p=$("{name}:cancel",m._url),g=m._query,delete m._url,delete m._query,f=this.apiClient.request({path:p,queryParams:g,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=e.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(c=e.config)===null||c===void 0?void 0:c.abortSignal}).then(y=>y.json().then(E=>{const S=E;return S.sdkHttpResponse={headers:y.headers},S})),f.then(y=>{const E=CT(y),S=new Rf;return Object.assign(S,E),S})}}async tuneInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI()){const p=RT(e,e);return c=$("tuningJobs",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>oa(g))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,i;let a,c="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=AT(e);return c=$("tunedModels",p._url),f=p._query,delete p._url,delete p._query,a=this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=e.config)===null||i===void 0?void 0:i.abortSignal}).then(g=>g.json().then(m=>{const y=m;return y.sdkHttpResponse={headers:g.headers},y})),a.then(g=>BT(g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zT{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const OT=1024*1024*8,$T=3,JT=1e3,WT=2,Pi="x-goog-upload-status";async function KT(t,e,o){var i;const a=await eh(t,e,o),c=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Pi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function YT(t,e,o){var i;const a=await eh(t,e,o),c=await(a==null?void 0:a.json());if(((i=a==null?void 0:a.headers)===null||i===void 0?void 0:i[Pi])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const f=up(c),p=new ua;return Object.assign(p,f),p}async function eh(t,e,o){var i,a;let c=0,f=0,p=new Jl(new Response),g="upload";for(c=t.size;f<c;){const m=Math.min(OT,c-f),y=t.slice(f,f+m);f+m>=c&&(g+=", finalize");let E=0,S=JT;for(;E<$T&&(p=await o.request({path:"",body:y,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(f),"Content-Length":String(m)}}}),!(!((i=p==null?void 0:p.headers)===null||i===void 0)&&i[Pi]));)E++,await XT(S),S=S*WT;if(f+=m,((a=p==null?void 0:p.headers)===null||a===void 0?void 0:a[Pi])!=="active")break;if(c<=f)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return p}async function QT(t){return{size:t.size,type:t.type}}function XT(t){return new Promise(e=>setTimeout(e,t))}class ZT{async upload(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await KT(e,o,i)}async uploadToFileSearchStore(e,o,i){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await YT(e,o,i)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await QT(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class jT{create(e,o,i){return new e_(e,o,i)}}class e_{constructor(e,o,i){this.url=e,this.headers=o,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const op="x-goog-api-key";class t_{constructor(e){this.apiKey=e}async addAuthHeaders(e,o){if(e.get(op)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(op,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const n_="gl-node/";class o_{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new $e({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=o.interactions,this._interactions}constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const i=Xg(e.httpOptions,e.vertexai,void 0,void 0);i&&(e.httpOptions?e.httpOptions.baseUrl=i:e.httpOptions={baseUrl:i}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const a=new t_(this.apiKey);this.apiClient=new QS({auth:a,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:n_+"web",uploader:new ZT,downloader:new zT}),this.models=new mE(this.apiClient),this.live=new uE(this.apiClient,a,new jT),this.batches=new I0(this.apiClient),this.chats=new ly(this.models,this.apiClient),this.caches=new ry(this.apiClient),this.files=new vy(this.apiClient),this.operations=new gE(this.apiClient),this.authTokens=new ME(this.apiClient),this.tunings=new qT(this.apiClient),this.fileSearchStores=new bE(this.apiClient)}}var r_={};const i_=({user:t,onLoginRequired:e})=>{const[o,i]=ue.useState("SEARCH"),[a,c]=ue.useState("New York"),[f,p]=ue.useState("Boston"),[g,m]=ue.useState(new Date().toISOString().split("T")[0]),[y,E]=ue.useState([]),[S,w]=ue.useState([]),[M,D]=ue.useState([]),[R,F]=ue.useState([]),[q,b]=ue.useState(!1),[z,te]=ue.useState(null),[Y,Z]=ue.useState([]),[he,W]=ue.useState(0),[ce,ae]=ue.useState(""),[Ie,pe]=ue.useState(!1),[ve,Je]=ue.useState([]),_e=ue.useRef(null),Ee=new Date().toISOString().split("T")[0];ue.useEffect(()=>{Me.getAvailableLocations().then(w)},[]),ue.useEffect(()=>{t&&o==="BOOKINGS"&&Me.getAllBookings().then(U=>{Je(U.filter(re=>re.customerName===t.name))})},[t,o]);const O=U=>{c(U),U.trim()?D(S.filter(re=>re.toLowerCase().includes(U.toLowerCase()))):D(S)},ie=U=>{p(U),U.trim()?F(S.filter(re=>re.toLowerCase().includes(U.toLowerCase()))):F(S)},J=async U=>{U&&U.preventDefault(),b(!0),D([]),F([]);const re=await Me.searchBuses(a.trim(),f.trim(),g);if(E(re),W(0),re.length>0){pe(!0);try{const Te=await new o_({apiKey:r_.API_KEY}).models.generateContent({model:"gemini-3-flash-preview",contents:`Quick travel tip for ${a} to ${f} for ${g}. 15 words max.`});ae(Te.text||"Safe travels!")}catch{ae("Safe journey!")}finally{pe(!1)}}},A=U=>{Z(re=>re.includes(U)?re.filter(ge=>ge!==U):[...re,U])},C=async()=>{if(!(!t||Y.length===0))try{await Me.createBooking({scheduleId:z.id,customerName:t.name,customerPhone:"555-0199",seats:Y,totalAmount:z.fare*Y.length}),W(2)}catch(U){alert(U.message)}},ee=()=>{const U=_e.current;U&&(typeof U.showPicker=="function"?U.showPicker():U.focus())};return x.jsxs("div",{className:"bg-slate-50 min-h-screen",children:[x.jsx("div",{className:"bg-indigo-900 text-white pt-10 pb-24 px-4",children:x.jsxs("div",{className:"max-w-7xl mx-auto",children:[x.jsxs("div",{className:"flex bg-white/10 w-fit p-1 rounded-xl mb-12",children:[x.jsx("button",{onClick:()=>i("SEARCH"),className:`px-6 py-2 rounded-lg text-xs font-black transition-all ${o==="SEARCH"?"bg-white text-indigo-900":"text-indigo-200"}`,children:"BUS SEARCH"}),x.jsx("button",{onClick:()=>i("BOOKINGS"),className:`px-6 py-2 rounded-lg text-xs font-black transition-all ${o==="BOOKINGS"?"bg-white text-indigo-900":"text-indigo-200"}`,children:"MY BOOKINGS"})]}),o==="SEARCH"&&x.jsxs("div",{className:"text-center animate-fade-in",children:[x.jsxs("h1",{className:"text-4xl md:text-5xl font-black mb-4 tracking-tight",children:["Journey Fast. Journey ",x.jsx("span",{className:"text-orange-400",children:"ASAP."})]}),x.jsx("p",{className:"text-indigo-100 mb-10 max-w-xl mx-auto font-medium",children:"Book tickets for your next adventure with zero hassle."}),x.jsxs("form",{onSubmit:J,className:"max-w-5xl mx-auto bg-white p-2 rounded-2xl shadow-2xl flex flex-col md:flex-row gap-2 relative z-[50]",children:[x.jsxs("div",{className:"flex-1 relative group",children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 rounded-xl border border-transparent focus-within:border-indigo-400 focus-within:bg-white transition-all",children:[x.jsx(Ed,{className:"text-slate-400 w-5 h-5"}),x.jsxs("div",{className:"text-left flex-1",children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"From"}),x.jsx("input",{value:a,onChange:U=>O(U.target.value),onFocus:()=>O(a),className:"w-full bg-transparent border-none focus:outline-none text-slate-900 font-bold",placeholder:"Departure City"})]})]}),M.length>0&&x.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white border rounded-xl shadow-2xl z-[60] overflow-hidden",children:M.map(U=>x.jsx("button",{type:"button",onClick:()=>{c(U),D([])},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 border-b last:border-0 font-bold text-slate-700",children:U},U))})]}),x.jsxs("div",{className:"flex-1 relative group",children:[x.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 bg-slate-50 rounded-xl border border-transparent focus-within:border-indigo-400 focus-within:bg-white transition-all",children:[x.jsx(Ed,{className:"text-slate-400 w-5 h-5"}),x.jsxs("div",{className:"text-left flex-1",children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"To"}),x.jsx("input",{value:f,onChange:U=>ie(U.target.value),onFocus:()=>ie(f),className:"w-full bg-transparent border-none focus:outline-none text-slate-900 font-bold",placeholder:"Destination"})]})]}),R.length>0&&x.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 bg-white border rounded-xl shadow-2xl z-[60] overflow-hidden",children:R.map(U=>x.jsx("button",{type:"button",onClick:()=>{p(U),F([])},className:"w-full text-left px-4 py-3 text-sm hover:bg-indigo-50 border-b last:border-0 font-bold text-slate-700",children:U},U))})]}),x.jsxs("div",{onClick:ee,className:"flex-1 flex items-center gap-3 px-4 py-3 bg-slate-50 rounded-xl border border-transparent hover:border-indigo-400 transition-all cursor-pointer group",children:[x.jsx(nr,{className:"text-slate-400 w-5 h-5 group-hover:text-indigo-600 transition-colors"}),x.jsxs("div",{className:"text-left flex-1",children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase",children:"Date"}),x.jsx("input",{ref:_e,type:"date",min:Ee,value:g,onClick:U=>U.stopPropagation(),onChange:U=>m(U.target.value),className:"w-full bg-transparent border-none focus:outline-none text-slate-900 font-bold cursor-pointer"})]})]}),x.jsxs("button",{type:"submit",className:"bg-orange-500 hover:bg-orange-600 text-white font-black px-10 py-4 rounded-xl transition-all flex items-center justify-center gap-2 shadow-lg shadow-orange-900/20 active:scale-95",children:[x.jsx(Td,{className:"w-5 h-5"})," Search"]})]})]})]})}),x.jsxs("div",{className:"max-w-7xl mx-auto px-4 -mt-12 pb-20 grid grid-cols-1 lg:grid-cols-3 gap-8",children:[x.jsx("div",{className:"lg:col-span-2 space-y-4",children:o==="SEARCH"?x.jsx(x.Fragment,{children:q?he===0?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"flex justify-between items-center mb-6 px-2",children:[x.jsx("h2",{className:"text-2xl font-black text-slate-900",children:"Available Journeys"}),x.jsxs("span",{className:"text-[10px] font-black bg-slate-200 text-slate-600 px-3 py-1 rounded-full uppercase tracking-widest",children:[y.length," Services Found"]})]}),y.length===0?x.jsxs("div",{className:"bg-white p-12 rounded-[2rem] border text-center shadow-sm animate-fade-in",children:[x.jsx(Td,{className:"w-12 h-12 text-slate-100 mx-auto mb-4"}),x.jsx("p",{className:"text-slate-400 font-bold",children:"No buses found for this selection."})]}):y.map(U=>x.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border shadow-sm hover:shadow-xl transition-all flex flex-col md:flex-row justify-between items-center gap-8 group animate-fade-in",children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[x.jsx("span",{className:"bg-indigo-50 text-indigo-600 text-[9px] font-black px-3 py-1 rounded-full uppercase tracking-wider border border-indigo-100",children:U.type.name}),x.jsxs("span",{className:"text-xs text-slate-300 font-bold",children:["# ",U.bus.plateNumber]})]}),x.jsxs("h3",{className:"text-2xl font-black text-slate-900 group-hover:text-indigo-600 transition-colors capitalize",children:[U.route.source," ",x.jsx(ia,{className:"inline-block w-5 h-5 mx-1 text-slate-300"})," ",U.route.destination]}),x.jsxs("div",{className:"flex items-center gap-8 mt-6 text-sm font-black",children:[x.jsxs("div",{children:[x.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1 font-bold",children:"Departure"}),new Date(U.departureTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]}),x.jsx("div",{className:"flex-1 h-[1px] bg-slate-100 relative min-w-[80px]",children:x.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white px-3 text-[9px] text-slate-300 italic border rounded-full font-bold",children:U.route.duration})}),x.jsxs("div",{className:"text-right",children:[x.jsx("div",{className:"text-[10px] text-slate-400 uppercase mb-1 font-bold",children:"Arrival"}),new Date(U.arrivalTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),x.jsxs("div",{className:"text-center md:text-right border-t md:border-t-0 md:border-l pt-6 md:pt-0 md:pl-10 border-slate-100 w-full md:w-52",children:[x.jsxs("p",{className:"text-4xl font-black text-indigo-600",children:["$",U.fare]}),x.jsx("button",{onClick:()=>{te(U),W(1)},className:"w-full mt-4 bg-slate-900 text-white font-black py-4 rounded-2xl hover:bg-indigo-600 transition-all shadow-lg hover:shadow-indigo-200",children:"Select Seats"}),x.jsxs("p",{className:"text-[10px] font-black text-orange-500 mt-3 uppercase tracking-widest",children:[U.availableSeats," Available"]})]})]},U.id))]}):he===1?x.jsxs("div",{className:"bg-white p-10 rounded-[2.5rem] border shadow-sm animate-fade-in",children:[x.jsx("button",{onClick:()=>W(0),className:"text-indigo-600 font-black text-xs uppercase tracking-widest mb-8 flex items-center gap-2",children:" Back to Results"}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16",children:[x.jsx("div",{className:"flex flex-col items-center bg-slate-50 p-10 rounded-[3.5rem] border-4 border-slate-100",children:x.jsx("div",{className:"grid grid-cols-4 gap-4",children:Array.from({length:z.type.seats}).map((U,re)=>x.jsx("button",{onClick:()=>A(re+1),className:`w-12 h-12 rounded-xl text-xs font-black transition-all ${Y.includes(re+1)?"bg-indigo-600 text-white shadow-xl":"bg-white border text-slate-600 hover:border-indigo-300"}`,children:re+1},re))})}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"bg-slate-50 p-8 rounded-3xl border",children:[x.jsxs("h4",{className:"font-black text-slate-900 mb-4 flex items-center gap-2",children:[x.jsx(wi,{className:"w-4 h-4 text-indigo-600"})," Traveler Info"]}),t?x.jsxs("div",{className:"p-4 bg-white rounded-2xl border border-indigo-100",children:[x.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:"Signed in as"}),x.jsx("p",{className:"font-black text-indigo-900",children:t.name})]}):x.jsx("button",{onClick:e,className:"w-full bg-indigo-50 text-indigo-600 font-black py-4 rounded-2xl border-2 border-dashed border-indigo-200 hover:bg-indigo-100",children:"Login to Continue"})]}),x.jsxs("div",{className:"bg-slate-900 text-white p-8 rounded-3xl shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between font-bold text-slate-400 mb-2 uppercase text-[10px]",children:[x.jsx("span",{children:"Seats:"}),x.jsxs("span",{children:[Y.length," Selected"]})]}),x.jsx("div",{className:"flex flex-wrap gap-2 mb-6",children:Y.map(U=>x.jsx("span",{className:"bg-white/10 px-3 py-1 rounded-lg text-xs font-black",children:U},U))}),x.jsxs("div",{className:"flex justify-between items-end text-3xl font-black border-t border-white/10 pt-6",children:[x.jsx("span",{children:"Total:"}),x.jsxs("span",{className:"text-orange-400",children:["$",Y.length*z.fare]})]}),x.jsx("button",{onClick:()=>t?C():e(),disabled:Y.length===0,className:"w-full mt-8 bg-orange-500 py-5 rounded-2xl font-black text-white hover:bg-orange-600 transition-all shadow-xl disabled:bg-slate-700 uppercase tracking-widest",children:"Pay & Book Now"})]})]})]})]}):x.jsxs("div",{className:"bg-white p-20 rounded-[3rem] border text-center animate-fade-in shadow-2xl",children:[x.jsx("div",{className:"w-24 h-24 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-8",children:x.jsx(rr,{className:"w-12 h-12"})}),x.jsx("h2",{className:"text-4xl font-black text-slate-900 mb-3",children:"Booking Success!"}),x.jsxs("p",{className:"text-slate-500 mb-10",children:["Ticket for #",Y.join(", ")," is confirmed."]}),x.jsx("button",{onClick:()=>{b(!1),W(0),Z([])},className:"bg-indigo-600 text-white font-black px-12 py-4 rounded-2xl",children:"Book Another Trip"})]}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{icon:rr,title:"Secure Booking"},{icon:_d,title:"Direct Routes"},{icon:Vg,title:"Premium Seats"}].map((U,re)=>x.jsxs("div",{className:"bg-white p-8 rounded-[2rem] border shadow-sm text-center hover:scale-105 transition-all",children:[x.jsx("div",{className:"bg-indigo-50 w-16 h-16 rounded-3xl mx-auto mb-4 flex items-center justify-center text-indigo-600",children:x.jsx(U.icon,{className:"w-8 h-8"})}),x.jsx("h3",{className:"font-black text-slate-900",children:U.title})]},re))})}):x.jsx("div",{className:"space-y-4",children:ve.length===0?x.jsx("div",{className:"bg-white p-12 rounded-[2rem] border text-center text-slate-400 italic",children:"No bookings found."}):ve.map(U=>x.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm flex justify-between items-center group hover:border-indigo-200 transition-all animate-fade-in",children:[x.jsxs("div",{className:"flex gap-4 items-center",children:[x.jsx("div",{className:"w-12 h-12 bg-slate-50 rounded-xl flex items-center justify-center text-slate-300 group-hover:text-indigo-600 transition-colors",children:x.jsx(sa,{className:"w-6 h-6"})}),x.jsxs("div",{children:[x.jsx("h4",{className:"font-black text-slate-900 capitalize",children:U.routeName}),x.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:new Date(U.bookedAt).toLocaleDateString()})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-xl font-black text-slate-900",children:["$",U.totalAmount]}),x.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:[U.seats.length," Seats"]})]})]},U.id))})}),x.jsx("div",{className:"space-y-6",children:x.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] border shadow-sm sticky top-24",children:[x.jsxs("h3",{className:"font-black flex items-center gap-2 mb-6 text-indigo-600 uppercase text-[10px] tracking-widest",children:[x.jsx(gg,{className:"w-5 h-5"})," Travel Assistant"]}),x.jsx("div",{className:"text-sm text-slate-600 leading-relaxed font-medium min-h-[60px]",children:Ie?x.jsxs("div",{className:"flex items-center gap-2 text-slate-300",children:[x.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full animate-bounce"})," Analyzing route..."]}):ce?x.jsxs("div",{className:"bg-indigo-50 p-5 rounded-2xl border border-indigo-100 relative animate-fade-in",children:[x.jsx("div",{className:"absolute -top-2 left-6 w-4 h-4 bg-indigo-50 border-t border-l border-indigo-100 rotate-45"}),ce]}):x.jsx("p",{className:"text-slate-400 italic",children:"Search for a bus to see AI tips!"})}),x.jsxs("div",{className:"mt-10 pt-10 border-t border-slate-50 space-y-5",children:[x.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-orange-50 text-orange-600 flex items-center justify-center group-hover:bg-orange-600 group-hover:text-white transition-all",children:x.jsx(_d,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-slate-900",children:"Live Track"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"GPS Ready"})]})]}),x.jsxs("div",{className:"flex items-center gap-4 group cursor-pointer",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-green-50 text-green-600 flex items-center justify-center group-hover:bg-green-600 group-hover:text-white transition-all",children:x.jsx(rr,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-black text-slate-900",children:"Verified"}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"Safe Journey"})]})]})]})]})})]})]})},s_=({user:t})=>{var A;const[e,o]=ue.useState("DASHBOARD"),[i,a]=ue.useState({stats:{activeBuses:0,totalRoutes:0,totalBookings:0,revenue:0},buses:[],routes:[],schedules:[],bookings:[],busTypes:[]}),[c,f]=ue.useState(!0),[p,g]=ue.useState(!1),[m,y]=ue.useState(!1),[E,S]=ue.useState(!1),[w,M]=ue.useState(!1),[D,R]=ue.useState(null),[F,q]=ue.useState(null),[b,z]=ue.useState([]),[te,Y]=ue.useState({plateNumber:"",typeId:"1",status:"ACTIVE",operatorId:t.id}),[Z,he]=ue.useState({source:"",destination:"",distance:0,duration:"4h 00m"}),[W,ce]=ue.useState({busId:"",routeId:"",departureTime:"",arrivalTime:"",fare:0}),[ae,Ie]=ue.useState({scheduleId:"",customerName:"",customerPhone:"",selectedSeats:[]}),pe=async()=>{f(!0);const[C,ee,U,re,ge,Te]=await Promise.all([Me.getDashboardStats(),Me.getBuses(),Me.getRoutes(),Me.getSchedules(),Me.getAllBookings(),Me.getBusTypes()]);a({stats:C,buses:ee,routes:U,schedules:re,bookings:ge,busTypes:Te}),f(!1)};ue.useEffect(()=>{pe()},[e]);const ve=async C=>{try{await C(),await pe()}catch(ee){alert(ee.message)}},Je=async C=>{q(C);const ee=await Me.getSeatMap(C.id);z(ee)},_e=async C=>{await Me.toggleSeatStatus(F.id,C);const ee=await Me.getSeatMap(F.id);z(ee)},Ee=(C,ee)=>{ee!=="BOOKED"&&Ie(U=>({...U,selectedSeats:U.selectedSeats.includes(C)?U.selectedSeats.filter(re=>re!==C):[...U.selectedSeats,C]}))},O=async C=>{C.preventDefault();const ee=i.schedules.find(U=>U.id===ae.scheduleId);ee&&(await ve(()=>Me.createBooking({scheduleId:ae.scheduleId,customerName:ae.customerName,customerPhone:ae.customerPhone,seats:ae.selectedSeats,totalAmount:ee.fare*ae.selectedSeats.length})),M(!1),Ie({scheduleId:"",customerName:"",customerPhone:"",selectedSeats:[]}))},ie=(()=>{switch(e){case"FLEET":return{label:"Add Bus",onClick:()=>g(!0)};case"ROUTES":return{label:"Add Route",onClick:()=>y(!0)};case"SCHEDULES":return{label:"Schedule Trip",onClick:()=>S(!0)};default:return{label:"Manual Booking",onClick:()=>M(!0)}}})(),J=[...i.bookings].sort((C,ee)=>ee.id.localeCompare(C.id)).slice(0,5);return x.jsxs("div",{className:"flex min-h-[calc(100vh-64px)] bg-slate-50",children:[x.jsxs("aside",{className:"w-64 bg-white border-r hidden md:flex flex-col p-6",children:[x.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mb-4",children:"Operations"}),x.jsx("nav",{className:"space-y-1",children:[{id:"DASHBOARD",icon:sp,label:"Dashboard"},{id:"FLEET",icon:lo,label:"Fleet"},{id:"ROUTES",icon:Vl,label:"Routes"},{id:"SCHEDULES",icon:nr,label:"Trips"},{id:"BOOKINGS",icon:Hl,label:"Bookings"}].map(C=>x.jsxs("button",{onClick:()=>o(C.id),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all font-medium ${e===C.id?"bg-indigo-50 text-indigo-600":"text-slate-500 hover:bg-slate-50"}`,children:[x.jsx(C.icon,{className:"w-5 h-5"})," ",C.label]},C.id))})]}),x.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[x.jsxs("header",{className:"flex justify-between items-center mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-black text-slate-900",children:e==="DASHBOARD"?"Operations Overview":e}),x.jsx("p",{className:"text-xs text-slate-400 font-bold uppercase tracking-wider",children:"ASAP Travels Management Suite"})]}),x.jsxs("button",{onClick:ie.onClick,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg font-bold flex items-center gap-2 shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:[x.jsx(kg,{className:"w-4 h-4"})," ",ie.label]})]}),c?x.jsxs("div",{className:"flex flex-col items-center justify-center h-64 gap-4",children:[x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})," ",x.jsx("p",{className:"text-sm font-bold text-slate-400",children:"Syncing with server..."})]}):x.jsxs("div",{className:"space-y-8 animate-fade-in",children:[e==="DASHBOARD"&&x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[x.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm flex justify-between group cursor-default",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Revenue"}),x.jsxs("p",{className:"text-2xl font-black text-slate-900",children:["$",i.stats.revenue]})]}),x.jsx("div",{className:"text-green-600 p-3 bg-green-50 rounded-xl",children:x.jsx(Bg,{className:"w-6 h-6"})})]}),x.jsxs("button",{onClick:()=>o("FLEET"),className:"bg-white p-6 rounded-2xl border shadow-sm flex justify-between group hover:shadow-md hover:border-indigo-200 transition-all text-left",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Fleet Size"}),x.jsx("p",{className:"text-2xl font-black text-slate-900 group-hover:text-indigo-600 transition-colors",children:i.stats.activeBuses})]}),x.jsx("div",{className:"text-indigo-600 p-3 bg-indigo-50 rounded-xl group-hover:bg-indigo-100 transition-colors",children:x.jsx(lo,{className:"w-6 h-6"})})]}),x.jsxs("button",{onClick:()=>o("ROUTES"),className:"bg-white p-6 rounded-2xl border shadow-sm flex justify-between group hover:shadow-md hover:border-orange-200 transition-all text-left",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Active Routes"}),x.jsx("p",{className:"text-2xl font-black text-slate-900 group-hover:text-orange-600 transition-colors",children:i.stats.totalRoutes})]}),x.jsx("div",{className:"text-orange-600 p-3 bg-orange-50 rounded-xl group-hover:bg-orange-100 transition-colors",children:x.jsx(Vl,{className:"w-6 h-6"})})]}),x.jsxs("button",{onClick:()=>o("BOOKINGS"),className:"bg-white p-6 rounded-2xl border shadow-sm flex justify-between group hover:shadow-md hover:border-blue-200 transition-all text-left",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase",children:"Bookings"}),x.jsx("p",{className:"text-2xl font-black text-slate-900 group-hover:text-blue-600 transition-colors",children:i.stats.totalBookings})]}),x.jsx("div",{className:"text-blue-600 p-3 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors",children:x.jsx(Hl,{className:"w-6 h-6"})})]})]}),x.jsxs("div",{className:"bg-white rounded-2xl border shadow-sm overflow-hidden",children:[x.jsxs("div",{className:"p-6 border-b flex justify-between items-center bg-slate-50/50",children:[x.jsxs("div",{children:[x.jsxs("h3",{className:"font-black text-slate-900 flex items-center gap-2",children:[x.jsx(sa,{className:"w-5 h-5 text-indigo-600"})," Recent Bookings"]}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest mt-0.5",children:"Live transaction feed"})]}),x.jsxs("button",{onClick:()=>o("BOOKINGS"),className:"text-indigo-600 text-xs font-bold flex items-center gap-1 hover:underline",children:["View All Bookings ",x.jsx(ia,{className:"w-3 h-3"})]})]}),x.jsx("div",{className:"divide-y",children:J.length===0?x.jsx("div",{className:"p-12 text-center text-slate-400 italic",children:"No bookings recorded yet."}):J.map(C=>x.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-slate-50/50 transition-colors group",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-400 group-hover:bg-indigo-100 group-hover:text-indigo-600 transition-colors",children:x.jsx(wi,{className:"w-5 h-5"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-bold text-slate-900",children:C.customerName}),x.jsx("p",{className:"text-[10px] text-slate-400 font-medium uppercase",children:C.routeName})]})]}),x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-sm font-black text-slate-900",children:["$",C.totalAmount]}),x.jsxs("p",{className:"text-[10px] text-slate-400 font-bold",children:[C.seats.length," Seats"]})]})]},C.id))}),J.length>0&&x.jsx("div",{className:"p-4 bg-slate-50 border-t text-center",children:x.jsx("p",{className:"text-[10px] text-slate-400 font-bold",children:"Showing latest 5 bookings. Switch to Bookings tab for full history."})})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[x.jsxs("div",{className:"bg-indigo-900 rounded-2xl p-6 text-white shadow-xl shadow-indigo-200",children:[x.jsx("h4",{className:"font-black text-lg mb-2",children:"Fleet Performance"}),x.jsx("p",{className:"text-indigo-200 text-sm mb-6",children:"Manage your resources and ensure high availability across all routes."}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("button",{onClick:()=>g(!0),className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl text-left transition-colors",children:[x.jsx(lo,{className:"w-5 h-5 mb-2 text-indigo-300"}),x.jsx("p",{className:"text-xs font-bold",children:"New Fleet"})]}),x.jsxs("button",{onClick:()=>S(!0),className:"bg-white/10 hover:bg-white/20 p-4 rounded-xl text-left transition-colors",children:[x.jsx(nr,{className:"w-5 h-5 mb-2 text-indigo-300"}),x.jsx("p",{className:"text-xs font-bold",children:"Schedule Trip"})]})]})]}),x.jsxs("div",{className:"bg-orange-500 rounded-2xl p-6 text-white shadow-xl shadow-orange-100",children:[x.jsx("h4",{className:"font-black text-lg mb-2",children:"Expansion Goals"}),x.jsxs("p",{className:"text-orange-100 text-sm mb-6",children:["Currently covering ",i.stats.totalRoutes," unique paths. Expand your network to grow revenue."]}),x.jsxs("button",{onClick:()=>y(!0),className:"w-full bg-white text-orange-600 font-bold py-3 rounded-xl shadow-md hover:bg-orange-50 transition-all flex items-center justify-center gap-2",children:[x.jsx(Vl,{className:"w-4 h-4"})," Add New Territory"]})]})]})]}),e==="FLEET"&&x.jsx("div",{className:"bg-white rounded-2xl border overflow-hidden shadow-sm",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-slate-50 uppercase text-[10px] font-black tracking-widest text-slate-500 border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:"Plate"}),x.jsx("th",{className:"p-4",children:"Type"}),x.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y",children:i.buses.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:3,className:"p-8 text-center text-slate-400 italic",children:"No buses in fleet."})}):i.buses.map(C=>x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"p-4 font-bold",children:C.plateNumber}),x.jsx("td",{className:"p-4 text-slate-500 font-medium",children:C.typeName}),x.jsx("td",{className:"p-4 text-right",children:x.jsx("button",{onClick:()=>ve(()=>Me.deleteBus(C.id)),className:"text-slate-300 hover:text-red-500 transition-colors p-2",children:x.jsx(Gl,{className:"w-4 h-4"})})})]},C.id))})]})}),e==="ROUTES"&&x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.routes.length===0?x.jsx("div",{className:"col-span-full bg-white p-12 text-center rounded-2xl border border-dashed border-slate-300 text-slate-400 italic",children:"No routes defined."}):i.routes.map(C=>x.jsxs("div",{className:"bg-white p-6 rounded-2xl border shadow-sm relative group hover:shadow-md transition-all",children:[x.jsx("button",{onClick:()=>ve(()=>Me.deleteRoute(C.id)),className:"absolute top-4 right-4 text-slate-200 hover:text-red-500 transition-colors",children:x.jsx(Gl,{className:"w-4 h-4"})}),x.jsxs("div",{className:"font-black text-slate-900 mb-1",children:[C.source,"  ",C.destination]}),x.jsxs("div",{className:"text-xs text-slate-400 font-bold tracking-widest uppercase",children:[C.distance," KM | ",C.duration]})]},C.id))}),e==="SCHEDULES"&&x.jsx("div",{className:"bg-white rounded-2xl border overflow-hidden shadow-sm",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-slate-50 uppercase text-[10px] font-black tracking-widest text-slate-500 border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:"Route"}),x.jsx("th",{className:"p-4",children:"Timing"}),x.jsx("th",{className:"p-4",children:"Fare"}),x.jsx("th",{className:"p-4 text-right",children:"Actions"})]})}),x.jsx("tbody",{className:"divide-y",children:i.schedules.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:4,className:"p-8 text-center text-slate-400 italic",children:"No trips scheduled."})}):i.schedules.map(C=>x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"p-4 font-bold",children:C.routeName}),x.jsxs("td",{className:"p-4",children:[x.jsx("div",{className:"font-bold text-slate-700",children:new Date(C.departureTime).toLocaleDateString()}),x.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:new Date(C.departureTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.jsxs("td",{className:"p-4 font-black text-indigo-600",children:["$",C.fare]}),x.jsxs("td",{className:"p-4 text-right flex justify-end gap-2",children:[x.jsx("button",{onClick:()=>Je(C),className:"p-2 text-slate-400 hover:text-orange-500 transition-colors",title:"Manage Seats",children:x.jsx(Hl,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>R(C),className:"p-2 text-slate-400 hover:text-indigo-600 transition-colors",title:"Edit Trip",children:x.jsx(Ug,{className:"w-4 h-4"})}),x.jsx("button",{onClick:()=>ve(()=>Me.deleteSchedule(C.id)),className:"p-2 text-slate-400 hover:text-red-500 transition-colors",title:"Cancel Trip",children:x.jsx(Gl,{className:"w-4 h-4"})})]})]},C.id))})]})}),e==="BOOKINGS"&&x.jsx("div",{className:"bg-white rounded-2xl border overflow-hidden shadow-sm",children:x.jsxs("table",{className:"w-full text-left text-sm",children:[x.jsx("thead",{className:"bg-slate-50 uppercase text-[10px] font-black tracking-widest text-slate-500 border-b",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-4",children:"Booking ID"}),x.jsx("th",{className:"p-4",children:"Customer"}),x.jsx("th",{className:"p-4",children:"Trip"}),x.jsx("th",{className:"p-4",children:"Seats"}),x.jsx("th",{className:"p-4",children:"Total"})]})}),x.jsx("tbody",{className:"divide-y",children:i.bookings.length===0?x.jsx("tr",{children:x.jsx("td",{colSpan:5,className:"p-8 text-center text-slate-400 italic",children:"No bookings found."})}):i.bookings.map(C=>x.jsxs("tr",{className:"hover:bg-slate-50",children:[x.jsx("td",{className:"p-4 font-mono text-[10px] font-bold text-indigo-600",children:C.id}),x.jsxs("td",{className:"p-4",children:[x.jsx("div",{className:"font-bold",children:C.customerName}),x.jsx("div",{className:"text-[10px] text-slate-400 font-bold",children:C.customerPhone})]}),x.jsx("td",{className:"p-4 text-xs font-bold text-slate-600",children:C.routeName}),x.jsx("td",{className:"p-4",children:x.jsx("div",{className:"flex gap-1",children:C.seats.map(ee=>x.jsx("span",{className:"bg-slate-100 text-slate-600 px-1.5 py-0.5 rounded text-[10px] font-black",children:ee},ee))})}),x.jsxs("td",{className:"p-4 font-black text-slate-900",children:["$",C.totalAmount]})]},C.id))})]})})]})]}),p&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 animate-fade-in",children:[x.jsx("h3",{className:"text-xl font-black mb-6",children:"Add New Bus"}),x.jsxs("form",{onSubmit:C=>{C.preventDefault(),ve(()=>Me.addBus(te)).then(()=>g(!1))},className:"space-y-4",children:[x.jsx("input",{required:!0,value:te.plateNumber,onChange:C=>Y({...te,plateNumber:C.target.value}),className:"w-full border p-4 rounded-xl text-sm",placeholder:"Plate Number (e.g., ASAP-101)"}),x.jsx("select",{className:"w-full border p-4 rounded-xl text-sm bg-slate-50 font-bold",value:te.typeId,onChange:C=>Y({...te,typeId:C.target.value}),children:i.busTypes.map(C=>x.jsxs("option",{value:C.id,children:[C.name," (",C.seats," Seats)"]},C.id))}),x.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-indigo-700 transition-all",children:"Confirm Add to Fleet"}),x.jsx("button",{type:"button",onClick:()=>g(!1),className:"w-full text-slate-400 font-bold py-2",children:"Cancel"})]})]})}),m&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 animate-fade-in",children:[x.jsx("h3",{className:"text-xl font-black mb-6",children:"Create New Route"}),x.jsxs("form",{onSubmit:C=>{C.preventDefault(),ve(()=>Me.addRoute(Z)).then(()=>y(!1))},className:"space-y-4",children:[x.jsx("input",{required:!0,value:Z.source,onChange:C=>he({...Z,source:C.target.value}),className:"w-full border p-4 rounded-xl text-sm",placeholder:"Pickup City"}),x.jsx("input",{required:!0,value:Z.destination,onChange:C=>he({...Z,destination:C.target.value}),className:"w-full border p-4 rounded-xl text-sm",placeholder:"Drop City"}),x.jsx("input",{required:!0,type:"number",onChange:C=>he({...Z,distance:parseInt(C.target.value)}),className:"w-full border p-4 rounded-xl text-sm",placeholder:"Distance KM"}),x.jsx("button",{type:"submit",className:"w-full bg-orange-500 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-orange-600 transition-all",children:"Confirm Route"}),x.jsx("button",{type:"button",onClick:()=>y(!1),className:"w-full text-slate-400 font-bold py-2",children:"Cancel"})]})]})}),E&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl shadow-2xl p-6 animate-fade-in",children:[x.jsx("h3",{className:"text-xl font-black mb-6",children:"Schedule Trip"}),x.jsxs("form",{onSubmit:C=>{C.preventDefault(),ve(()=>Me.addSchedule(W)).then(()=>S(!1))},className:"space-y-4",children:[x.jsxs("select",{required:!0,className:"w-full border p-3 rounded-xl text-sm font-bold bg-slate-50",onChange:C=>ce({...W,busId:C.target.value}),children:[x.jsx("option",{value:"",children:"Select Assigned Bus"}),i.buses.map(C=>x.jsxs("option",{value:C.id,children:[C.plateNumber," (",C.typeName,")"]},C.id))]}),x.jsxs("select",{required:!0,className:"w-full border p-3 rounded-xl text-sm font-bold bg-slate-50",onChange:C=>ce({...W,routeId:C.target.value}),children:[x.jsx("option",{value:"",children:"Select Route"}),i.routes.map(C=>x.jsxs("option",{value:C.id,children:[C.source,"  ",C.destination]},C.id))]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Departure"}),x.jsx("input",{type:"datetime-local",required:!0,className:"w-full border p-3 rounded-xl text-sm",onChange:C=>ce({...W,departureTime:C.target.value})})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase ml-1",children:"Arrival"}),x.jsx("input",{type:"datetime-local",required:!0,className:"w-full border p-3 rounded-xl text-sm",onChange:C=>ce({...W,arrivalTime:C.target.value})})]}),x.jsx("input",{type:"number",required:!0,className:"w-full border p-3 rounded-xl text-sm",placeholder:"Fare Per Ticket ($)",onChange:C=>ce({...W,fare:parseFloat(C.target.value)})}),x.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg hover:bg-indigo-700 transition-all",children:"Create Trip Instance"}),x.jsx("button",{type:"button",onClick:()=>S(!1),className:"w-full text-slate-400 font-bold py-2",children:"Cancel"})]})]})}),w&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-4xl rounded-[2.5rem] p-8 animate-fade-in flex flex-col max-h-[90vh] shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("div",{children:[x.jsx("h3",{className:"text-2xl font-black",children:"Agent Manual Booking"}),x.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-widest",children:"Entry for offline customers"})]}),x.jsx("button",{onClick:()=>M(!1),className:"p-2 bg-slate-100 rounded-full hover:bg-red-50 hover:text-red-500 transition-all",children:x.jsx(ql,{className:"w-6 h-6"})})]}),x.jsxs("form",{onSubmit:O,className:"grid grid-cols-1 lg:grid-cols-2 gap-12 overflow-y-auto pr-4",children:[x.jsxs("div",{className:"space-y-6",children:[x.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border",children:[x.jsxs("h4",{className:"font-black text-slate-900 mb-4 flex items-center gap-2",children:[x.jsx(nr,{className:"w-4 h-4"})," Trip Details"]}),x.jsxs("select",{required:!0,className:"w-full border p-4 rounded-xl text-sm font-bold mb-4",value:ae.scheduleId,onChange:async C=>{const ee=C.target.value;if(Ie({...ae,scheduleId:ee,selectedSeats:[]}),ee){const U=await Me.getSeatMap(ee);z(U)}},children:[x.jsx("option",{value:"",children:"-- Choose a Scheduled Trip --"}),i.schedules.map(C=>x.jsxs("option",{value:C.id,children:[C.routeName," (",new Date(C.departureTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),")"]},C.id))]})]}),x.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border",children:[x.jsxs("h4",{className:"font-black text-slate-900 mb-4 flex items-center gap-2",children:[x.jsx(wi,{className:"w-4 h-4"})," Customer Info"]}),x.jsxs("div",{className:"space-y-3",children:[x.jsx("input",{required:!0,className:"w-full border p-4 rounded-xl text-sm",placeholder:"Full Name",value:ae.customerName,onChange:C=>Ie({...ae,customerName:C.target.value})}),x.jsx("input",{required:!0,className:"w-full border p-4 rounded-xl text-sm",placeholder:"Phone Number",value:ae.customerPhone,onChange:C=>Ie({...ae,customerPhone:C.target.value})})]})]}),x.jsxs("div",{className:"bg-slate-900 text-white p-6 rounded-2xl",children:[x.jsxs("div",{className:"flex justify-between font-bold mb-1",children:[x.jsx("span",{children:"Selected Seats:"})," ",x.jsx("span",{className:"text-orange-400",children:ae.selectedSeats.join(", ")||"None"})]}),x.jsxs("div",{className:"flex justify-between items-end border-t border-slate-700 mt-4 pt-4",children:[x.jsx("span",{className:"text-slate-400 text-sm font-bold uppercase",children:"Total Fare"}),x.jsxs("span",{className:"text-3xl font-black",children:["$",ae.scheduleId?(((A=i.schedules.find(C=>C.id===ae.scheduleId))==null?void 0:A.fare)||0)*ae.selectedSeats.length:0]})]}),x.jsx("button",{type:"submit",disabled:!ae.scheduleId||ae.selectedSeats.length===0,className:"w-full bg-orange-500 hover:bg-orange-600 disabled:bg-slate-700 disabled:cursor-not-allowed text-white font-black py-4 rounded-xl mt-6 transition-all shadow-lg shadow-orange-900/20",children:"Confirm Manual Booking"})]})]}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("h4",{className:"font-black text-slate-400 mb-6 uppercase tracking-widest text-[10px]",children:"Seat Selection"}),ae.scheduleId?x.jsx("div",{className:"bg-slate-50 p-8 rounded-[3.5rem] border-4 border-slate-100 grid grid-cols-4 gap-4 w-full max-w-sm",children:b.map(C=>x.jsx("button",{type:"button",disabled:C.status==="BOOKED",onClick:()=>Ee(C.seatNumber,C.status),className:`w-12 h-12 rounded-xl text-xs font-black transition-all transform active:scale-95 ${C.status==="BOOKED"?"bg-slate-200 text-slate-400 cursor-not-allowed":ae.selectedSeats.includes(C.seatNumber)?"bg-indigo-600 text-white shadow-xl scale-110":"bg-white border hover:border-indigo-300 text-slate-600"}`,children:C.seatNumber},C.id))}):x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 italic border-2 border-dashed border-slate-100 w-full rounded-[3.5rem] p-12 text-center",children:[x.jsx(nr,{className:"w-12 h-12 mb-4 opacity-10"}),"Select a trip to see seat availability"]})]})]})]})}),D&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/40 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-md rounded-2xl p-6 animate-fade-in shadow-2xl",children:[x.jsx("h3",{className:"text-xl font-black mb-6",children:"Edit Trip Data"}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Departure"}),x.jsx("input",{type:"datetime-local",value:D.departureTime,onChange:C=>R({...D,departureTime:C.target.value}),className:"w-full border p-3 rounded-xl text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Arrival"}),x.jsx("input",{type:"datetime-local",value:D.arrivalTime,onChange:C=>R({...D,arrivalTime:C.target.value}),className:"w-full border p-3 rounded-xl text-sm"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase",children:"Fare ($)"}),x.jsx("input",{type:"number",value:D.fare,onChange:C=>R({...D,fare:parseFloat(C.target.value)}),className:"w-full border p-3 rounded-xl text-sm"})]}),x.jsx("button",{onClick:()=>ve(()=>Me.updateSchedule(D.id,D)).then(()=>R(null)),className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg",children:"Save Updated Details"}),x.jsx("button",{onClick:()=>R(null),className:"w-full text-slate-400 font-bold py-2",children:"Cancel"})]})]})}),F&&x.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-white w-full max-w-2xl rounded-[2.5rem] p-10 animate-fade-in flex flex-col max-h-[90vh] shadow-2xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h3",{className:"text-2xl font-black",children:"Seat Lockdown Manager"}),x.jsx("button",{onClick:()=>q(null),className:"p-2 bg-slate-100 rounded-full",children:x.jsx(ql,{className:"w-6 h-6"})})]}),x.jsxs("p",{className:"text-xs text-slate-500 mb-8 font-black uppercase tracking-widest text-center bg-indigo-50 p-3 rounded-xl text-indigo-700",children:["Manually Block seats for ",F.routeName]}),x.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-50 p-10 rounded-[3.5rem] border-4 border-slate-100 grid grid-cols-4 md:grid-cols-6 gap-4",children:b.map(C=>x.jsxs("button",{onClick:()=>_e(C.seatNumber),className:`w-14 h-14 rounded-2xl text-[10px] font-black shadow-sm transition-all transform active:scale-95 ${C.status==="AVAILABLE"?"bg-white text-slate-600 border hover:border-indigo-400":C.bookingId?"bg-indigo-600 text-white":"bg-red-500 text-white"}`,children:[C.seatNumber,x.jsx("br",{}),C.bookingId?"BOOKED":C.status==="AVAILABLE"?"AVAIL":"BLOCKED"]},C.id))}),x.jsx("button",{onClick:()=>q(null),className:"mt-8 bg-slate-900 text-white py-5 rounded-[1.5rem] font-black hover:bg-slate-800 transition-all",children:"Exit Management Console"})]})})]})},l_=({onLogin:t,initialMode:e="CUSTOMER",onCancel:o})=>{const[i,a]=ue.useState(e==="STAFF"),[c,f]=ue.useState("LOGIN"),[p,g]=ue.useState(""),[m,y]=ue.useState(""),[E,S]=ue.useState(""),[w,M]=ue.useState(!1),[D,R]=ue.useState("");ue.useEffect(()=>{a(e==="STAFF")},[e]);const F=async q=>{q.preventDefault(),M(!0),R("");try{let b;if(c==="LOGIN"){if(b=await Me.login(m,E),i&&b.role==="CUSTOMER")throw new Error("Invalid credentials for Staff Portal.")}else b=await Me.register(p,m,E);t(b)}catch(b){R(b.message||"Operation failed")}finally{M(!1)}};return x.jsx("div",{className:"min-h-screen fixed inset-0 z-[100] flex items-center justify-center p-4 bg-slate-900/40 backdrop-blur-md animate-fade-in",children:x.jsxs("div",{className:"w-full max-w-md relative",children:[o&&x.jsx("button",{onClick:o,className:"absolute -top-12 right-0 p-2 text-white hover:bg-white/10 rounded-full transition-all",children:x.jsx(ql,{className:"w-6 h-6"})}),x.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 shadow-2xl border border-slate-100 relative overflow-hidden",children:[x.jsxs("div",{className:"flex flex-col items-center mb-8",children:[x.jsx("div",{className:`p-3 rounded-2xl mb-4 shadow-xl transition-all ${i?"bg-slate-900 shadow-slate-200":"bg-indigo-600 shadow-indigo-100"}`,children:x.jsx(lo,{className:"text-white w-6 h-6"})}),x.jsx("h2",{className:"text-2xl font-black text-slate-900",children:i?"Staff Portal":c==="LOGIN"?"Customer Login":"Create Account"}),x.jsx("p",{className:"text-sm text-slate-400 font-bold uppercase tracking-widest mt-1 text-[10px]",children:i?"Fleet & Operations":"Bookings & Travel"})]}),x.jsxs("form",{onSubmit:F,className:"space-y-6 relative z-10",children:[x.jsxs("div",{className:"space-y-4",children:[!i&&c==="REGISTER"&&x.jsxs("div",{className:"relative animate-fade-in",children:[x.jsx(wi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),x.jsx("input",{required:!0,type:"text",value:p,onChange:q=>g(q.target.value),placeholder:"Full Name",className:"w-full bg-slate-50 border-none p-4 pl-12 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-indigo-500 transition-all outline-none"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(Ng,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),x.jsx("input",{required:!0,type:"email",value:m,onChange:q=>y(q.target.value),placeholder:"Email Address",className:"w-full bg-slate-50 border-none p-4 pl-12 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-indigo-500 transition-all outline-none"})]}),x.jsxs("div",{className:"relative",children:[x.jsx(_g,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400"}),x.jsx("input",{required:!0,type:"password",value:E,onChange:q=>S(q.target.value),placeholder:"Password",className:"w-full bg-slate-50 border-none p-4 pl-12 rounded-2xl text-sm font-medium focus:ring-2 focus:ring-indigo-500 transition-all outline-none"})]})]}),D&&x.jsx("p",{className:"text-xs font-bold text-red-500 bg-red-50 p-3 rounded-xl border border-red-100 text-center animate-fade-in",children:D}),x.jsx("button",{type:"submit",disabled:w,className:`w-full text-white font-black py-4 rounded-2xl shadow-lg transition-all flex items-center justify-center gap-2 group disabled:opacity-70 ${i?"bg-slate-900 hover:bg-black":"bg-indigo-600 hover:bg-indigo-700 shadow-indigo-100"}`,children:w?x.jsx(Eg,{className:"w-5 h-5 animate-spin"}):x.jsxs(x.Fragment,{children:[i?"Enter Terminal":c==="LOGIN"?"Login to ASAP":"Sign Up Free"," ",x.jsx(ia,{className:"w-4 h-4 group-hover:translate-x-1 transition-transform"})]})}),!i&&x.jsx("div",{className:"text-center pt-2",children:x.jsx("button",{type:"button",onClick:()=>{f(c==="LOGIN"?"REGISTER":"LOGIN"),R("")},className:"text-xs font-bold text-slate-400 hover:text-indigo-600 transition-colors",children:c==="LOGIN"?x.jsxs(x.Fragment,{children:["Don't have an account? ",x.jsx("span",{className:"text-indigo-600",children:"Register Now"})]}):x.jsxs(x.Fragment,{children:["Already have an account? ",x.jsx("span",{className:"text-indigo-600",children:"Log In"})]})})})]}),x.jsx("div",{className:`absolute -bottom-10 -right-10 w-32 h-32 rounded-full blur-3xl opacity-20 transition-all ${i?"bg-slate-400":"bg-indigo-400"}`})]}),x.jsx("div",{className:"mt-8 p-4 bg-white/10 backdrop-blur-md rounded-2xl text-[10px] font-mono text-white/60 border border-white/10 text-center",children:i?x.jsxs("p",{children:["Admin: admin@asap.com | Staff: staff@asap.com ",x.jsx("br",{})," Pwd: password123"]}):c==="LOGIN"?x.jsx("p",{children:"Customer: customer@test.com | Pwd: password123"}):x.jsx("p",{children:"Enter your details above to create a new traveler profile."})})]})})},a_=()=>{var m;const[t,e]=ue.useState(()=>{const y=localStorage.getItem("ASAP_AUTH_USER");if(y){const E=JSON.parse(y);return{view:E.role==="CUSTOMER"?"CUSTOMER":"ADMIN",currentUser:E}}return{view:"CUSTOMER",currentUser:null}}),[o,i]=ue.useState(!1),[a,c]=ue.useState("CUSTOMER"),f=y=>{localStorage.setItem("ASAP_AUTH_USER",JSON.stringify(y)),e({view:y.role==="CUSTOMER"?"CUSTOMER":"ADMIN",currentUser:y}),i(!1)},p=()=>{localStorage.removeItem("ASAP_AUTH_USER"),e({view:"CUSTOMER",currentUser:null})},g=y=>{c(y),i(!0)};return x.jsxs("div",{className:"min-h-screen flex flex-col relative",children:[o&&x.jsx(l_,{onLogin:f,initialMode:a,onCancel:()=>i(!1)}),x.jsx("header",{className:"bg-white border-b sticky top-0 z-50 shadow-sm",children:x.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-16 flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>e(y=>({...y,view:"CUSTOMER"})),children:[x.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg shadow-lg shadow-indigo-100",children:x.jsx(lo,{className:"text-white w-6 h-6"})}),x.jsxs("span",{className:"text-2xl font-black tracking-tight text-indigo-900",children:["ASAP ",x.jsx("span",{className:"text-orange-500",children:"Travels"})]})]}),x.jsxs("nav",{className:"hidden md:flex items-center gap-8",children:[x.jsx("button",{onClick:()=>e(y=>({...y,view:"CUSTOMER"})),className:`font-bold transition-colors text-sm ${t.view==="CUSTOMER"?"text-indigo-600":"text-slate-500 hover:text-indigo-600"}`,children:"Book Tickets"}),x.jsx("a",{href:"#",className:"text-slate-500 hover:text-indigo-600 font-bold text-sm",children:"Offers"}),((m=t.currentUser)==null?void 0:m.role)!=="CUSTOMER"&&t.currentUser&&x.jsxs("button",{onClick:()=>e(y=>({...y,view:"ADMIN"})),className:`font-bold transition-colors text-sm flex items-center gap-2 ${t.view==="ADMIN"?"text-indigo-600":"text-slate-500 hover:text-indigo-600"}`,children:[x.jsx(sp,{className:"w-4 h-4"})," Management"]})]}),x.jsx("div",{className:"flex items-center gap-4",children:t.currentUser?x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{className:"text-right hidden sm:block",children:[x.jsx("p",{className:"text-sm font-black text-slate-900 leading-none mb-1",children:t.currentUser.name}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider",children:t.currentUser.role})]}),x.jsx("button",{onClick:p,className:"p-2.5 bg-slate-50 rounded-xl text-slate-400 hover:text-red-500 hover:bg-red-50 transition-all border border-slate-100",children:x.jsx(wg,{className:"w-5 h-5"})})]}):x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("button",{onClick:()=>g("STAFF"),className:"hidden sm:flex items-center gap-2 px-4 py-2 text-xs font-bold text-slate-400 hover:text-indigo-600 transition-all",children:[x.jsx(rr,{className:"w-4 h-4"})," Staff Login"]}),x.jsx("button",{onClick:()=>g("CUSTOMER"),className:"bg-indigo-600 text-white px-5 py-2.5 rounded-xl font-bold text-sm shadow-lg shadow-indigo-100 hover:bg-indigo-700 transition-all active:scale-95",children:"Login / Sign Up"})]})})]})}),x.jsx("main",{className:"flex-grow",children:t.view==="CUSTOMER"?x.jsx(i_,{user:t.currentUser,onLoginRequired:()=>g("CUSTOMER")}):x.jsx(s_,{user:t.currentUser})}),x.jsxs("footer",{className:"bg-slate-900 text-slate-500 py-16 px-4",children:[x.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-12",children:[x.jsxs("div",{className:"col-span-1 md:col-span-1",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[x.jsx(lo,{className:"text-indigo-500 w-8 h-8"}),x.jsx("span",{className:"text-2xl font-black text-white",children:"ASAP Travels"})]}),x.jsx("p",{className:"text-sm leading-relaxed mb-6",children:"Redefining bus travel with speed, luxury, and security. Experience the next generation of transit."}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center hover:bg-indigo-600 transition-colors cursor-pointer",children:x.jsx(sa,{className:"w-5 h-5 text-white"})}),x.jsx("div",{className:"w-10 h-10 rounded-xl bg-slate-800 flex items-center justify-center hover:bg-indigo-600 transition-colors cursor-pointer",children:x.jsx(rr,{className:"w-5 h-5 text-white"})})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-black uppercase text-xs tracking-widest mb-6",children:"Explore"}),x.jsxs("ul",{className:"space-y-4 text-sm font-bold",children:[x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Route Map"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Offers & Coupons"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Premium Lounges"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Mobile App"})})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-black uppercase text-xs tracking-widest mb-6",children:"Support"}),x.jsxs("ul",{className:"space-y-4 text-sm font-bold",children:[x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Help Center"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Ticket Cancellation"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Travel Insurance"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Contact Us"})})]})]}),x.jsxs("div",{children:[x.jsx("h4",{className:"text-white font-black uppercase text-xs tracking-widest mb-6",children:"Partners"}),x.jsxs("ul",{className:"space-y-4 text-sm font-bold",children:[x.jsx("li",{children:x.jsx("button",{onClick:()=>g("STAFF"),className:"hover:text-indigo-400 transition-colors",children:"Staff Login"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Operator Sign Up"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"Corporate Travel"})}),x.jsx("li",{children:x.jsx("a",{href:"#",className:"hover:text-indigo-400 transition-colors",children:"API Integration"})})]})]})]}),x.jsxs("div",{className:"max-w-7xl mx-auto border-t border-slate-800 mt-16 pt-8 flex flex-col md:flex-row justify-between items-center gap-4 text-[10px] font-bold uppercase tracking-widest",children:[x.jsx("span",{children:" 2025 ASAP Travels. Premium Transit Solutions."}),x.jsxs("div",{className:"flex gap-8",children:[x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"}),x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"}),x.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookies"})]})]})]})]})},th=document.getElementById("root");if(!th)throw new Error("Could not find root element to mount to");const u_=ag.createRoot(th);u_.render(x.jsx(tg.StrictMode,{children:x.jsx(a_,{})}));
